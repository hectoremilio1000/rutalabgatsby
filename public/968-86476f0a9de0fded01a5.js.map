{"version":3,"sources":["webpack://rutalab/./node_modules/@aws-amplify/ui-components/dist/esm-es5/amplify-radio-button_2.entry.js","webpack://rutalab/./node_modules/@aws-amplify/ui-components/dist/esm-es5/auth-helpers-c05e889e.js","webpack://rutalab/./node_modules/buffer/index.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","AmplifyRadioButton","hostRef","r","placeholder","checked","disabled","prototype","render","h","class","Object","assign","type","name","onInput","handleInputChange","id","fieldId","inputProps","htmlFor","style","canPromise","toString","isarray","Array","isArray","arr","Buffer","TYPED_ARRAY_SUPPORT","Uint8Array","__proto__","foo","typedArraySupport","K_MAX_LENGTH","arg","offset","allocUnsafe","that","ArrayBuffer","array","byteOffset","byteLength","RangeError","buf","undefined","fromArrayLike","fromArrayBuffer","string","createBuffer","actual","write","slice","fromString","obj","isBuffer","len","copy","buffer","val","data","fromObject","from","size","i","utf8ToBytes","units","codePoint","Infinity","leadSurrogate","bytes","charCodeAt","Error","isView","species","defineProperty","configurable","enumerable","writable","isFinite","remaining","src","dst","blitBuffer","utf8Write","start","end","newBuf","subarray","sliceLen","target","targetStart","set","fill","code","concat","list","pos","_isBuffer","b","toSJISFunction","typedarrayBuffer","CODEWORDS_COUNT","utils","version","digit","kanji","createCommonjsModule","fn","basedir","module","path","exports","require","base","commonjsRequire","errorCorrectionLevel","L","bit","M","Q","H","isValid","level","defaultValue","toLowerCase","BitBuffer","get","index","bufIndex","Math","floor","put","num","putBit","getLengthInBits","bitBuffer","BitMatrix","reservedBit","row","col","reserved","xor","isReserved","bitMatrix","alignmentPattern","getSymbolSize","getRowColCoords","posCount","intervals","ceil","positions","reverse","getPositions","coords","posLength","j","getSymbolSize$1","finderPattern","maskPattern","Patterns","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PenaltyScores","getMaskAt","mask","isNaN","parseInt","getPenaltyN1","points","sameCountCol","sameCountRow","lastCol","lastRow","getPenaltyN2","last","getPenaltyN3","bitsCol","bitsRow","getPenaltyN4","darkCount","modulesCount","abs","applyMask","pattern","getBestMask","setupFormatFunc","numPatterns","keys","bestPattern","lowerPenalty","p","penalty","EC_BLOCKS_TABLE","EC_CODEWORDS_TABLE","errorCorrectionCode","errorCorrectionLevel$1","EXP_TABLE","LOG_TABLE","x","galoisField","polynomial","mul","p1","p2","coeff","mod","divident","divisor","generateECPolynomial","degree","poly","Buffer$1","ReedSolomonEncoder","genPoly","initialize","encode","pad","paddedData","remainder","buff","reedSolomonEncoder","versionCheck","numeric","byte","replace","KANJI","RegExp","BYTE_KANJI","BYTE","NUMERIC","ALPHANUMERIC","TEST_KANJI","TEST_NUMERIC","TEST_ALPHANUMERIC","regex","testKanji","str","test","testNumeric","testAlphanumeric","mode","ccBits","MIXED","getCharCountIndicator","getBestModeForData","dataStr","G18_BCH","getReservedBitsCount","mode$1","getTotalBitsFromDataArray","segments","totalBits","forEach","reservedBits","getBitsLength","getCapacity","dataTotalCodewordsBits","usableBits","getBestVersionForData","seg","ecl","currentVersion","getBestVersionForMixedData","getBestVersionForDataLength","getLength","getEncodedBits","d","G15_BCH","formatInfo","NumericData","group","substr","remainingNum","numericData","ALPHA_NUM_CHARS","AlphanumericData","indexOf","alphanumericData","ByteData","l","byteData","KanjiData","kanjiData","dijkstra_1","dijkstra","single_source_shortest_paths","graph","s","predecessors","costs","closest","u","cost_of_s_to_u","adjacent_nodes","cost_of_s_to_u_plus_cost_of_e","cost_of_s_to_v","open","PriorityQueue","make","empty","cost","hasOwnProperty","msg","join","extract_shortest_path_from_predecessor_list","nodes","find_path","opts","key","T","queue","sorter","default_sorter","a","item","sort","shift","getStringByteLength","unescape","encodeURIComponent","getSegments","exec","getSegmentsFromString","byteSegs","kanjiSegs","numSegs","alphaNumSegs","s1","s2","map","getSegmentBitsLength","buildSingleSegment","modesHint","bestMode","fromArray","reduce","acc","table","prevNodeIds","nodeGroup","currentNodeIds","node","lastCount","prevNodeId","buildGraph","segs","buildNodes","optimizedSegs","curr","prevSeg","mergeSegments","rawSplit","setupFormatInfo","matrix","bits","createData","remainingByte","totalCodewords","ecTotalCodewords","dataTotalCodewords","ecTotalBlocks","blocksInGroup1","totalCodewordsInGroup1","dataCodewordsInGroup1","dataCodewordsInGroup2","ecCount","rs","dcData","ecData","maxDataSize","dataSize","max","createCodewords","createSymbol","version$1","maskPattern$1","segments$1","estimatedVersion","rawSegments","bestVersion","dataBits","moduleCount","modules","c","setupFinderPattern","setupTimingPattern","setupAlignmentPattern","setupVersionInfo","inc","bitIndex","byteIndex","dark","setupData","bind","qrcode","options","toSJISFunc","utils$1","hex2rgba","hex","hexCode","split","hexValue","getOptions","color","margin","width","scale","light","rendererOpts","getScale","qrSize","getImageWidth","qrToImageData","imgData","qr","symbolSize","scaledMargin","palette","posDst","pxColor","canvas","qrData","canvasEl","getContext","document","createElement","getCanvasElement","ctx","image","createImageData","clearRect","height","clearCanvas","putImageData","renderToDataURL","toDataURL","quality","getColorAttrib","attrib","alpha","toFixed","svgCmd","cmd","svgTag","cb","qrcodesize","bg","moveBy","newRow","lineLength","qrToPath","viewBox","renderCanvas","renderFunc","text","args","arguments","argsNum","isLastArgCb","browser","create","toCanvas","logger","AmplifyTOTPSetup","class_1","autoFocus","handleAuthStateChange","headerText","issuer","setupMessage","qrCodeInput","loading","componentWillLoad","_this","_a","removeHubListener","o","authState","A","setup","disconnectedCallback","buildOtpAuthPath","user","secretKey","username","onTOTPEvent","event","debug","S","handleTotpInputChange","generateQRCode","codeFromTotp","error_1","_b","qrCodeImageSource","encodedIssuer","error_2","challengeName","encodeURI","N","verifyTotpToken","error_3","preventDefault","error","submitButtonText","handleSubmit","alt","checkContact","newUser","isCognitoUser","verified","unverified","handleSignIn","password","C","challengeParam","trigger","message","base64","ieee754","customInspectSymbol","setPrototypeOf","encodingOrOffset","encoding","isEncoding","arrayView","isInstance","fromArrayView","SharedArrayBuffer","valueOf","numberIsNaN","toPrimitive","assertSize","mustMatch","loweredCase","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","m","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","String","read","readUInt16BE","foundIndex","found","hexWrite","Number","strLen","parsed","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","hi","lo","utf16leToBytes","fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","proto","console","poolSize","alloc","allocUnsafeSlow","compare","swap16","swap32","swap64","toLocaleString","equals","inspect","trim","thisStart","thisEnd","thisCopy","targetCopy","includes","toJSON","_arr","ret","out","hexSliceLookupTable","checkOffset","ext","checkInt","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","readUintLE","readUIntLE","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","copyWithin","INVALID_BASE64_RE","toByteArray","base64clean","constructor","alphabet","i16"],"mappings":";iTAAIA,EAAsC,SAAUC,EAASC,EAAYC,EAAGC,GAO1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GACjD,SAASC,EAAUC,GACjB,IACEC,EAAKN,EAAUO,KAAKF,IACpB,MAAOG,GACPL,EAAOK,IAIX,SAASC,EAASJ,GAChB,IACEC,EAAKN,EAAiB,MAAEK,IACxB,MAAOG,GACPL,EAAOK,IAIX,SAASF,EAAKI,GAvBhB,IAAeL,EAwBXK,EAAOC,KAAOT,EAAQQ,EAAOL,QAxBlBA,EAwBiCK,EAAOL,MAvB9CA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAClDA,EAAQG,OAsBkDO,KAAKR,EAAWK,GAG5EH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,YAI9DO,EAA0C,SAAUjB,EAASkB,GAC/D,IASIC,EACAC,EACAC,EACAC,EAZAC,EAAI,CACNC,MAAO,EACPC,KAAM,WACJ,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEXK,KAAM,GACNC,IAAK,IAMP,OAAOL,EAAI,CACTZ,KAAMkB,EAAK,GACX,MAASA,EAAK,GACd,OAAUA,EAAK,IACI,mBAAXC,SAA0BP,EAAEO,OAAOC,UAAY,WACvD,OAAOC,OACLT,EAEJ,SAASM,EAAKI,GACZ,OAAO,SAAUC,GACf,OAIJ,SAAcC,GACZ,GAAIf,EAAG,MAAM,IAAIgB,UAAU,mCAE3B,KAAOZ,GACL,IACE,GAAIJ,EAAI,EAAGC,IAAMC,EAAY,EAARa,EAAG,GAASd,EAAU,OAAIc,EAAG,GAAKd,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEe,KAAKhB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEe,KAAKhB,EAAGc,EAAG,KAAKpB,KAAM,OAAOO,EAG3J,OAFID,EAAI,EAAGC,IAAGa,EAAK,CAAS,EAARA,EAAG,GAAQb,EAAEb,QAEzB0B,EAAG,IACT,KAAK,EACL,KAAK,EACHb,EAAIa,EACJ,MAEF,KAAK,EAEH,OADAX,EAAEC,QACK,CACLhB,MAAO0B,EAAG,GACVpB,MAAM,GAGV,KAAK,EACHS,EAAEC,QACFJ,EAAIc,EAAG,GACPA,EAAK,CAAC,GACN,SAEF,KAAK,EACHA,EAAKX,EAAEI,IAAIU,MAEXd,EAAEG,KAAKW,MAEP,SAEF,QACE,KAAMhB,EAAIE,EAAEG,MAAML,EAAIA,EAAEiB,OAAS,GAAKjB,EAAEA,EAAEiB,OAAS,KAAkB,IAAVJ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CACtFX,EAAI,EACJ,SAGF,GAAc,IAAVW,EAAG,MAAcb,GAAKa,EAAG,GAAKb,EAAE,IAAMa,EAAG,GAAKb,EAAE,IAAK,CACvDE,EAAEC,MAAQU,EAAG,GACb,MAGF,GAAc,IAAVA,EAAG,IAAYX,EAAEC,MAAQH,EAAE,GAAI,CACjCE,EAAEC,MAAQH,EAAE,GACZA,EAAIa,EACJ,MAGF,GAAIb,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CACvBE,EAAEC,MAAQH,EAAE,GAEZE,EAAEI,IAAIY,KAAKL,GAEX,MAGEb,EAAE,IAAIE,EAAEI,IAAIU,MAEhBd,EAAEG,KAAKW,MAEP,SAGJH,EAAKhB,EAAKkB,KAAKpC,EAASuB,GACxB,MAAOZ,GACPuB,EAAK,CAAC,EAAGvB,GACTS,EAAI,EACJ,QACAD,EAAIE,EAAI,EAIZ,GAAY,EAARa,EAAG,GAAQ,MAAMA,EAAG,GACxB,MAAO,CACL1B,MAAO0B,EAAG,GAAKA,EAAG,QAAK,EACvBpB,MAAM,GAlFCL,CAAK,CAACuB,EAAGC,OAkGlBO,EAEJ,WACE,SAASA,EAAmBC,IAC1B,IAAAC,GAAiBX,KAAMU,GAGvBV,KAAKY,YAAc,GAGnBZ,KAAKa,SAAU,EAGfb,KAAKc,UAAW,EAoBlB,OAjBAL,EAAmBM,UAAUC,OAAS,WACpC,OAAO,IAAAC,GAAE,OAAQ,CACfC,MAAO,iBACN,IAAAD,GAAE,QAASE,OAAOC,OAAO,CAC1BC,KAAM,QACNC,KAAMtB,KAAKsB,KACX7C,MAAOuB,KAAKvB,MACZ8C,QAASvB,KAAKwB,kBACdZ,YAAaZ,KAAKY,YAClBa,GAAIzB,KAAK0B,QACTb,QAASb,KAAKa,QACdC,SAAUd,KAAKc,UACdd,KAAK2B,cAAc,IAAAV,GAAE,gBAAiB,CACvCW,QAAS5B,KAAK0B,SACb1B,KAAKP,SAGHgB,EA/BT,GAkCAA,EAAmBoB,MAtCS,4MA0C5B,IAAIC,EAAa,WACf,MAA0B,mBAAZzD,SAA0BA,QAAQ0C,WAAa1C,QAAQ0C,UAAU/B,MAG7E+C,EAAW,GAAGA,SAEdC,EAAUC,MAAMC,SAAW,SAAUC,GACvC,MAA6B,kBAAtBJ,EAAS1B,KAAK8B,IAmBvBC,EAAOC,oBAhBP,WAEE,IACE,IAAIF,EAAM,IAAIG,WAAW,GAOzB,OANAH,EAAII,UAAY,CACdA,UAAWD,WAAWvB,UACtByB,IAAK,WACH,OAAO,KAGU,KAAdL,EAAIK,MACX,MAAO5D,GACP,OAAO,GAIkB6D,GAC7B,IAAIC,EAAeN,EAAOC,oBAAsB,WAAa,WAE7D,SAASD,EAAOO,EAAKC,EAAQrC,GAC3B,OAAK6B,EAAOC,qBAAyBrC,gBAAgBoC,EAIlC,iBAARO,EACFE,EAAY7C,KAAM2C,GAwP7B,SAAcG,EAAMrE,EAAOmE,EAAQrC,GACjC,GAAqB,iBAAV9B,EACT,MAAM,IAAI2B,UAAU,yCAGtB,GAA2B,oBAAhB2C,aAA+BtE,aAAiBsE,YACzD,OAlKJ,SAAyBD,EAAME,EAAOC,EAAY1C,GAChD,GAAI0C,EAAa,GAAKD,EAAME,WAAaD,EACvC,MAAM,IAAIE,WAAW,6BAGvB,GAAIH,EAAME,WAAaD,GAAc1C,GAAU,GAC7C,MAAM,IAAI4C,WAAW,6BAGvB,IAAIC,EAGFA,OADiBC,IAAfJ,QAAuCI,IAAX9C,EACxB,IAAI+B,WAAWU,QACDK,IAAX9C,EACH,IAAI+B,WAAWU,EAAOC,GAEtB,IAAIX,WAAWU,EAAOC,EAAY1C,GAGtC6B,EAAOC,oBAETe,EAAIb,UAAYH,EAAOrB,UAGvBqC,EAAME,EAAcR,EAAMM,GAG5B,OAAOA,EAuIEG,CAAgBT,EAAMrE,EAAOmE,EAAQrC,GAG9C,GAAqB,iBAAV9B,EACT,OAhMJ,SAAoBqE,EAAMU,GACxB,IAAIjD,EAA8B,EAArB2C,EAAWM,GACpBJ,EAAMK,EAAaX,EAAMvC,GACzBmD,EAASN,EAAIO,MAAMH,GAEnBE,IAAWnD,IAIb6C,EAAMA,EAAIQ,MAAM,EAAGF,IAGrB,OAAON,EAoLES,CAAWf,EAAMrE,GAG1B,OA3IF,SAAoBqE,EAAMgB,GACxB,GAAI1B,EAAO2B,SAASD,GAAM,CACxB,IAAIE,EAA4B,EAAtBnD,EAAQiD,EAAIvD,QAClB6C,EAAMK,EAAaX,EAAMkB,GAE7B,OAAmB,IAAfZ,EAAI7C,QAIRuD,EAAIG,KAAKb,EAAK,EAAG,EAAGY,GAHXZ,EAOX,GAAIU,EAAK,CACP,GAA2B,oBAAhBf,aAA+Be,EAAII,kBAAkBnB,aAAe,WAAYe,EACzF,MAA0B,iBAAfA,EAAIvD,SA3GN4D,EA2GmCL,EAAIvD,SA1GrC4D,EA2GFV,EAAaX,EAAM,GAGrBQ,EAAcR,EAAMgB,GAG7B,GAAiB,WAAbA,EAAIzC,MAAqBY,MAAMC,QAAQ4B,EAAIM,MAC7C,OAAOd,EAAcR,EAAMgB,EAAIM,MAnHrC,IAAeD,EAuHb,MAAM,IAAI/D,UAAU,sFAgHbiE,CAAWvB,EAAMrE,GAlQjB6F,CAAKtE,KAAM2C,EAAKC,EAAQrC,GAPtB,IAAI6B,EAAOO,EAAKC,EAAQrC,GAwBnC,SAASM,EAAQN,GAGf,GAAIA,GAAUmC,EACZ,MAAM,IAAIS,WAAW,0DAAiET,EAAaX,SAAS,IAAM,UAGpH,OAAgB,EAATxB,EAOT,SAASkD,EAAaX,EAAMvC,GAC1B,IAAI6C,EAgBJ,OAdIhB,EAAOC,qBACTe,EAAM,IAAId,WAAW/B,IACjBgC,UAAYH,EAAOrB,WAKX,QAFZqC,EAAMN,KAGJM,EAAM,IAAIhB,EAAO7B,IAGnB6C,EAAI7C,OAASA,GAGR6C,EAGT,SAASP,EAAYC,EAAMyB,GACzB,IAAInB,EAAMK,EAAaX,EAAMyB,EAAO,EAAI,EAAoB,EAAhB1D,EAAQ0D,IAEpD,IAAKnC,EAAOC,oBACV,IAAK,IAAImC,EAAI,EAAGA,EAAID,IAAQC,EAC1BpB,EAAIoB,GAAK,EAIb,OAAOpB,EAkBT,SAASE,EAAcR,EAAME,GAI3B,IAHA,IAAIzC,EAASyC,EAAMzC,OAAS,EAAI,EAA4B,EAAxBM,EAAQmC,EAAMzC,QAC9C6C,EAAMK,EAAaX,EAAMvC,GAEpBiE,EAAI,EAAGA,EAAIjE,EAAQiE,GAAK,EAC/BpB,EAAIoB,GAAgB,IAAXxB,EAAMwB,GAGjB,OAAOpB,EA+DT,SAASqB,EAAYjB,EAAQkB,GAE3B,IAAIC,EADJD,EAAQA,GAASE,IAMjB,IAJA,IAAIrE,EAASiD,EAAOjD,OAChBsE,EAAgB,KAChBC,EAAQ,GAEHN,EAAI,EAAGA,EAAIjE,IAAUiE,EAAG,CAG/B,IAFAG,EAAYnB,EAAOuB,WAAWP,IAEd,OAAUG,EAAY,MAAQ,CAE5C,IAAKE,EAAe,CAElB,GAAIF,EAAY,MAAQ,EAEjBD,GAAS,IAAM,GAAGI,EAAMtE,KAAK,IAAM,IAAM,KAC9C,SACK,GAAIgE,EAAI,IAAMjE,EAAQ,EAEtBmE,GAAS,IAAM,GAAGI,EAAMtE,KAAK,IAAM,IAAM,KAC9C,SAIFqE,EAAgBF,EAChB,SAIF,GAAIA,EAAY,MAAQ,EACjBD,GAAS,IAAM,GAAGI,EAAMtE,KAAK,IAAM,IAAM,KAC9CqE,EAAgBF,EAChB,SAIFA,EAAkE,OAArDE,EAAgB,OAAU,GAAKF,EAAY,YAC/CE,IAEJH,GAAS,IAAM,GAAGI,EAAMtE,KAAK,IAAM,IAAM,KAKhD,GAFAqE,EAAgB,KAEZF,EAAY,IAAM,CACpB,IAAKD,GAAS,GAAK,EAAG,MACtBI,EAAMtE,KAAKmE,QACN,GAAIA,EAAY,KAAO,CAC5B,IAAKD,GAAS,GAAK,EAAG,MACtBI,EAAMtE,KAAKmE,GAAa,EAAM,IAAkB,GAAZA,EAAmB,UAClD,GAAIA,EAAY,MAAS,CAC9B,IAAKD,GAAS,GAAK,EAAG,MACtBI,EAAMtE,KAAKmE,GAAa,GAAM,IAAMA,GAAa,EAAM,GAAO,IAAkB,GAAZA,EAAmB,SAClF,MAAIA,EAAY,SAIrB,MAAM,IAAIK,MAAM,sBAHhB,IAAKN,GAAS,GAAK,EAAG,MACtBI,EAAMtE,KAAKmE,GAAa,GAAO,IAAMA,GAAa,GAAM,GAAO,IAAMA,GAAa,EAAM,GAAO,IAAkB,GAAZA,EAAmB,MAM5H,OAAOG,EAGT,SAAS5B,EAAWM,GAClB,OAAIpB,EAAO2B,SAASP,GACXA,EAAOjD,OAGW,oBAAhBwC,aAA6D,mBAAvBA,YAAYkC,SAA0BlC,YAAYkC,OAAOzB,IAAWA,aAAkBT,aAC9HS,EAAON,YAGM,iBAAXM,IACTA,EAAS,GAAKA,GAIJ,IADFA,EAAOjD,OACK,EACfkE,EAAYjB,GAAQjD,QAlOzB6B,EAAOC,sBACTD,EAAOrB,UAAUwB,UAAYD,WAAWvB,UACxCqB,EAAOG,UAAYD,WAEG,oBAAXxC,QAA0BA,OAAOoF,SAAW9C,EAAOtC,OAAOoF,WAAa9C,GAChFjB,OAAOgE,eAAe/C,EAAQtC,OAAOoF,QAAS,CAC5CzG,MAAO,KACP2G,cAAc,EACdC,YAAY,EACZC,UAAU,KAyPhBlD,EAAOrB,UAAU4C,MAAQ,SAAeH,EAAQZ,EAAQrC,QAEvC8C,IAAXT,QAGkBS,IAAX9C,GAA0C,iBAAXqC,GAFxCrC,EAASP,KAAKO,OACdqC,EAAS,GAIA2C,SAAS3C,KAClBA,GAAkB,EAEd2C,SAAShF,GACXA,GAAkB,EAElBA,OAAS8C,GAIb,IAAImC,EAAYxF,KAAKO,OAASqC,EAG9B,SAFeS,IAAX9C,GAAwBA,EAASiF,KAAWjF,EAASiF,GAErDhC,EAAOjD,OAAS,IAAMA,EAAS,GAAKqC,EAAS,IAAMA,EAAS5C,KAAKO,OACnE,MAAM,IAAI4C,WAAW,0CAGvB,OA7CF,SAAmBC,EAAKI,EAAQZ,EAAQrC,GACtC,OAVF,SAAoBkF,EAAKC,EAAK9C,EAAQrC,GACpC,IAAK,IAAIiE,EAAI,EAAGA,EAAIjE,KACdiE,EAAI5B,GAAU8C,EAAInF,QAAUiE,GAAKiB,EAAIlF,UADbiE,EAE5BkB,EAAIlB,EAAI5B,GAAU6C,EAAIjB,GAGxB,OAAOA,EAIAmB,CAAWlB,EAAYjB,EAAQJ,EAAI7C,OAASqC,GAASQ,EAAKR,EAAQrC,GA4ClEqF,CAAU5F,KAAMwD,EAAQZ,EAAQrC,IAGzC6B,EAAOrB,UAAU6C,MAAQ,SAAeiC,EAAOC,GAC7C,IAmBIC,EAnBA/B,EAAMhE,KAAKO,OAqBf,IApBAsF,IAAUA,GAGE,GACVA,GAAS7B,GACG,IAAG6B,EAAQ,GACdA,EAAQ7B,IACjB6B,EAAQ7B,IANV8B,OAAczC,IAARyC,EAAoB9B,IAAQ8B,GASxB,GACRA,GAAO9B,GACG,IAAG8B,EAAM,GACVA,EAAM9B,IACf8B,EAAM9B,GAGJ8B,EAAMD,IAAOC,EAAMD,GAGnBzD,EAAOC,qBACT0D,EAAS/F,KAAKgG,SAASH,EAAOC,IAEvBvD,UAAYH,EAAOrB,cACrB,CACL,IAAIkF,EAAWH,EAAMD,EACrBE,EAAS,IAAI3D,EAAO6D,OAAU5C,GAE9B,IAAK,IAAImB,EAAI,EAAGA,EAAIyB,IAAYzB,EAC9BuB,EAAOvB,GAAKxE,KAAKwE,EAAIqB,GAIzB,OAAOE,GAGT3D,EAAOrB,UAAUkD,KAAO,SAAciC,EAAQC,EAAaN,EAAOC,GAOhE,GANKD,IAAOA,EAAQ,GACfC,GAAe,IAARA,IAAWA,EAAM9F,KAAKO,QAC9B4F,GAAeD,EAAO3F,SAAQ4F,EAAcD,EAAO3F,QAClD4F,IAAaA,EAAc,GAC5BL,EAAM,GAAKA,EAAMD,IAAOC,EAAMD,GAE9BC,IAAQD,EAAO,OAAO,EAC1B,GAAsB,IAAlBK,EAAO3F,QAAgC,IAAhBP,KAAKO,OAAc,OAAO,EAErD,GAAI4F,EAAc,EAChB,MAAM,IAAIhD,WAAW,6BAGvB,GAAI0C,EAAQ,GAAKA,GAAS7F,KAAKO,OAAQ,MAAM,IAAI4C,WAAW,6BAC5D,GAAI2C,EAAM,EAAG,MAAM,IAAI3C,WAAW,2BAE9B2C,EAAM9F,KAAKO,SAAQuF,EAAM9F,KAAKO,QAE9B2F,EAAO3F,OAAS4F,EAAcL,EAAMD,IACtCC,EAAMI,EAAO3F,OAAS4F,EAAcN,GAGtC,IACIrB,EADAR,EAAM8B,EAAMD,EAGhB,GAAI7F,OAASkG,GAAUL,EAAQM,GAAeA,EAAcL,EAE1D,IAAKtB,EAAIR,EAAM,EAAGQ,GAAK,IAAKA,EAC1B0B,EAAO1B,EAAI2B,GAAenG,KAAKwE,EAAIqB,QAEhC,GAAI7B,EAAM,MAAS5B,EAAOC,oBAE/B,IAAKmC,EAAI,EAAGA,EAAIR,IAAOQ,EACrB0B,EAAO1B,EAAI2B,GAAenG,KAAKwE,EAAIqB,QAGrCvD,WAAWvB,UAAUqF,IAAI/F,KAAK6F,EAAQlG,KAAKgG,SAASH,EAAOA,EAAQ7B,GAAMmC,GAG3E,OAAOnC,GAGT5B,EAAOrB,UAAUsF,KAAO,SAAclC,EAAK0B,EAAOC,GAEhD,GAAmB,iBAAR3B,GAQT,GAPqB,iBAAV0B,GACTA,EAAQ,EACRC,EAAM9F,KAAKO,QACa,iBAARuF,IAChBA,EAAM9F,KAAKO,QAGM,IAAf4D,EAAI5D,OAAc,CACpB,IAAI+F,EAAOnC,EAAIY,WAAW,GAEtBuB,EAAO,MACTnC,EAAMmC,QAGc,iBAARnC,IAChBA,GAAY,KAId,GAAI0B,EAAQ,GAAK7F,KAAKO,OAASsF,GAAS7F,KAAKO,OAASuF,EACpD,MAAM,IAAI3C,WAAW,sBAGvB,GAAI2C,GAAOD,EACT,OAAO7F,KAMT,IAAIwE,EAEJ,GALAqB,KAAkB,EAClBC,OAAczC,IAARyC,EAAoB9F,KAAKO,OAASuF,IAAQ,EAC3C3B,IAAKA,EAAM,GAGG,iBAARA,EACT,IAAKK,EAAIqB,EAAOrB,EAAIsB,IAAOtB,EACzBxE,KAAKwE,GAAKL,MAEP,CACL,IAAIW,EAAQ1C,EAAO2B,SAASI,GAAOA,EAAM,IAAI/B,EAAO+B,GAChDH,EAAMc,EAAMvE,OAEhB,IAAKiE,EAAI,EAAGA,EAAIsB,EAAMD,IAASrB,EAC7BxE,KAAKwE,EAAIqB,GAASf,EAAMN,EAAIR,GAIhC,OAAOhE,MAGToC,EAAOmE,OAAS,SAAgBC,EAAMjG,GACpC,IAAKyB,EAAQwE,GACX,MAAM,IAAIpG,UAAU,+CAGtB,GAAoB,IAAhBoG,EAAKjG,OACP,OAAOkD,EAAa,KAAM,GAG5B,IAAIe,EAEJ,QAAenB,IAAX9C,EAGF,IAFAA,EAAS,EAEJiE,EAAI,EAAGA,EAAIgC,EAAKjG,SAAUiE,EAC7BjE,GAAUiG,EAAKhC,GAAGjE,OAItB,IAAI2D,EAASrB,EAAY,KAAMtC,GAC3BkG,EAAM,EAEV,IAAKjC,EAAI,EAAGA,EAAIgC,EAAKjG,SAAUiE,EAAG,CAChC,IAAIpB,EAAMoD,EAAKhC,GAEf,IAAKpC,EAAO2B,SAASX,GACnB,MAAM,IAAIhD,UAAU,+CAGtBgD,EAAIa,KAAKC,EAAQuC,GACjBA,GAAOrD,EAAI7C,OAGb,OAAO2D,GAGT9B,EAAOc,WAAaA,EACpBd,EAAOrB,UAAU2F,WAAY,EAE7BtE,EAAO2B,SAAW,SAAkB4C,GAClC,QAAe,MAALA,IAAaA,EAAED,YAG3B,IAcIE,EAJAC,EAVQ,SAAetC,GACzB,IAAIL,EAAS,IAAI9B,EAAOmC,GAExB,OADAL,EAAOmC,KAAK,GACLnC,GAOL2C,EAJS,SAAgBzC,GAC3B,OAAO,IAAIhC,EAAOgC,IAQhB0C,EAAkB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MA2D1OC,EAnDgB,SAAuBC,GACzC,IAAKA,EAAS,MAAM,IAAIhC,MAAM,yCAC9B,GAAIgC,EAAU,GAAKA,EAAU,GAAI,MAAM,IAAIhC,MAAM,6CACjD,OAAiB,EAAVgC,EAAc,IAgDnBD,EAtC0B,SAAiCC,GAC7D,OAAOF,EAAgBE,IAqCrBD,EA3Bc,SAAqB3C,GAGrC,IAFA,IAAI6C,EAAQ,EAEI,IAAT7C,GACL6C,IACA7C,KAAU,EAGZ,OAAO6C,GAmBLF,EAhBoB,SAA2B3H,GACjD,GAAiB,mBAANA,EACT,MAAM,IAAI4F,MAAM,yCAGlB4B,EAAiBxH,GAWf2H,EARqB,WACvB,YAAiC,IAAnBH,GAOZG,EAJS,SAAgBG,GAC3B,OAAON,EAAeM,IAYxB,SAASC,EAAqBC,EAAIC,EAASC,GACzC,OAMGF,EANIE,EAAS,CACdC,KAAMF,EACNG,QAAS,GACTC,QAAS,SAAiBF,EAAMG,GAC9B,OAKN,WACE,MAAM,IAAI1C,MAAM,2EANL2C,KAEGL,EAAOE,SAAUF,EAAOE,QAOxC,IAAII,EAAuBT,GAAqB,SAAUG,EAAQE,GAChEA,EAAQK,EAAI,CACVC,IAAK,GAEPN,EAAQO,EAAI,CACVD,IAAK,GAEPN,EAAQQ,EAAI,CACVF,IAAK,GAEPN,EAAQS,EAAI,CACVH,IAAK,GAgCPN,EAAQU,QAAU,SAAiBC,GACjC,OAAOA,QAA8B,IAAdA,EAAML,KAAuBK,EAAML,KAAO,GAAKK,EAAML,IAAM,GAGpFN,EAAQlD,KAAO,SAAc7F,EAAO2J,GAClC,GAAIZ,EAAQU,QAAQzJ,GAClB,OAAOA,EAGT,IACE,OAvCJ,SAAoB+E,GAClB,GAAsB,iBAAXA,EACT,MAAM,IAAIwB,MAAM,yBAKlB,OAFYxB,EAAO6E,eAGjB,IAAK,IACL,IAAK,MACH,OAAOb,EAAQK,EAEjB,IAAK,IACL,IAAK,SACH,OAAOL,EAAQO,EAEjB,IAAK,IACL,IAAK,WACH,OAAOP,EAAQQ,EAEjB,IAAK,IACL,IAAK,OACH,OAAOR,EAAQS,EAEjB,QACE,MAAM,IAAIjD,MAAM,qBAAuBxB,IAclCK,CAAWpF,GAClB,MAAOG,GACP,OAAOwJ,OAKb,SAASE,IACPtI,KAAKkE,OAAS,GACdlE,KAAKO,OAAS,EAGhB+H,EAAUvH,UAAY,CACpBwH,IAAK,SAAaC,GAChB,IAAIC,EAAWC,KAAKC,MAAMH,EAAQ,GAClC,OAAyD,IAAjDxI,KAAKkE,OAAOuE,KAAc,EAAID,EAAQ,EAAI,IAEpDI,IAAK,SAAaC,EAAKtI,GACrB,IAAK,IAAIiE,EAAI,EAAGA,EAAIjE,EAAQiE,IAC1BxE,KAAK8I,OAAwC,IAAhCD,IAAQtI,EAASiE,EAAI,EAAI,KAG1CuE,gBAAiB,WACf,OAAO/I,KAAKO,QAEduI,OAAQ,SAAgBhB,GACtB,IAAIW,EAAWC,KAAKC,MAAM3I,KAAKO,OAAS,GAEpCP,KAAKkE,OAAO3D,QAAUkI,GACxBzI,KAAKkE,OAAO1D,KAAK,GAGfsH,IACF9H,KAAKkE,OAAOuE,IAAa,MAASzI,KAAKO,OAAS,GAGlDP,KAAKO,WAGT,IAAIyI,EAAYV,EAOhB,SAASW,EAAU1E,GACjB,IAAKA,GAAQA,EAAO,EAClB,MAAM,IAAIS,MAAM,qDAGlBhF,KAAKuE,KAAOA,EACZvE,KAAKoE,KAAOyC,EAAuBtC,EAAOA,GAC1CvE,KAAKkJ,YAAcrC,EAAuBtC,EAAOA,GAanD0E,EAAUlI,UAAUqF,IAAM,SAAU+C,EAAKC,EAAK3K,EAAO4K,GACnD,IAAIb,EAAQW,EAAMnJ,KAAKuE,KAAO6E,EAC9BpJ,KAAKoE,KAAKoE,GAAS/J,EACf4K,IAAUrJ,KAAKkJ,YAAYV,IAAS,IAW1CS,EAAUlI,UAAUwH,IAAM,SAAUY,EAAKC,GACvC,OAAOpJ,KAAKoE,KAAK+E,EAAMnJ,KAAKuE,KAAO6E,IAYrCH,EAAUlI,UAAUuI,IAAM,SAAUH,EAAKC,EAAK3K,GAC5CuB,KAAKoE,KAAK+E,EAAMnJ,KAAKuE,KAAO6E,IAAQ3K,GAWtCwK,EAAUlI,UAAUwI,WAAa,SAAUJ,EAAKC,GAC9C,OAAOpJ,KAAKkJ,YAAYC,EAAMnJ,KAAKuE,KAAO6E,IAG5C,IAAII,EAAYP,EACZQ,EAAmBtC,GAAqB,SAAUG,EAAQE,GAU5D,IAAIkC,EAAgB3C,EAgBpBS,EAAQmC,gBAAkB,SAAyB3C,GACjD,GAAgB,IAAZA,EAAe,MAAO,GAM1B,IALA,IAAI4C,EAAWlB,KAAKC,MAAM3B,EAAU,GAAK,EACrCzC,EAAOmF,EAAc1C,GACrB6C,EAAqB,MAATtF,EAAe,GAAmD,EAA9CmE,KAAKoB,MAAMvF,EAAO,KAAO,EAAIqF,EAAW,IACxEG,EAAY,CAACxF,EAAO,GAEfC,EAAI,EAAGA,EAAIoF,EAAW,EAAGpF,IAChCuF,EAAUvF,GAAKuF,EAAUvF,EAAI,GAAKqF,EAKpC,OAFAE,EAAUvJ,KAAK,GAERuJ,EAAUC,WAwBnBxC,EAAQyC,aAAe,SAAsBjD,GAK3C,IAJA,IAAIkD,EAAS,GACTzD,EAAMe,EAAQmC,gBAAgB3C,GAC9BmD,EAAY1D,EAAIlG,OAEXiE,EAAI,EAAGA,EAAI2F,EAAW3F,IAC7B,IAAK,IAAI4F,EAAI,EAAGA,EAAID,EAAWC,IAEnB,IAAN5F,GAAiB,IAAN4F,GACT,IAAN5F,GAAW4F,IAAMD,EAAY,GAC7B3F,IAAM2F,EAAY,GAAW,IAANC,GAKvBF,EAAO1J,KAAK,CAACiG,EAAIjC,GAAIiC,EAAI2D,KAI7B,OAAOF,MAGPG,EAAkBtD,EAkBlBuD,EARe,SAAsBtD,GACvC,IAAIzC,EAAO8F,EAAgBrD,GAC3B,MAAO,CACP,CAAC,EAAG,GACJ,CAACzC,EAbuB,EAaK,GAC7B,CAAC,EAAGA,EAdoB,KAoBtBgG,EAAcpD,GAAqB,SAAUG,EAAQE,GAKvDA,EAAQgD,SAAW,CACjBC,WAAY,EACZC,WAAY,EACZC,WAAY,EACZC,WAAY,EACZC,WAAY,EACZC,WAAY,EACZC,WAAY,EACZC,WAAY,GAOd,IAAIC,EACE,EADFA,EAEE,EAFFA,EAGE,GAHFA,EAIE,GAuJN,SAASC,EAAUX,EAAa/F,EAAG4F,GACjC,OAAQG,GACN,KAAK/C,EAAQgD,SAASC,WACpB,OAAQjG,EAAI4F,GAAK,GAAM,EAEzB,KAAK5C,EAAQgD,SAASE,WACpB,OAAOlG,EAAI,GAAM,EAEnB,KAAKgD,EAAQgD,SAASG,WACpB,OAAOP,EAAI,GAAM,EAEnB,KAAK5C,EAAQgD,SAASI,WACpB,OAAQpG,EAAI4F,GAAK,GAAM,EAEzB,KAAK5C,EAAQgD,SAASK,WACpB,OAAQnC,KAAKC,MAAMnE,EAAI,GAAKkE,KAAKC,MAAMyB,EAAI,IAAM,GAAM,EAEzD,KAAK5C,EAAQgD,SAASM,WACpB,OAAOtG,EAAI4F,EAAI,EAAI5F,EAAI4F,EAAI,GAAM,EAEnC,KAAK5C,EAAQgD,SAASO,WACpB,OAAQvG,EAAI4F,EAAI,EAAI5F,EAAI4F,EAAI,GAAK,GAAM,EAEzC,KAAK5C,EAAQgD,SAASQ,WACpB,OAAQxG,EAAI4F,EAAI,GAAK5F,EAAI4F,GAAK,GAAK,GAAM,EAE3C,QACE,MAAM,IAAIpF,MAAM,mBAAqBuF,IAzK3C/C,EAAQU,QAAU,SAAiBiD,GACjC,OAAe,MAARA,GAAyB,KAATA,IAAgBC,MAAMD,IAASA,GAAQ,GAAKA,GAAQ,GAW7E3D,EAAQlD,KAAO,SAAc7F,GAC3B,OAAO+I,EAAQU,QAAQzJ,GAAS4M,SAAS5M,EAAO,SAAM4E,GAWxDmE,EAAQ8D,aAAe,SAAsBlH,GAQ3C,IAPA,IAAIG,EAAOH,EAAKG,KACZgH,EAAS,EACTC,EAAe,EACfC,EAAe,EACfC,EAAU,KACVC,EAAU,KAELxC,EAAM,EAAGA,EAAM5E,EAAM4E,IAAO,CACnCqC,EAAeC,EAAe,EAC9BC,EAAUC,EAAU,KAEpB,IAAK,IAAIvC,EAAM,EAAGA,EAAM7E,EAAM6E,IAAO,CACnC,IAAI9B,EAASlD,EAAKmE,IAAIY,EAAKC,GAEvB9B,IAAWoE,EACbF,KAEIA,GAAgB,IAAGD,GAAUN,GAAoBO,EAAe,IACpEE,EAAUpE,EACVkE,EAAe,IAGjBlE,EAASlD,EAAKmE,IAAIa,EAAKD,MAERwC,EACbF,KAEIA,GAAgB,IAAGF,GAAUN,GAAoBQ,EAAe,IACpEE,EAAUrE,EACVmE,EAAe,GAIfD,GAAgB,IAAGD,GAAUN,GAAoBO,EAAe,IAChEC,GAAgB,IAAGF,GAAUN,GAAoBQ,EAAe,IAGtE,OAAOF,GAST/D,EAAQoE,aAAe,SAAsBxH,GAI3C,IAHA,IAAIG,EAAOH,EAAKG,KACZgH,EAAS,EAEJpC,EAAM,EAAGA,EAAM5E,EAAO,EAAG4E,IAChC,IAAK,IAAIC,EAAM,EAAGA,EAAM7E,EAAO,EAAG6E,IAAO,CACvC,IAAIyC,EAAOzH,EAAKmE,IAAIY,EAAKC,GAAOhF,EAAKmE,IAAIY,EAAKC,EAAM,GAAKhF,EAAKmE,IAAIY,EAAM,EAAGC,GAAOhF,EAAKmE,IAAIY,EAAM,EAAGC,EAAM,GAC7F,IAATyC,GAAuB,IAATA,GAAYN,IAIlC,OAAOA,EAASN,GAUlBzD,EAAQsE,aAAe,SAAsB1H,GAM3C,IALA,IAAIG,EAAOH,EAAKG,KACZgH,EAAS,EACTQ,EAAU,EACVC,EAAU,EAEL7C,EAAM,EAAGA,EAAM5E,EAAM4E,IAAO,CACnC4C,EAAUC,EAAU,EAEpB,IAAK,IAAI5C,EAAM,EAAGA,EAAM7E,EAAM6E,IAC5B2C,EAAUA,GAAW,EAAI,KAAQ3H,EAAKmE,IAAIY,EAAKC,GAC3CA,GAAO,KAAmB,OAAZ2C,GAAiC,KAAZA,IAAoBR,IAC3DS,EAAUA,GAAW,EAAI,KAAQ5H,EAAKmE,IAAIa,EAAKD,GAC3CC,GAAO,KAAmB,OAAZ4C,GAAiC,KAAZA,IAAoBT,IAI/D,OAAOA,EAASN,GAYlBzD,EAAQyE,aAAe,SAAsB7H,GAI3C,IAHA,IAAI8H,EAAY,EACZC,EAAe/H,EAAKA,KAAK7D,OAEpBiE,EAAI,EAAGA,EAAI2H,EAAc3H,IAChC0H,GAAa9H,EAAKA,KAAKI,GAIzB,OADQkE,KAAK0D,IAAI1D,KAAKoB,KAAiB,IAAZoC,EAAkBC,EAAe,GAAK,IACtDlB,GAkDbzD,EAAQ6E,UAAY,SAAmBC,EAASlI,GAG9C,IAFA,IAAIG,EAAOH,EAAKG,KAEP6E,EAAM,EAAGA,EAAM7E,EAAM6E,IAC5B,IAAK,IAAID,EAAM,EAAGA,EAAM5E,EAAM4E,IACxB/E,EAAKmF,WAAWJ,EAAKC,IACzBhF,EAAKkF,IAAIH,EAAKC,EAAK8B,EAAUoB,EAASnD,EAAKC,KAYjD5B,EAAQ+E,YAAc,SAAqBnI,EAAMoI,GAK/C,IAJA,IAAIC,EAActL,OAAOuL,KAAKlF,EAAQgD,UAAUjK,OAC5CoM,EAAc,EACdC,EAAehI,IAEViI,EAAI,EAAGA,EAAIJ,EAAaI,IAAK,CACpCL,EAAgBK,GAChBrF,EAAQ6E,UAAUQ,EAAGzI,GAErB,IAAI0I,EAAUtF,EAAQ8D,aAAalH,GAAQoD,EAAQoE,aAAaxH,GAAQoD,EAAQsE,aAAa1H,GAAQoD,EAAQyE,aAAa7H,GAE1HoD,EAAQ6E,UAAUQ,EAAGzI,GAEjB0I,EAAUF,IACZA,EAAeE,EACfH,EAAcE,GAIlB,OAAOF,MAGPI,EAAkB,CACtB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC9jBC,EAAqB,CACzB,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,IAAK,IAAK,IAAK,KAAM,IAAK,IAAK,KAAM,KAAM,IAAK,IAAK,KAAM,KAAM,IAAK,IAAK,KAAM,KAAM,IAAK,IAAK,KAAM,KAAM,IAAK,IAAK,KAAM,KAAM,IAAK,IAAK,KAAM,KAAM,IAAK,IAAK,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,IAAK,KAAM,KAAM,MAyD3xBC,EA/CiB,SAAwBjG,EAASkG,GACpD,OAAQA,GACN,KAAKtF,EAAqBC,EACxB,OAAOkF,EAAgC,GAAf/F,EAAU,GAAS,GAE7C,KAAKY,EAAqBG,EACxB,OAAOgF,EAAgC,GAAf/F,EAAU,GAAS,GAE7C,KAAKY,EAAqBI,EACxB,OAAO+E,EAAgC,GAAf/F,EAAU,GAAS,GAE7C,KAAKY,EAAqBK,EACxB,OAAO8E,EAAgC,GAAf/F,EAAU,GAAS,GAE7C,QACE,SAgCFiG,EAnByB,SAAgCjG,EAASkG,GACpE,OAAQA,GACN,KAAKtF,EAAqBC,EACxB,OAAOmF,EAAmC,GAAfhG,EAAU,GAAS,GAEhD,KAAKY,EAAqBG,EACxB,OAAOiF,EAAmC,GAAfhG,EAAU,GAAS,GAEhD,KAAKY,EAAqBI,EACxB,OAAOgF,EAAmC,GAAfhG,EAAU,GAAS,GAEhD,KAAKY,EAAqBK,EACxB,OAAO+E,EAAmC,GAAfhG,EAAU,GAAS,GAEhD,QACE,SAQFmG,EAAYtG,EAAuB,KACnCuG,EAAYvG,EAAuB,MAEvC,WAGE,IAFA,IAAIwG,EAAI,EAEC7I,EAAI,EAAGA,EAAI,IAAKA,IACvB2I,EAAU3I,GAAK6I,EACfD,EAAUC,GAAK7I,EAKP,KAJR6I,IAAM,KAMJA,GAAK,KAQT,IAAK7I,EAAI,IAAKA,EAAI,IAAKA,IACrB2I,EAAU3I,GAAK2I,EAAU3I,EAAI,KArBjC,GAgCA,IA+BI8I,EAnBM,SAAarN,GACrB,OAAOkN,EAAUlN,IAkBfqN,GAPM,SAAaD,EAAGhO,GACxB,OAAU,IAANgO,GAAiB,IAANhO,EAAgB,EAGxB8N,EAAUC,EAAUC,GAAKD,EAAU/N,KAQxCkO,GAAapG,GAAqB,SAAUG,EAAQE,GAQtDA,EAAQgG,IAAM,SAAaC,EAAIC,GAG7B,IAFA,IAAIC,EAAQ9G,EAAuB4G,EAAGlN,OAASmN,EAAGnN,OAAS,GAElDiE,EAAI,EAAGA,EAAIiJ,EAAGlN,OAAQiE,IAC7B,IAAK,IAAI4F,EAAI,EAAGA,EAAIsD,EAAGnN,OAAQ6J,IAC7BuD,EAAMnJ,EAAI4F,IAAMkD,GAAgBG,EAAGjJ,GAAIkJ,EAAGtD,IAI9C,OAAOuD,GAWTnG,EAAQoG,IAAM,SAAaC,EAAUC,GAGnC,IAFA,IAAIhP,EAAS+H,EAAsBgH,GAE5B/O,EAAOyB,OAASuN,EAAQvN,QAAU,GAAG,CAG1C,IAFA,IAAIoN,EAAQ7O,EAAO,GAEV0F,EAAI,EAAGA,EAAIsJ,EAAQvN,OAAQiE,IAClC1F,EAAO0F,IAAM8I,GAAgBQ,EAAQtJ,GAAImJ,GAM3C,IAFA,IAAI/K,EAAS,EAENA,EAAS9D,EAAOyB,QAA6B,IAAnBzB,EAAO8D,IACtCA,IAGF9D,EAASA,EAAO8E,MAAMhB,GAGxB,OAAO9D,GAWT0I,EAAQuG,qBAAuB,SAA8BC,GAG3D,IAFA,IAAIC,EAAOpH,EAAsB,CAAC,IAEzBrC,EAAI,EAAGA,EAAIwJ,EAAQxJ,IAC1ByJ,EAAOzG,EAAQgG,IAAIS,EAAM,CAAC,EAAGX,EAAgB9I,KAG/C,OAAOyJ,MAGPC,GAAW,KAEf,SAASC,GAAmBH,GAC1BhO,KAAKoO,aAAU/K,EACfrD,KAAKgO,OAASA,EACVhO,KAAKgO,QAAQhO,KAAKqO,WAAWrO,KAAKgO,QAUxCG,GAAmBpN,UAAUsN,WAAa,SAAoBL,GAE5DhO,KAAKgO,OAASA,EACdhO,KAAKoO,QAAUb,GAAWQ,qBAAqB/N,KAAKgO,SAUtDG,GAAmBpN,UAAUuN,OAAS,SAAgBlK,GACpD,IAAKpE,KAAKoO,QACR,MAAM,IAAIpJ,MAAM,2BAKlB,IAAIuJ,EAAM1H,EAAuB7G,KAAKgO,QAClCQ,EAAaN,GAAS3H,OAAO,CAACnC,EAAMmK,GAAMnK,EAAK7D,OAASP,KAAKgO,QAG7DS,EAAYlB,GAAWK,IAAIY,EAAYxO,KAAKoO,SAI5CvI,EAAQ7F,KAAKgO,OAASS,EAAUlO,OAEpC,GAAIsF,EAAQ,EAAG,CACb,IAAI6I,EAAO7H,EAAuB7G,KAAKgO,QAEvC,OADAS,EAAUxK,KAAKyK,EAAM7I,GACd6I,EAGT,OAAOD,GAGT,IAAIE,GAAqBR,GAYrBS,GAJU,SAAiB5H,GAC7B,OAAQoE,MAAMpE,IAAYA,GAAW,GAAKA,GAAW,IAMnD6H,GAAU,SAEV3H,GAAQ,mNAER4H,GAAO,8BADX5H,GAAQA,GAAM6H,QAAQ,KAAM,QACsB,kBAC9CC,GAAQ,IAAIC,OAAO/H,GAAO,KAC1BgI,GAAa,IAAID,OAAO,wBAAyB,KACjDE,GAAO,IAAIF,OAAOH,GAAM,KACxBM,GAAU,IAAIH,OAAOJ,GAAS,KAC9BQ,GAAe,IAAIJ,OARJ,oBAQyB,KACxCK,GAAa,IAAIL,OAAO,IAAM/H,GAAQ,KACtCqI,GAAe,IAAIN,OAAO,YAC1BO,GAAoB,IAAIP,OAAO,0BAc/BQ,GAAQ,CACVT,MAAOA,GACPE,WAAYA,GACZC,KAAMA,GACNC,QAASA,GACTC,aAAcA,GACdK,UAlBc,SAAmBC,GACjC,OAAOL,GAAWM,KAAKD,IAkBvBE,YAfgB,SAAqBF,GACrC,OAAOJ,GAAaK,KAAKD,IAezBG,iBAZqB,SAA0BH,GAC/C,OAAOH,GAAkBI,KAAKD,KAa5BI,GAAO5I,GAAqB,SAAUG,EAAQE,GAQhDA,EAAQ4H,QAAU,CAChB3N,GAAI,UACJqG,IAAK,EACLkI,OAAQ,CAAC,GAAI,GAAI,KAYnBxI,EAAQ6H,aAAe,CACrB5N,GAAI,eACJqG,IAAK,EACLkI,OAAQ,CAAC,EAAG,GAAI,KAQlBxI,EAAQ2H,KAAO,CACb1N,GAAI,OACJqG,IAAK,EACLkI,OAAQ,CAAC,EAAG,GAAI,KAYlBxI,EAAQwH,MAAQ,CACdvN,GAAI,QACJqG,IAAK,EACLkI,OAAQ,CAAC,EAAG,GAAI,KASlBxI,EAAQyI,MAAQ,CACdnI,KAAM,GAWRN,EAAQ0I,sBAAwB,SAA+BH,EAAM/I,GACnE,IAAK+I,EAAKC,OAAQ,MAAM,IAAIhL,MAAM,iBAAmB+K,GAErD,IAAKnB,GAAqB5H,GACxB,MAAM,IAAIhC,MAAM,oBAAsBgC,GAGxC,OAAIA,GAAW,GAAKA,EAAU,GAAW+I,EAAKC,OAAO,GAAYhJ,EAAU,GAAW+I,EAAKC,OAAO,GAC3FD,EAAKC,OAAO,IAUrBxI,EAAQ2I,mBAAqB,SAA4BC,GACvD,OAAIX,GAAMI,YAAYO,GAAiB5I,EAAQ4H,QAAiBK,GAAMK,iBAAiBM,GAAiB5I,EAAQ6H,aAAsBI,GAAMC,UAAUU,GAAiB5I,EAAQwH,MAAkBxH,EAAQ2H,MAU3M3H,EAAQzF,SAAW,SAAkBgO,GACnC,GAAIA,GAAQA,EAAKtO,GAAI,OAAOsO,EAAKtO,GACjC,MAAM,IAAIuD,MAAM,iBAUlBwC,EAAQU,QAAU,SAAiB6H,GACjC,OAAOA,GAAQA,EAAKjI,KAAOiI,EAAKC,QA4ClCxI,EAAQlD,KAAO,SAAc7F,EAAO2J,GAClC,GAAIZ,EAAQU,QAAQzJ,GAClB,OAAOA,EAGT,IACE,OAxCJ,SAAoB+E,GAClB,GAAsB,iBAAXA,EACT,MAAM,IAAIwB,MAAM,yBAKlB,OAFYxB,EAAO6E,eAGjB,IAAK,UACH,OAAOb,EAAQ4H,QAEjB,IAAK,eACH,OAAO5H,EAAQ6H,aAEjB,IAAK,QACH,OAAO7H,EAAQwH,MAEjB,IAAK,OACH,OAAOxH,EAAQ2H,KAEjB,QACE,MAAM,IAAInK,MAAM,iBAAmBxB,IAmB9BK,CAAWpF,GAClB,MAAOG,GACP,OAAOwJ,OAITpB,GAAUG,GAAqB,SAAUG,EAAQE,GAEnD,IACI6I,EAAUtJ,EADJ,MAaV,SAASuJ,EAAqBC,EAAQvJ,GAEpC,OAAO+I,GAAKG,sBAAsBK,EAAQvJ,GAAW,EAGvD,SAASwJ,EAA0BC,EAAUzJ,GAC3C,IAAI0J,EAAY,EAKhB,OAJAD,EAASE,SAAQ,SAAUvM,GACzB,IAAIwM,EAAeN,EAAqBlM,EAAK2L,KAAM/I,GACnD0J,GAAaE,EAAexM,EAAKyM,mBAE5BH,EAwBTlJ,EAAQlD,KAAO,SAAc7F,EAAO2J,GAClC,OAAIwG,GAAqBnQ,GAChB4M,SAAS5M,EAAO,IAGlB2J,GAaTZ,EAAQsJ,YAAc,SAAqB9J,EAASY,EAAsB2I,GACxE,IAAK3B,GAAqB5H,GACxB,MAAM,IAAIhC,MAAM,gCAII,IAAXuL,IAAwBA,EAASR,GAAKZ,MAEjD,IAII4B,EAA+D,GAJ9ChK,EAA8BC,GAE5BiG,EAA2CjG,EAASY,IAG3E,GAAI2I,IAAWR,GAAKE,MAAO,OAAOc,EAClC,IAAIC,EAAaD,EAAyBT,EAAqBC,EAAQvJ,GAEvE,OAAQuJ,GACN,KAAKR,GAAKX,QACR,OAAO1G,KAAKC,MAAMqI,EAAa,GAAK,GAEtC,KAAKjB,GAAKV,aACR,OAAO3G,KAAKC,MAAMqI,EAAa,GAAK,GAEtC,KAAKjB,GAAKf,MACR,OAAOtG,KAAKC,MAAMqI,EAAa,IAEjC,KAAKjB,GAAKZ,KACV,QACE,OAAOzG,KAAKC,MAAMqI,EAAa,KAarCxJ,EAAQyJ,sBAAwB,SAA+B7M,EAAM8I,GACnE,IAAIgE,EACAC,EAAMvJ,EAAqBtD,KAAK4I,EAAwBtF,EAAqBG,GAEjF,GAAI/F,EAAQoC,GAAO,CACjB,GAAIA,EAAK7D,OAAS,EAChB,OAtFN,SAAoCkQ,EAAU7I,GAC5C,IAAK,IAAIwJ,EAAiB,EAAGA,GAAkB,GAAIA,IAGjD,GAFaZ,EAA0BC,EAAUW,IAEnC5J,EAAQsJ,YAAYM,EAAgBxJ,EAAsBmI,GAAKE,OAC3E,OAAOmB,EAiFAC,CAA2BjN,EAAM+M,GAG1C,GAAoB,IAAhB/M,EAAK7D,OACP,OAAO,EAGT2Q,EAAM9M,EAAK,QAEX8M,EAAM9M,EAGR,OA1HF,SAAqC2L,EAAMxP,EAAQqH,GACjD,IAAK,IAAIwJ,EAAiB,EAAGA,GAAkB,GAAIA,IACjD,GAAI7Q,GAAUiH,EAAQsJ,YAAYM,EAAgBxJ,EAAsBmI,GACtE,OAAOqB,EAuHJE,CAA4BJ,EAAInB,KAAMmB,EAAIK,YAAaJ,IAchE3J,EAAQgK,eAAiB,SAAwBxK,GAC/C,IAAK4H,GAAqB5H,IAAYA,EAAU,EAC9C,MAAM,IAAIhC,MAAM,2BAKlB,IAFA,IAAIyM,EAAIzK,GAAW,GAEZD,EAAkB0K,GAAKpB,GAAW,GACvCoB,GAnJM,MAmJM1K,EAAkB0K,GAAKpB,EAGrC,OAAOrJ,GAAW,GAAKyK,MAKvBC,GAAU3K,EAFJ,MA4BN4K,GAdiB,SAAwB/J,EAAsBuD,GAIjE,IAHA,IAAI/G,EAAOwD,EAAqBE,KAAO,EAAIqD,EACvCsG,EAAIrN,GAAQ,GAET2C,EAAkB0K,GAAKC,IAAW,GACvCD,GAnBM,MAmBM1K,EAAkB0K,GAAKC,GAMrC,OAxBa,OAwBLtN,GAAQ,GAAKqN,IAOvB,SAASG,GAAYxN,GACnBpE,KAAK+P,KAAOA,GAAKX,QACjBpP,KAAKoE,KAAOA,EAAKrC,WAGnB6P,GAAYf,cAAgB,SAAuBtQ,GACjD,OAAO,GAAKmI,KAAKC,MAAMpI,EAAS,IAAMA,EAAS,EAAIA,EAAS,EAAI,EAAI,EAAI,IAG1EqR,GAAY7Q,UAAUwQ,UAAY,WAChC,OAAOvR,KAAKoE,KAAK7D,QAGnBqR,GAAY7Q,UAAU8P,cAAgB,WACpC,OAAOe,GAAYf,cAAc7Q,KAAKoE,KAAK7D,SAG7CqR,GAAY7Q,UAAU4C,MAAQ,SAAeqF,GAC3C,IAAIxE,EAAGqN,EAAOpT,EAGd,IAAK+F,EAAI,EAAGA,EAAI,GAAKxE,KAAKoE,KAAK7D,OAAQiE,GAAK,EAC1CqN,EAAQ7R,KAAKoE,KAAK0N,OAAOtN,EAAG,GAC5B/F,EAAQ4M,SAASwG,EAAO,IACxB7I,EAAUJ,IAAInK,EAAO,IAKvB,IAAIsT,EAAe/R,KAAKoE,KAAK7D,OAASiE,EAElCuN,EAAe,IACjBF,EAAQ7R,KAAKoE,KAAK0N,OAAOtN,GACzB/F,EAAQ4M,SAASwG,EAAO,IACxB7I,EAAUJ,IAAInK,EAAsB,EAAfsT,EAAmB,KAI5C,IAAIC,GAAcJ,GAWdK,GAAkB,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAEnP,SAASC,GAAiB9N,GACxBpE,KAAK+P,KAAOA,GAAKV,aACjBrP,KAAKoE,KAAOA,EAGd8N,GAAiBrB,cAAgB,SAAuBtQ,GACtD,OAAO,GAAKmI,KAAKC,MAAMpI,EAAS,GAAUA,EAAS,EAAd,GAGvC2R,GAAiBnR,UAAUwQ,UAAY,WACrC,OAAOvR,KAAKoE,KAAK7D,QAGnB2R,GAAiBnR,UAAU8P,cAAgB,WACzC,OAAOqB,GAAiBrB,cAAc7Q,KAAKoE,KAAK7D,SAGlD2R,GAAiBnR,UAAU4C,MAAQ,SAAeqF,GAChD,IAAIxE,EAGJ,IAAKA,EAAI,EAAGA,EAAI,GAAKxE,KAAKoE,KAAK7D,OAAQiE,GAAK,EAAG,CAE7C,IAAI/F,EAAgD,GAAxCwT,GAAgBE,QAAQnS,KAAKoE,KAAKI,IAE9C/F,GAASwT,GAAgBE,QAAQnS,KAAKoE,KAAKI,EAAI,IAE/CwE,EAAUJ,IAAInK,EAAO,IAKnBuB,KAAKoE,KAAK7D,OAAS,GACrByI,EAAUJ,IAAIqJ,GAAgBE,QAAQnS,KAAKoE,KAAKI,IAAK,IAIzD,IAAI4N,GAAmBF,GAEvB,SAASG,GAASjO,GAChBpE,KAAK+P,KAAOA,GAAKZ,KACjBnP,KAAKoE,KAAOyC,EAAsBzC,GAGpCiO,GAASxB,cAAgB,SAAuBtQ,GAC9C,OAAgB,EAATA,GAGT8R,GAAStR,UAAUwQ,UAAY,WAC7B,OAAOvR,KAAKoE,KAAK7D,QAGnB8R,GAAStR,UAAU8P,cAAgB,WACjC,OAAOwB,GAASxB,cAAc7Q,KAAKoE,KAAK7D,SAG1C8R,GAAStR,UAAU4C,MAAQ,SAAUqF,GACnC,IAAK,IAAIxE,EAAI,EAAG8N,EAAItS,KAAKoE,KAAK7D,OAAQiE,EAAI8N,EAAG9N,IAC3CwE,EAAUJ,IAAI5I,KAAKoE,KAAKI,GAAI,IAIhC,IAAI+N,GAAWF,GAEf,SAASG,GAAUpO,GACjBpE,KAAK+P,KAAOA,GAAKf,MACjBhP,KAAKoE,KAAOA,EAGdoO,GAAU3B,cAAgB,SAAuBtQ,GAC/C,OAAgB,GAATA,GAGTiS,GAAUzR,UAAUwQ,UAAY,WAC9B,OAAOvR,KAAKoE,KAAK7D,QAGnBiS,GAAUzR,UAAU8P,cAAgB,WAClC,OAAO2B,GAAU3B,cAAc7Q,KAAKoE,KAAK7D,SAG3CiS,GAAUzR,UAAU4C,MAAQ,SAAUqF,GACpC,IAAIxE,EAIJ,IAAKA,EAAI,EAAGA,EAAIxE,KAAKoE,KAAK7D,OAAQiE,IAAK,CACrC,IAAI/F,EAAQsI,EAAa/G,KAAKoE,KAAKI,IAEnC,GAAI/F,GAAS,OAAUA,GAAS,MAE9BA,GAAS,UACJ,MAAIA,GAAS,OAAUA,GAAS,OAIrC,MAAM,IAAIuG,MAAM,2BAA6BhF,KAAKoE,KAAKI,GAAvC,qCAFhB/F,GAAS,MAOXA,EAA+B,KAAtBA,IAAU,EAAI,MAAwB,IAARA,GAEvCuK,EAAUJ,IAAInK,EAAO,MAIzB,IAAIgU,GAAYD,GACZE,GAAavL,GAAqB,SAAUG,GAsB9C,IAAIqL,EAAW,CACbC,6BAA8B,SAAsCC,EAAOC,EAAGrB,GAG5E,IAAIsB,EAAe,GAGfC,EAAQ,GACZA,EAAMF,GAAK,EAKX,IAEIG,EAASC,EAAGhT,EAAGiT,EAAgBC,EAA2BC,EAA+BC,EAFzFC,EAAOZ,EAASa,cAAcC,OAIlC,IAHAF,EAAK/S,KAAKsS,EAAG,IAGLS,EAAKG,SAWX,IAAKxT,KAPLgT,GADAD,EAAUM,EAAKjT,OACH7B,MACZ0U,EAAiBF,EAAQU,KAEzBP,EAAiBP,EAAMK,IAAM,GAKvBE,EAAeQ,eAAe1T,KAMhCmT,EAAgCF,EAJpBC,EAAelT,GAS3BoT,EAAiBN,EAAM9S,SACW,IAAb8S,EAAM9S,IAERoT,EAAiBD,KAClCL,EAAM9S,GAAKmT,EACXE,EAAK/S,KAAKN,EAAGmT,GACbN,EAAa7S,GAAKgT,IAM1B,QAAiB,IAANzB,QAAyC,IAAbuB,EAAMvB,GAAoB,CAC/D,IAAIoC,EAAM,CAAC,8BAA+Bf,EAAG,OAAQrB,EAAG,KAAKqC,KAAK,IAClE,MAAM,IAAI9O,MAAM6O,GAGlB,OAAOd,GAETgB,4CAA6C,SAAqDhB,EAActB,GAI9G,IAHA,IAAIuC,EAAQ,GACRd,EAAIzB,EAEDyB,GACLc,EAAMxT,KAAK0S,GACXA,EAAIH,EAAaG,GAInB,OADAc,EAAMhK,UACCgK,GAETC,UAAW,SAAmBpB,EAAOC,EAAGrB,GACtC,IAAIsB,EAAeJ,EAASC,6BAA6BC,EAAOC,EAAGrB,GACnE,OAAOkB,EAASoB,4CAA4ChB,EAActB,IAM5E+B,cAAe,CACbC,KAAM,SAAcS,GAClB,IAEIC,EAFAC,EAAIzB,EAASa,cACblU,EAAI,GAIR,IAAK6U,KAFLD,EAAOA,GAAQ,GAEHE,EACNA,EAAER,eAAeO,KACnB7U,EAAE6U,GAAOC,EAAED,IAMf,OAFA7U,EAAE+U,MAAQ,GACV/U,EAAEgV,OAASJ,EAAKI,QAAUF,EAAEG,eACrBjV,GAETiV,eAAgB,SAAwBC,EAAG7N,GACzC,OAAO6N,EAAEb,KAAOhN,EAAEgN,MAOpBnT,KAAM,SAAc/B,EAAOkV,GACzB,IAAIc,EAAO,CACThW,MAAOA,EACPkV,KAAMA,GAER3T,KAAKqU,MAAM7T,KAAKiU,GAChBzU,KAAKqU,MAAMK,KAAK1U,KAAKsU,SAMvBhU,IAAK,WACH,OAAON,KAAKqU,MAAMM,SAEpBjB,MAAO,WACL,OAA6B,IAAtB1T,KAAKqU,MAAM9T,UAMtB+G,EAAOE,QAAUmL,KAGjBlC,GAAWtJ,GAAqB,SAAUG,EAAQE,GAOpD,SAASoN,EAAoBjF,GAC3B,OAAOkF,SAASC,mBAAmBnF,IAAMpP,OAY3C,SAASwU,EAAYtF,EAAOM,EAAMJ,GAIhC,IAHA,IACI7Q,EADA2R,EAAW,GAGuB,QAA9B3R,EAAS2Q,EAAMuF,KAAKrF,KAC1Bc,EAASjQ,KAAK,CACZ4D,KAAMtF,EAAO,GACb0J,MAAO1J,EAAO0J,MACduH,KAAMA,EACNxP,OAAQzB,EAAO,GAAGyB,SAItB,OAAOkQ,EAWT,SAASwE,EAAsB7E,GAC7B,IAEI8E,EACAC,EAHAC,EAAUL,EAAYtF,GAAML,QAASW,GAAKX,QAASgB,GACnDiF,EAAeN,EAAYtF,GAAMJ,aAAcU,GAAKV,aAAce,GAatE,OATIrJ,KACFmO,EAAWH,EAAYtF,GAAMN,KAAMY,GAAKZ,KAAMiB,GAC9C+E,EAAYJ,EAAYtF,GAAMT,MAAOe,GAAKf,MAAOoB,KAEjD8E,EAAWH,EAAYtF,GAAMP,WAAYa,GAAKZ,KAAMiB,GACpD+E,EAAY,IAGHC,EAAQ7O,OAAO8O,EAAcH,EAAUC,GACtCT,MAAK,SAAUY,EAAIC,GAC7B,OAAOD,EAAG9M,MAAQ+M,EAAG/M,SACpBgN,KAAI,SAAU1R,GACf,MAAO,CACLM,KAAMN,EAAIM,KACV2L,KAAMjM,EAAIiM,KACVxP,OAAQuD,EAAIvD,WAclB,SAASkV,EAAqBlV,EAAQgQ,GACpC,OAAQA,GACN,KAAKR,GAAKX,QACR,OAAO4C,GAAYnB,cAActQ,GAEnC,KAAKwP,GAAKV,aACR,OAAO+C,GAAiBvB,cAActQ,GAExC,KAAKwP,GAAKf,MACR,OAAOyD,GAAU5B,cAActQ,GAEjC,KAAKwP,GAAKZ,KACR,OAAOoD,GAAS1B,cAActQ,IA8JpC,SAASmV,EAAmBtR,EAAMuR,GAChC,IAAIpF,EACAqF,EAAW7F,GAAKI,mBAAmB/L,GAGvC,IAFAmM,EAASR,GAAKzL,KAAKqR,EAAWC,MAEf7F,GAAKZ,MAAQoB,EAAOzI,IAAM8N,EAAS9N,IAChD,MAAM,IAAI9C,MAAM,IAAMZ,EAAN,iCAAqD2L,GAAKhO,SAASwO,GAAU,0BAA4BR,GAAKhO,SAAS6T,IAQzI,OAJIrF,IAAWR,GAAKf,OAAUjI,MAC5BwJ,EAASR,GAAKZ,MAGRoB,GACN,KAAKR,GAAKX,QACR,OAAO,IAAI4C,GAAY5N,GAEzB,KAAK2L,GAAKV,aACR,OAAO,IAAI+C,GAAiBhO,GAE9B,KAAK2L,GAAKf,MACR,OAAO,IAAIyD,GAAUrO,GAEvB,KAAK2L,GAAKZ,KACR,OAAO,IAAIoD,GAASnO,IAoB1BoD,EAAQqO,UAAY,SAAmB7S,GACrC,OAAOA,EAAM8S,QAAO,SAAUC,EAAK7E,GAOjC,MANmB,iBAARA,EACT6E,EAAIvV,KAAKkV,EAAmBxE,EAAK,OACxBA,EAAI9M,MACb2R,EAAIvV,KAAKkV,EAAmBxE,EAAI9M,KAAM8M,EAAInB,OAGrCgG,IACN,KAYLvO,EAAQ3D,WAAa,SAAoBO,EAAM4C,GAO7C,IANA,IAEI6L,EA7HN,SAAoBmB,EAAOhN,GAOzB,IANA,IAAIgP,EAAQ,GACRnD,EAAQ,CACV,MAAS,IAEPoD,EAAc,CAAC,SAEVzR,EAAI,EAAGA,EAAIwP,EAAMzT,OAAQiE,IAAK,CAIrC,IAHA,IAAI0R,EAAYlC,EAAMxP,GAClB2R,EAAiB,GAEZ/L,EAAI,EAAGA,EAAI8L,EAAU3V,OAAQ6J,IAAK,CACzC,IAAIgM,EAAOF,EAAU9L,GACjB+J,EAAM,GAAK3P,EAAI4F,EACnB+L,EAAe3V,KAAK2T,GACpB6B,EAAM7B,GAAO,CACXiC,KAAMA,EACNC,UAAW,GAEbxD,EAAMsB,GAAO,GAEb,IAAK,IAAIlU,EAAI,EAAGA,EAAIgW,EAAY1V,OAAQN,IAAK,CAC3C,IAAIqW,EAAaL,EAAYhW,GAEzB+V,EAAMM,IAAeN,EAAMM,GAAYF,KAAKrG,OAASqG,EAAKrG,MAC5D8C,EAAMyD,GAAYnC,GAAOsB,EAAqBO,EAAMM,GAAYD,UAAYD,EAAK7V,OAAQ6V,EAAKrG,MAAQ0F,EAAqBO,EAAMM,GAAYD,UAAWD,EAAKrG,MAC7JiG,EAAMM,GAAYD,WAAaD,EAAK7V,SAEhCyV,EAAMM,KAAaN,EAAMM,GAAYD,UAAYD,EAAK7V,QAC1DsS,EAAMyD,GAAYnC,GAAOsB,EAAqBW,EAAK7V,OAAQ6V,EAAKrG,MAAQ,EAAIA,GAAKG,sBAAsBkG,EAAKrG,KAAM/I,KAKxHiP,EAAcE,EAGhB,IAAKlW,EAAI,EAAGA,EAAIgW,EAAY1V,OAAQN,IAClC4S,EAAMoD,EAAYhW,IAAS,IAAI,EAGjC,MAAO,CACLuV,IAAK3C,EACLmD,MAAOA,GAkFGO,CAzLd,SAAoBC,GAGlB,IAFA,IAAIxC,EAAQ,GAEHxP,EAAI,EAAGA,EAAIgS,EAAKjW,OAAQiE,IAAK,CACpC,IAAI0M,EAAMsF,EAAKhS,GAEf,OAAQ0M,EAAInB,MACV,KAAKA,GAAKX,QACR4E,EAAMxT,KAAK,CAAC0Q,EAAK,CACf9M,KAAM8M,EAAI9M,KACV2L,KAAMA,GAAKV,aACX9O,OAAQ2Q,EAAI3Q,QACX,CACD6D,KAAM8M,EAAI9M,KACV2L,KAAMA,GAAKZ,KACX5O,OAAQ2Q,EAAI3Q,UAEd,MAEF,KAAKwP,GAAKV,aACR2E,EAAMxT,KAAK,CAAC0Q,EAAK,CACf9M,KAAM8M,EAAI9M,KACV2L,KAAMA,GAAKZ,KACX5O,OAAQ2Q,EAAI3Q,UAEd,MAEF,KAAKwP,GAAKf,MACRgF,EAAMxT,KAAK,CAAC0Q,EAAK,CACf9M,KAAM8M,EAAI9M,KACV2L,KAAMA,GAAKZ,KACX5O,OAAQqU,EAAoB1D,EAAI9M,SAElC,MAEF,KAAK2L,GAAKZ,KACR6E,EAAMxT,KAAK,CAAC,CACV4D,KAAM8M,EAAI9M,KACV2L,KAAMA,GAAKZ,KACX5O,OAAQqU,EAAoB1D,EAAI9M,UAKxC,OAAO4P,EA4IKyC,CADDxB,EAAsB7Q,EAAM2C,MAETC,GAC1BO,EAAOmL,GAAWuB,UAAUpB,EAAM2C,IAAK,QAAS,OAChDkB,EAAgB,GAEXlS,EAAI,EAAGA,EAAI+C,EAAKhH,OAAS,EAAGiE,IACnCkS,EAAclW,KAAKqS,EAAMmD,MAAMzO,EAAK/C,IAAI4R,MAG1C,OAAO5O,EAAQqO,UAhOjB,SAAuBW,GACrB,OAAOA,EAAKV,QAAO,SAAUC,EAAKY,GAChC,IAAIC,EAAUb,EAAIxV,OAAS,GAAK,EAAIwV,EAAIA,EAAIxV,OAAS,GAAK,KAE1D,OAAIqW,GAAWA,EAAQ7G,OAAS4G,EAAK5G,MACnCgG,EAAIA,EAAIxV,OAAS,GAAG6D,MAAQuS,EAAKvS,KAC1B2R,IAGTA,EAAIvV,KAAKmW,GACFZ,KACN,IAqNsBc,CAAcH,KAczClP,EAAQsP,SAAW,SAAkB1S,GACnC,OAAOoD,EAAQqO,UAAUZ,EAAsB7Q,EAAM2C,UAuIzD,SAASgQ,GAAgBC,EAAQpP,EAAsB2C,GACrD,IAEI/F,EAAGoJ,EAFHrJ,EAAOyS,EAAOzS,KACd0S,EAAOtF,GAA0B/J,EAAsB2C,GAG3D,IAAK/F,EAAI,EAAGA,EAAI,GAAIA,IAClBoJ,EAA0B,IAAnBqJ,GAAQzS,EAAI,GAEfA,EAAI,EACNwS,EAAO5Q,IAAI5B,EAAG,EAAGoJ,GAAK,GACbpJ,EAAI,EACbwS,EAAO5Q,IAAI5B,EAAI,EAAG,EAAGoJ,GAAK,GAE1BoJ,EAAO5Q,IAAI7B,EAAO,GAAKC,EAAG,EAAGoJ,GAAK,GAIhCpJ,EAAI,EACNwS,EAAO5Q,IAAI,EAAG7B,EAAOC,EAAI,EAAGoJ,GAAK,GACxBpJ,EAAI,EACbwS,EAAO5Q,IAAI,EAAG,GAAK5B,EAAI,EAAI,EAAGoJ,GAAK,GAEnCoJ,EAAO5Q,IAAI,EAAG,GAAK5B,EAAI,EAAGoJ,GAAK,GAKnCoJ,EAAO5Q,IAAI7B,EAAO,EAAG,EAAG,GAAG,GA2D7B,SAAS2S,GAAWlQ,EAASY,EAAsB6I,GAEjD,IAAIvM,EAAS,IAAI8E,EACjByH,EAASE,SAAQ,SAAUvM,GAEzBF,EAAO0E,IAAIxE,EAAK2L,KAAKjI,IAAK,GAQ1B5D,EAAO0E,IAAIxE,EAAKmN,YAAaxB,GAAKG,sBAAsB9L,EAAK2L,KAAM/I,IAEnE5C,EAAKT,MAAMO,MAGb,IAEI6M,EAA+D,GAF9ChK,EAA8BC,GAC5BiG,EAA2CjG,EAASY,IAe3E,IARI1D,EAAO6E,kBAAoB,GAAKgI,GAClC7M,EAAO0E,IAAI,EAAG,GAOT1E,EAAO6E,kBAAoB,GAAM,GACtC7E,EAAO4E,OAAO,GAShB,IAFA,IAAIqO,GAAiBpG,EAAyB7M,EAAO6E,mBAAqB,EAEjEvE,EAAI,EAAGA,EAAI2S,EAAe3S,IACjCN,EAAO0E,IAAIpE,EAAI,EAAI,GAAO,IAAM,GAGlC,OAaF,SAAyBwE,EAAWhC,EAASY,GAyB3C,IAvBA,IAAIwP,EAAiBrQ,EAA8BC,GAE/CqQ,EAAmBpK,EAA2CjG,EAASY,GAEvE0P,EAAqBF,EAAiBC,EAEtCE,EAAgBtK,EAAmCjG,EAASY,GAG5D4P,EAAiBD,EADAH,EAAiBG,EAElCE,EAAyB/O,KAAKC,MAAMyO,EAAiBG,GACrDG,EAAwBhP,KAAKC,MAAM2O,EAAqBC,GACxDI,EAAwBD,EAAwB,EAEhDE,EAAUH,EAAyBC,EAEnCG,EAAK,IAAIlJ,GAAmBiJ,GAC5BhV,EAAS,EACTkV,EAAS,IAAI7V,MAAMsV,GACnBQ,EAAS,IAAI9V,MAAMsV,GACnBS,EAAc,EACd9T,EAAS2C,EAAsBmC,EAAU9E,QAEpCyC,EAAI,EAAGA,EAAI4Q,EAAe5Q,IAAK,CACtC,IAAIsR,EAAWtR,EAAI6Q,EAAiBE,EAAwBC,EAE5DG,EAAOnR,GAAKzC,EAAON,MAAMhB,EAAQA,EAASqV,GAE1CF,EAAOpR,GAAKkR,EAAGvJ,OAAOwJ,EAAOnR,IAC7B/D,GAAUqV,EACVD,EAActP,KAAKwP,IAAIF,EAAaC,GAKtC,IAEIzT,EAAG7D,EAFHyD,EAAOyC,EAAuBuQ,GAC9B5O,EAAQ,EAGZ,IAAKhE,EAAI,EAAGA,EAAIwT,EAAaxT,IAC3B,IAAK7D,EAAI,EAAGA,EAAI4W,EAAe5W,IACzB6D,EAAIsT,EAAOnX,GAAGJ,SAChB6D,EAAKoE,KAAWsP,EAAOnX,GAAG6D,IAMhC,IAAKA,EAAI,EAAGA,EAAIoT,EAASpT,IACvB,IAAK7D,EAAI,EAAGA,EAAI4W,EAAe5W,IAC7ByD,EAAKoE,KAAWuP,EAAOpX,GAAG6D,GAI9B,OAAOJ,EArEA+T,CAAgBjU,EAAQ8C,EAASY,GAkF1C,SAASwQ,GAAahU,EAAMiU,EAAWzQ,EAAsB0Q,GAC3D,IAAIC,EAEJ,GAAIvW,EAAQoC,GACVmU,EAAa9H,GAASoF,UAAUzR,OAC3B,IAAoB,iBAATA,EAahB,MAAM,IAAIY,MAAM,gBAZhB,IAAIwT,EAAmBH,EAEvB,IAAKG,EAAkB,CACrB,IAAIC,EAAchI,GAASqG,SAAS1S,GAEpCoU,EAAmBxR,GAAQiK,sBAAsBwH,EAAa7Q,GAKhE2Q,EAAa9H,GAAS5M,WAAWO,EAAMoU,GAAoB,IAM7D,IAAIE,EAAc1R,GAAQiK,sBAAsBsH,EAAY3Q,GAE5D,IAAK8Q,EACH,MAAM,IAAI1T,MAAM,2DAIlB,GAAKqT,GAEE,GAAIA,EAAYK,EACrB,MAAM,IAAI1T,MAAM,wHAAoI0T,EAAc,YAFlKL,EAAYK,EAKd,IAAIC,EAAWzB,GAAWmB,EAAWzQ,EAAsB2Q,GAEvDK,EAAc7R,EAAoBsR,GAClCQ,EAAU,IAAIrP,EAAUoP,GA2B5B,OA5XF,SAA4B5B,EAAQhQ,GAIlC,IAHA,IAAIzC,EAAOyS,EAAOzS,KACdkC,EAAM6D,EAA2BtD,GAE5BxC,EAAI,EAAGA,EAAIiC,EAAIlG,OAAQiE,IAI9B,IAHA,IAAI2E,EAAM1C,EAAIjC,GAAG,GACb4E,EAAM3C,EAAIjC,GAAG,GAER7D,GAAK,EAAGA,GAAK,EAAGA,IACvB,KAAIwI,EAAMxI,IAAM,GAAK4D,GAAQ4E,EAAMxI,GAEnC,IAAK,IAAImY,GAAK,EAAGA,GAAK,EAAGA,IACnB1P,EAAM0P,IAAM,GAAKvU,GAAQ6E,EAAM0P,IAE/BnY,GAAK,GAAKA,GAAK,IAAY,IAANmY,GAAiB,IAANA,IAAYA,GAAK,GAAKA,GAAK,IAAY,IAANnY,GAAiB,IAANA,IAAYA,GAAK,GAAKA,GAAK,GAAKmY,GAAK,GAAKA,GAAK,EAC7H9B,EAAO5Q,IAAI+C,EAAMxI,EAAGyI,EAAM0P,GAAG,GAAM,GAEnC9B,EAAO5Q,IAAI+C,EAAMxI,EAAGyI,EAAM0P,GAAG,GAAO,IAkV5CC,CAAmBF,EAASR,GAnU9B,SAA4BrB,GAG1B,IAFA,IAAIzS,EAAOyS,EAAOzS,KAET5D,EAAI,EAAGA,EAAI4D,EAAO,EAAG5D,IAAK,CACjC,IAAIlC,EAAQkC,EAAI,GAAM,EACtBqW,EAAO5Q,IAAIzF,EAAG,EAAGlC,GAAO,GACxBuY,EAAO5Q,IAAI,EAAGzF,EAAGlC,GAAO,IA8T1Bua,CAAmBH,GAjTrB,SAA+B7B,EAAQhQ,GAGrC,IAFA,IAAIP,EAAMgD,EAAiBQ,aAAajD,GAE/BxC,EAAI,EAAGA,EAAIiC,EAAIlG,OAAQiE,IAI9B,IAHA,IAAI2E,EAAM1C,EAAIjC,GAAG,GACb4E,EAAM3C,EAAIjC,GAAG,GAER7D,GAAK,EAAGA,GAAK,EAAGA,IACvB,IAAK,IAAImY,GAAK,EAAGA,GAAK,EAAGA,KACZ,IAAPnY,GAAkB,IAANA,IAAkB,IAAPmY,GAAkB,IAANA,GAAiB,IAANnY,GAAiB,IAANmY,EAC3D9B,EAAO5Q,IAAI+C,EAAMxI,EAAGyI,EAAM0P,GAAG,GAAM,GAEnC9B,EAAO5Q,IAAI+C,EAAMxI,EAAGyI,EAAM0P,GAAG,GAAO,GAsS5CG,CAAsBJ,EAASR,GAK/BtB,GAAgB8B,EAASjR,EAAsB,GAE3CyQ,GAAa,GA/RnB,SAA0BrB,EAAQqB,GAKhC,IAJA,IAEIlP,EAAKC,EAAKwE,EAFVrJ,EAAOyS,EAAOzS,KACd0S,EAAOjQ,GAAQwK,eAAe6G,GAGzB7T,EAAI,EAAGA,EAAI,GAAIA,IACtB2E,EAAMT,KAAKC,MAAMnE,EAAI,GACrB4E,EAAM5E,EAAI,EAAID,EAAO,EAAI,EACzBqJ,EAA0B,IAAnBqJ,GAAQzS,EAAI,GACnBwS,EAAO5Q,IAAI+C,EAAKC,EAAKwE,GAAK,GAC1BoJ,EAAO5Q,IAAIgD,EAAKD,EAAKyE,GAAK,GAsR1BsL,CAAiBL,EAASR,GArO9B,SAAmBrB,EAAQ5S,GAOzB,IANA,IAAIG,EAAOyS,EAAOzS,KACd4U,GAAO,EACPhQ,EAAM5E,EAAO,EACb6U,EAAW,EACXC,EAAY,EAEPjQ,EAAM7E,EAAO,EAAG6E,EAAM,EAAGA,GAAO,EAGvC,IAFY,IAARA,GAAWA,MAEF,CACX,IAAK,IAAI0P,EAAI,EAAGA,EAAI,EAAGA,IACrB,IAAK9B,EAAOzN,WAAWJ,EAAKC,EAAM0P,GAAI,CACpC,IAAIQ,GAAO,EAEPD,EAAYjV,EAAK7D,SACnB+Y,EAA8C,IAAtClV,EAAKiV,KAAeD,EAAW,IAGzCpC,EAAO5Q,IAAI+C,EAAKC,EAAM0P,EAAGQ,IAGP,KAFlBF,IAGEC,IACAD,EAAW,GAOjB,IAFAjQ,GAAOgQ,GAEG,GAAK5U,GAAQ4E,EAAK,CAC1BA,GAAOgQ,EACPA,GAAOA,EACP,QAuMNI,CAAUV,EAASF,GAEfvN,MAAMkN,KAERA,EAAgB/N,EAAYgC,YAAYsM,EAAS9B,GAAgByC,KAAK,KAAMX,EAASjR,KAIvF2C,EAAY8B,UAAUiM,EAAeO,GAErC9B,GAAgB8B,EAASjR,EAAsB0Q,GACxC,CACLO,QAASA,EACT7R,QAASqR,EACTzQ,qBAAsBA,EACtB2C,YAAa+N,EACb7H,SAAU8H,GAcd,IAuBIkB,GAvBS,SAAgBrV,EAAMsV,GACjC,QAAoB,IAATtV,GAAiC,KAATA,EACjC,MAAM,IAAIY,MAAM,iBAGlB,IACIqT,EACAlN,EAFA+B,EAAyBtF,EAAqBG,EAelD,YAXuB,IAAZ2R,IAETxM,EAAyBtF,EAAqBtD,KAAKoV,EAAQ9R,qBAAsBA,EAAqBG,GACtGsQ,EAAYrR,GAAQ1C,KAAKoV,EAAQ1S,SACjCmE,EAAOZ,EAAYjG,KAAKoV,EAAQnP,aAE5BmP,EAAQC,YACV5S,EAAwB2S,EAAQC,aAI7BvB,GAAahU,EAAMiU,EAAWnL,EAAwB/B,IAM3DyO,GAAUzS,GAAqB,SAAUG,EAAQE,GACnD,SAASqS,EAASC,GAKhB,GAJmB,iBAARA,IACTA,EAAMA,EAAI/X,YAGO,iBAAR+X,EACT,MAAM,IAAI9U,MAAM,yCAGlB,IAAI+U,EAAUD,EAAIlW,QAAQmL,QAAQ,IAAK,IAAIiL,MAAM,IAEjD,GAAID,EAAQxZ,OAAS,GAAwB,IAAnBwZ,EAAQxZ,QAAgBwZ,EAAQxZ,OAAS,EACjE,MAAM,IAAIyE,MAAM,sBAAwB8U,GAInB,IAAnBC,EAAQxZ,QAAmC,IAAnBwZ,EAAQxZ,SAClCwZ,EAAU9X,MAAMlB,UAAUwF,OAAOtH,MAAM,GAAI8a,EAAQvE,KAAI,SAAUsD,GAC/D,MAAO,CAACA,EAAGA,QAKQ,IAAnBiB,EAAQxZ,QAAcwZ,EAAQvZ,KAAK,IAAK,KAC5C,IAAIyZ,EAAW5O,SAAS0O,EAAQjG,KAAK,IAAK,IAC1C,MAAO,CACLnT,EAAGsZ,GAAY,GAAK,IACpB1a,EAAG0a,GAAY,GAAK,IACpBtT,EAAGsT,GAAY,EAAI,IACnBzF,EAAc,IAAXyF,EACHH,IAAK,IAAMC,EAAQnW,MAAM,EAAG,GAAGkQ,KAAK,KAIxCtM,EAAQ0S,WAAa,SAAoBR,GAClCA,IAASA,EAAU,IACnBA,EAAQS,QAAOT,EAAQS,MAAQ,IACpC,IAAIC,OAAmC,IAAnBV,EAAQU,QAA6C,OAAnBV,EAAQU,QAAmBV,EAAQU,OAAS,EAAI,EAAIV,EAAQU,OAC9GC,EAAQX,EAAQW,OAASX,EAAQW,OAAS,GAAKX,EAAQW,WAAQhX,EAC/DiX,EAAQZ,EAAQY,OAAS,EAC7B,MAAO,CACLD,MAAOA,EACPC,MAAOD,EAAQ,EAAIC,EACnBF,OAAQA,EACRD,MAAO,CACLb,KAAMO,EAASH,EAAQS,MAAMb,MAAQ,aACrCiB,MAAOV,EAASH,EAAQS,MAAMI,OAAS,cAEzClZ,KAAMqY,EAAQrY,KACdmZ,aAAcd,EAAQc,cAAgB,KAI1ChT,EAAQiT,SAAW,SAAkBC,EAAQxG,GAC3C,OAAOA,EAAKmG,OAASnG,EAAKmG,OAASK,EAAuB,EAAdxG,EAAKkG,OAAalG,EAAKmG,OAASK,EAAuB,EAAdxG,EAAKkG,QAAclG,EAAKoG,OAG/G9S,EAAQmT,cAAgB,SAAuBD,EAAQxG,GACrD,IAAIoG,EAAQ9S,EAAQiT,SAASC,EAAQxG,GACrC,OAAOxL,KAAKC,OAAO+R,EAAuB,EAAdxG,EAAKkG,QAAcE,IAGjD9S,EAAQoT,cAAgB,SAAuBC,EAASC,EAAI5G,GAQ1D,IAPA,IAAI3P,EAAOuW,EAAGjC,QAAQtU,KAClBH,EAAO0W,EAAGjC,QAAQzU,KAClBkW,EAAQ9S,EAAQiT,SAASlW,EAAM2P,GAC/B6G,EAAarS,KAAKC,OAAOpE,EAAqB,EAAd2P,EAAKkG,QAAcE,GACnDU,EAAe9G,EAAKkG,OAASE,EAC7BW,EAAU,CAAC/G,EAAKiG,MAAMI,MAAOrG,EAAKiG,MAAMb,MAEnC9U,EAAI,EAAGA,EAAIuW,EAAYvW,IAC9B,IAAK,IAAI4F,EAAI,EAAGA,EAAI2Q,EAAY3Q,IAAK,CACnC,IAAI8Q,EAAgC,GAAtB1W,EAAIuW,EAAa3Q,GAC3B+Q,EAAUjH,EAAKiG,MAAMI,MAEzB,GAAI/V,GAAKwW,GAAgB5Q,GAAK4Q,GAAgBxW,EAAIuW,EAAaC,GAAgB5Q,EAAI2Q,EAAaC,EAG9FG,EAAUF,EAAQ7W,EAFPsE,KAAKC,OAAOnE,EAAIwW,GAAgBV,GAEb/V,EADnBmE,KAAKC,OAAOyB,EAAI4Q,GAAgBV,IACE,EAAI,GAGnDO,EAAQK,KAAYC,EAAQxa,EAC5Bka,EAAQK,KAAYC,EAAQ5b,EAC5Bsb,EAAQK,KAAYC,EAAQxU,EAC5BkU,EAAQK,GAAUC,EAAQ3G,OAK9B4G,GAASjU,GAAqB,SAAUG,EAAQE,GAkBlDA,EAAQxG,OAAS,SAAgBqa,EAAQD,EAAQ1B,GAC/C,IAAIxF,EAAOwF,EACP4B,EAAWF,OAEK,IAATlH,GAA0BkH,GAAWA,EAAOG,aACrDrH,EAAOkH,EACPA,OAAS/X,GAGN+X,IACHE,EAlBJ,WACE,IACE,OAAOE,SAASC,cAAc,UAC9B,MAAO7c,GACP,MAAM,IAAIoG,MAAM,yCAcL0W,IAGbxH,EAAO0F,GAAQM,WAAWhG,GAC1B,IAAI3P,EAAOqV,GAAQe,cAAcU,EAAOxC,QAAQtU,KAAM2P,GAClDyH,EAAML,EAASC,WAAW,MAC1BK,EAAQD,EAAIE,gBAAgBtX,EAAMA,GAItC,OAHAqV,GAAQgB,cAAcgB,EAAMxX,KAAMiX,EAAQnH,GAlC5C,SAAqByH,EAAKP,EAAQ7W,GAChCoX,EAAIG,UAAU,EAAG,EAAGV,EAAOf,MAAOe,EAAOW,QACpCX,EAAOvZ,QAAOuZ,EAAOvZ,MAAQ,IAClCuZ,EAAOW,OAASxX,EAChB6W,EAAOf,MAAQ9V,EACf6W,EAAOvZ,MAAMka,OAASxX,EAAO,KAC7B6W,EAAOvZ,MAAMwY,MAAQ9V,EAAO,KA6B5ByX,CAAYL,EAAKL,EAAU/W,GAC3BoX,EAAIM,aAAaL,EAAO,EAAG,GACpBN,GAGT9T,EAAQ0U,gBAAkB,SAAyBb,EAAQD,EAAQ1B,GACjE,IAAIxF,EAAOwF,OAES,IAATxF,GAA0BkH,GAAWA,EAAOG,aACrDrH,EAAOkH,EACPA,OAAS/X,GAGN6Q,IAAMA,EAAO,IAClB,IAAIoH,EAAW9T,EAAQxG,OAAOqa,EAAQD,EAAQlH,GAC1C7S,EAAO6S,EAAK7S,MAAQ,YACpBmZ,EAAetG,EAAKsG,cAAgB,GACxC,OAAOc,EAASa,UAAU9a,EAAMmZ,EAAa4B,aAIjD,SAASC,GAAelC,EAAOmC,GAC7B,IAAIC,EAAQpC,EAAM3F,EAAI,IAClB7E,EAAM2M,EAAS,KAAOnC,EAAML,IAAM,IACtC,OAAOyC,EAAQ,EAAI5M,EAAM,IAAM2M,EAAS,aAAeC,EAAMC,QAAQ,GAAG5Y,MAAM,GAAK,IAAM+L,EAG3F,SAAS8M,GAAOC,EAAKrP,EAAGhO,GACtB,IAAIsQ,EAAM+M,EAAMrP,EAEhB,YADiB,IAANhO,IAAmBsQ,GAAO,IAAMtQ,GACpCsQ,EAmCT,IAkBIgN,GAlBS,SAAgBtB,EAAQ3B,EAASkD,GAC5C,IAAI1I,EAAO0F,GAAQM,WAAWR,GAC1BnV,EAAO8W,EAAOxC,QAAQtU,KACtBH,EAAOiX,EAAOxC,QAAQzU,KACtByY,EAAatY,EAAqB,EAAd2P,EAAKkG,OACzB0C,EAAM5I,EAAKiG,MAAMI,MAAM/F,EAAS,SAAW6H,GAAenI,EAAKiG,MAAMI,MAAO,QAAU,YAAcsC,EAAa,IAAMA,EAAa,SAAzG,GAC3BtV,EAAO,SAAW8U,GAAenI,EAAKiG,MAAMb,KAAM,UAAY,OAtCpE,SAAkBlV,EAAMG,EAAM6V,GAM5B,IALA,IAAI7S,EAAO,GACPwV,EAAS,EACTC,GAAS,EACTC,EAAa,EAERzY,EAAI,EAAGA,EAAIJ,EAAK7D,OAAQiE,IAAK,CACpC,IAAI4E,EAAMV,KAAKC,MAAMnE,EAAID,GACrB4E,EAAMT,KAAKC,MAAMnE,EAAID,GACpB6E,GAAQ4T,IAAQA,GAAS,GAE1B5Y,EAAKI,IACPyY,IAEMzY,EAAI,GAAK4E,EAAM,GAAKhF,EAAKI,EAAI,KACjC+C,GAAQyV,EAASP,GAAO,IAAKrT,EAAMgR,EAAQ,GAAMjR,EAAMiR,GAAUqC,GAAO,IAAKM,EAAQ,GACrFA,EAAS,EACTC,GAAS,GAGL5T,EAAM,EAAI7E,GAAQH,EAAKI,EAAI,KAC/B+C,GAAQkV,GAAO,IAAKQ,GACpBA,EAAa,IAGfF,IAIJ,OAAOxV,EASoE2V,CAAS9Y,EAAMG,EAAM2P,EAAKkG,QAAU,MAC3G+C,EAAU,gBAAuBN,EAAa,IAAMA,EAAa,IAEjEF,EAAS,4CADAzI,EAAKmG,MAAa,UAAYnG,EAAKmG,MAAQ,aAAenG,EAAKmG,MAAQ,KAA1D,IACwC8C,EAAU,iCAAmCL,EAAKvV,EAAO,WAM3H,MAJkB,mBAAPqV,GACTA,EAAG,KAAMD,GAGJA,GAOT,SAASS,GAAaC,EAAYjC,EAAQkC,EAAMpJ,EAAM0I,GACpD,IAAIW,EAAO,GAAG3Z,MAAMvD,KAAKmd,UAAW,GAChCC,EAAUF,EAAKhd,OACfmd,EAA2C,mBAAtBH,EAAKE,EAAU,GAExC,IAAKC,IAAgB5b,IACnB,MAAM,IAAIkD,MAAM,sCAGlB,IAAI0Y,EAoBG,CACL,GAAID,EAAU,EACZ,MAAM,IAAIzY,MAAM,8BAYlB,OATgB,IAAZyY,GACFH,EAAOlC,EACPA,EAASlH,OAAO7Q,GACK,IAAZoa,GAAkBrC,EAAOG,aAClCrH,EAAOoJ,EACPA,EAAOlC,EACPA,OAAS/X,GAGJ,IAAIhF,SAAQ,SAAUC,EAASC,GACpC,IACE,IAAI6F,EAAOqV,GAAc6D,EAAMpJ,GAC/B5V,EAAQ+e,EAAWjZ,EAAMgX,EAAQlH,IACjC,MAAOtV,GACPL,EAAOK,OAtCX,GAAI6e,EAAU,EACZ,MAAM,IAAIzY,MAAM,8BAGF,IAAZyY,GACFb,EAAKU,EACLA,EAAOlC,EACPA,EAASlH,OAAO7Q,GACK,IAAZoa,IACLrC,EAAOG,iBAA4B,IAAPqB,GAC9BA,EAAK1I,EACLA,OAAO7Q,IAEPuZ,EAAK1I,EACLA,EAAOoJ,EACPA,EAAOlC,EACPA,OAAS/X,IA2Bf,IACE,IAAIe,EAAOqV,GAAc6D,EAAMpJ,GAC/B0I,EAAG,KAAMS,EAAWjZ,EAAMgX,EAAQlH,IAClC,MAAOtV,GACPge,EAAGhe,IAIP,IAOI+e,GAAU,CACZC,OARanE,GASboE,SARaT,GAAa5D,KAAK,KAAM4B,GAAOpa,QAS5Cmb,UARciB,GAAa5D,KAAK,KAAM4B,GAAOc,iBAS7Cna,SAPeqb,GAAa5D,KAAK,MAAM,SAAUpV,EAAM5E,EAAG0U,GAC1D,OAAOyI,GAAcvY,EAAM8P,OASzB4J,GAAS,IAAI,IAAO,QAEpBC,GAEJ,WACE,SAASC,EAAQtd,IACf,IAAAC,GAAiBX,KAAMU,GACvBV,KAAK2B,WAAa,CAChBsc,WAAW,GAIbje,KAAKke,sBAAwB,EAAAzM,EAG7BzR,KAAKme,WAAa,EAAA/J,EAAA,iBAGlBpU,KAAKoe,OAAS,EAAAhK,EAAA,YACdpU,KAAKsG,KAAO,KACZtG,KAAKqe,aAAe,KACpBre,KAAKse,YAAc,KACnBte,KAAKue,SAAU,EA0QjB,OAvQAP,EAAQjd,UAAUyd,kBAAoB,WACpC,OAAOxgB,EAAUgC,UAAM,OAAQ,GAAQ,WACrC,IAAIye,EAAQze,KAEZ,OAAOd,EAAYc,MAAM,SAAU0e,GACjC,OAAQA,EAAGjf,OACT,KAAK,EASH,OAHAO,KAAK2e,mBAAoB,IAAAC,IAAoB,SAAUC,GACjDA,IAAc,EAAAC,EAAA,WAAqBL,EAAMM,WAExC,CAAC,EAEN/e,KAAK+e,SAET,KAAK,EAGH,OAFAL,EAAGhf,OAEI,CAAC,WAQlBse,EAAQjd,UAAUie,qBAAuB,WACvChf,KAAK2e,mBAAqB3e,KAAK2e,qBAGjCX,EAAQjd,UAAUke,iBAAmB,SAAUC,EAAMd,EAAQe,GAC3D,MAAO,kBAAoBf,EAAS,IAAMc,EAAKE,SAAW,WAAaD,EAAY,WAAaf,GAGlGJ,EAAQjd,UAAUse,YAAc,SAAUC,EAAOlb,EAAM8a,GACrD,OAAOlhB,EAAUgC,UAAM,OAAQ,GAAQ,WACrC,OAAOd,EAAYc,MAAM,SAAU0e,GACjC,OAAQA,EAAGjf,OACT,KAAK,EAEH,OADAqe,GAAOyB,MAAM,gBAAiBD,EAAOlb,GAC/Bkb,IAAU,EAAAE,GAAcpb,IAAS,IAAiB,CAAC,EAEvD,GACK,CAAC,GAEN,IAAA0U,GAAaoG,EAAMlf,KAAKke,wBAE5B,KAAK,EACHQ,EAAGhf,OAEHgf,EAAGjf,MAAQ,EAEb,KAAK,EACH,MAAO,CAAC,WAQlBue,EAAQjd,UAAU0e,sBAAwB,SAAUH,GAClDtf,KAAKqe,aAAe,KACpBre,KAAKse,YAAcgB,EAAMpZ,OAAOzH,OAGlCuf,EAAQjd,UAAU2e,eAAiB,SAAUC,GAC3C,OAAO3hB,EAAUgC,UAAM,OAAQ,GAAQ,WACrC,IAAI0e,EAAIkB,EAER,OAAO1gB,EAAYc,MAAM,SAAU6f,GACjC,OAAQA,EAAGpgB,OACT,KAAK,EAIH,OAHAogB,EAAGlgB,KAAKa,KAAK,CAAC,EAAG,EAAE,CAAE,IAErBke,EAAK1e,KACE,CAAC,EAEN2d,GAAQxB,UAAUwD,IAEtB,KAAK,EAEH,OADAjB,EAAGoB,kBAAoBD,EAAGngB,OACnB,CAAC,EAEN,GAEJ,KAAK,EAGH,OAFAkgB,EAAUC,EAAGngB,QACb,OAAsBkgB,GACf,CAAC,EAEN,GAEJ,KAAK,EACH,MAAO,CAAC,WAQlB5B,EAAQjd,UAAUge,MAAQ,WACxB,OAAO/gB,EAAUgC,UAAM,OAAQ,GAAQ,WACrC,IAAI+f,EAAeZ,EAAWa,EAC9B,OAAO9gB,EAAYc,MAAM,SAAU0e,GACjC,OAAQA,EAAGjf,OACT,KAAK,EAEH,IAAKO,KAAKkf,MAAoC,cAA5Blf,KAAKkf,KAAKe,eAAiCjgB,KAAKue,QAAS,MAAO,CAAC,GAMnF,GAHAve,KAAKqe,aAAe,KACpB0B,EAAgBG,UAAU,QAASlgB,KAAKoe,UAEnC,KAAkC,mBAAnB,cAClB,MAAM,IAAIpZ,MAAM,EAAAmb,GAGlBngB,KAAKue,SAAU,EACfG,EAAGjf,MAAQ,EAEb,KAAK,EAGH,OAFAif,EAAG/e,KAAKa,KAAK,CAAC,EAAG,EAAG,EAAG,IAEhB,CAAC,EAEN,cAAeR,KAAKkf,OAExB,KAAK,EAKH,OAJAC,EAAYT,EAAGhf,OACfoe,GAAOyB,MAAM,aAAcJ,GAC3Bnf,KAAKsG,KAAOtG,KAAKif,iBAAiBjf,KAAKkf,KAAMa,EAAeZ,GAC5Dnf,KAAK0f,eAAe1f,KAAKsG,MAClB,CAAC,EAEN,GAEJ,KAAK,EAIH,OAHA0Z,EAAUtB,EAAGhf,QACb,OAAsBsgB,GACtBlC,GAAOyB,MAAM,QAAS,EAAAnL,EAAA,oBAAkC4L,GACjD,CAAC,EAEN,GAEJ,KAAK,EAEH,OADAhgB,KAAKue,SAAU,EACR,CAAC,GAIV,KAAK,EACH,MAAO,CAAC,WAQlBP,EAAQjd,UAAUqf,gBAAkB,SAAUd,GAC5C,OAAOthB,EAAUgC,UAAM,OAAQ,GAAQ,WACrC,IAAIkf,EAAMmB,EACV,OAAOnhB,EAAYc,MAAM,SAAU0e,GACjC,OAAQA,EAAGjf,OACT,KAAK,EAKH,GAJI6f,GACFA,EAAMgB,kBAGHtgB,KAAKse,YAER,OADAR,GAAOyB,MAAM,yBACN,CAAC,GAOV,GAFAL,EAAOlf,KAAKkf,MAEP,KAAwC,mBAAzB,qBAAuE,mBAAzB,oBAChE,MAAM,IAAIla,MAAM,EAAAmb,GAGlBzB,EAAGjf,MAAQ,EAEb,KAAK,EAGH,OAFAif,EAAG/e,KAAKa,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAEN,oBAAqB0e,EAAMlf,KAAKse,cAEpC,KAAK,EAGH,OAFAI,EAAGhf,OAEI,CAAC,EAEN,oBAAqBwf,EAAM,EAAAnX,EAAA,OAE/B,KAAK,EAKH,OAJA2W,EAAGhf,OAEHM,KAAKqe,aAAe,QAAS,EAAAjK,EAAA,sBAC7B0J,GAAOyB,MAAM,QAAS,EAAAnL,EAAA,uBACf,CAAC,EAENpU,KAAKqf,YAAY,EAAAG,EAAY,IAASN,IAE1C,KAAK,EAGH,OAFAR,EAAGhf,OAEI,CAAC,EAEN,GAEJ,KAAK,EAIH,OAHA2gB,EAAU3B,EAAGhf,OACbM,KAAKqe,aAAe,QAAS,EAAAjK,EAAA,oBAC7B0J,GAAOyC,MAAMF,GACN,CAAC,EAEN,GAEJ,KAAK,EACH,MAAO,CAAC,WAQlBrC,EAAQjd,UAAUC,OAAS,WACzB,IAAIyd,EAAQze,KAEZ,OAAO,IAAAiB,GAAE,EAAAgH,EAAM,MAAM,IAAAhH,GAAE,uBAAwB,CAC7Ckd,WAAY,QAASne,KAAKme,YAC1BqC,iBAAkB,QAAS,EAAApM,EAAA,yBAC3BqM,aAAc,SAAsBnB,GAClC,OAAOb,EAAM2B,gBAAgBd,IAE/Bf,QAASve,KAAKue,UACb,IAAAtd,GAAE,MAAO,CACVC,MAAO,cACNlB,KAAK8f,oBAAqB,IAAA7e,GAAE,MAAO,CACpCwE,IAAKzF,KAAK8f,kBACVY,IAAK,QAAS,EAAAtM,EAAA,gBACZ,IAAAnT,GAAE,qBAAsB,CAC1BxB,MAAO,QAAS,EAAA2U,EAAA,YAChBzS,WAAY3B,KAAK2B,WACjBD,QAAS,WACTJ,KAAM,WACNE,kBAAmB,SAA2B8d,GAC5C,OAAOb,EAAMgB,sBAAsBH,UAKlCtB,EA5RT,GA+RAD,GAAiBlc,MApSS,8F,4KCrzGtB7D,EAAsC,SAAUC,EAASC,EAAYC,EAAGC,GAO1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GACjD,SAASC,EAAUC,GACjB,IACEC,EAAKN,EAAUO,KAAKF,IACpB,MAAOG,GACPL,EAAOK,IAIX,SAASC,EAASJ,GAChB,IACEC,EAAKN,EAAiB,MAAEK,IACxB,MAAOG,GACPL,EAAOK,IAIX,SAASF,EAAKI,GAvBhB,IAAeL,EAwBXK,EAAOC,KAAOT,EAAQQ,EAAOL,QAxBlBA,EAwBiCK,EAAOL,MAvB9CA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAClDA,EAAQG,OAsBkDO,KAAKR,EAAWK,GAG5EH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,YAI9DO,EAA0C,SAAUjB,EAASkB,GAC/D,IASIC,EACAC,EACAC,EACAC,EAZAC,EAAI,CACNC,MAAO,EACPC,KAAM,WACJ,GAAW,EAAPJ,EAAE,GAAQ,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEXK,KAAM,GACNC,IAAK,IAMP,OAAOL,EAAI,CACTZ,KAAMkB,EAAK,GACX,MAASA,EAAK,GACd,OAAUA,EAAK,IACI,mBAAXC,SAA0BP,EAAEO,OAAOC,UAAY,WACvD,OAAOC,OACLT,EAEJ,SAASM,EAAKI,GACZ,OAAO,SAAUC,GACf,OAIJ,SAAcC,GACZ,GAAIf,EAAG,MAAM,IAAIgB,UAAU,mCAE3B,KAAOZ,GACL,IACE,GAAIJ,EAAI,EAAGC,IAAMC,EAAY,EAARa,EAAG,GAASd,EAAU,OAAIc,EAAG,GAAKd,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEe,KAAKhB,GAAI,GAAKA,EAAEV,SAAWW,EAAIA,EAAEe,KAAKhB,EAAGc,EAAG,KAAKpB,KAAM,OAAOO,EAG3J,OAFID,EAAI,EAAGC,IAAGa,EAAK,CAAS,EAARA,EAAG,GAAQb,EAAEb,QAEzB0B,EAAG,IACT,KAAK,EACL,KAAK,EACHb,EAAIa,EACJ,MAEF,KAAK,EAEH,OADAX,EAAEC,QACK,CACLhB,MAAO0B,EAAG,GACVpB,MAAM,GAGV,KAAK,EACHS,EAAEC,QACFJ,EAAIc,EAAG,GACPA,EAAK,CAAC,GACN,SAEF,KAAK,EACHA,EAAKX,EAAEI,IAAIU,MAEXd,EAAEG,KAAKW,MAEP,SAEF,QACE,KAAMhB,EAAIE,EAAEG,MAAML,EAAIA,EAAEiB,OAAS,GAAKjB,EAAEA,EAAEiB,OAAS,KAAkB,IAAVJ,EAAG,IAAsB,IAAVA,EAAG,IAAW,CACtFX,EAAI,EACJ,SAGF,GAAc,IAAVW,EAAG,MAAcb,GAAKa,EAAG,GAAKb,EAAE,IAAMa,EAAG,GAAKb,EAAE,IAAK,CACvDE,EAAEC,MAAQU,EAAG,GACb,MAGF,GAAc,IAAVA,EAAG,IAAYX,EAAEC,MAAQH,EAAE,GAAI,CACjCE,EAAEC,MAAQH,EAAE,GACZA,EAAIa,EACJ,MAGF,GAAIb,GAAKE,EAAEC,MAAQH,EAAE,GAAI,CACvBE,EAAEC,MAAQH,EAAE,GAEZE,EAAEI,IAAIY,KAAKL,GAEX,MAGEb,EAAE,IAAIE,EAAEI,IAAIU,MAEhBd,EAAEG,KAAKW,MAEP,SAGJH,EAAKhB,EAAKkB,KAAKpC,EAASuB,GACxB,MAAOZ,GACPuB,EAAK,CAAC,EAAGvB,GACTS,EAAI,EACJ,QACAD,EAAIE,EAAI,EAIZ,GAAY,EAARa,EAAG,GAAQ,MAAMA,EAAG,GACxB,MAAO,CACL1B,MAAO0B,EAAG,GAAKA,EAAG,QAAK,EACvBpB,MAAM,GAlFCL,CAAK,CAACuB,EAAGC,OA6FlB4d,EAAS,IAAI,IAAO,gBAExB,SAAS6C,EAAazB,EAAMhB,GAC1B,OAAOlgB,EAAUgC,UAAM,OAAQ,GAAQ,WACrC,IAAIoE,EAAMwc,EAAShB,EACnB,OAAO1gB,EAAYc,MAAM,SAAU0e,GACjC,OAAQA,EAAGjf,OACT,KAAK,EACH,IAAK,KAAwC,mBAAzB,oBAClB,MAAM,IAAIuF,MAAM,EAAAmb,GAKlB,IAAKU,EAAc3B,GAEjB,OADAhB,EAAsB,EAAAY,EAAA,SAAoBI,GACnC,CAAC,GAKVR,EAAGjf,MAAQ,EAEb,KAAK,EAGH,OAFAif,EAAG/e,KAAKa,KAAK,CAAC,EAAG,EAAE,CAAE,IAEd,CAAC,EAEN,oBAAqB0e,IAEzB,KAAK,EAUH,OATA9a,EAAOsa,EAAGhf,SAEL,QAAQ0E,EAAK0c,YAAa,QAAQ1c,EAAK2c,YAC1C7C,EAAsB,EAAAY,EAAA,SAAoBI,IAE1C0B,EAAUzf,OAAOC,OAAO8d,EAAM9a,GAC9B8Z,EAAsB,EAAAY,EAAA,cAAyB8B,IAG1C,CAAC,EAEN,GAEJ,KAAK,EAGH,OAFAhB,EAAUlB,EAAGhf,QACb,OAAsBkgB,GACf,CAAC,EAEN,GAEJ,KAAK,EACH,MAAO,CAAC,UAQlB,IAAIoB,EAAe,SAAsB5B,EAAU6B,EAAU/C,GAC3D,OAAOlgB,OAAU,OAAQ,OAAQ,GAAQ,WACvC,IAAIkhB,EAAMc,EACV,OAAO9gB,EAAYc,MAAM,SAAU0e,GACjC,OAAQA,EAAGjf,OACT,KAAK,EACH,IAAK,KAA+B,mBAAhB,WAClB,MAAM,IAAIuF,MAAM,EAAAmb,GAGlBzB,EAAGjf,MAAQ,EAEb,KAAK,EAGH,OAFAif,EAAG/e,KAAKa,KAAK,CAAC,EAAG,EAAE,CAAE,KAEd,CAAC,EAEN,WAAY4e,EAAU6B,IAE1B,KAAK,EAGH,OAFA/B,EAAOR,EAAGhf,OACVoe,EAAOyB,MAAML,GACPA,EAAKe,gBAAkB,EAAAiB,EAAA,QAAwBhC,EAAKe,gBAAkB,EAAAiB,EAAA,iBAAwC,CAAC,EAEnH,IACFpD,EAAOyB,MAAM,qBAAuBL,EAAKe,eACzC/B,EAAsB,EAAAY,EAAA,cAAyBI,GACxC,CAAC,EAEN,IAEJ,KAAK,EACH,OAAMA,EAAKe,gBAAkB,EAAAiB,EAAA,oBAA2C,CAAC,EAEvE,IACFpD,EAAOyB,MAAM,uBAAwBL,EAAKiC,gBAC1CjD,EAAsB,EAAAY,EAAA,cAAyBI,GACxC,CAAC,EAEN,IAEJ,KAAK,EACH,OAAMA,EAAKe,gBAAkB,EAAAiB,EAAA,SAAgC,CAAC,EAE5D,IACFpD,EAAOyB,MAAM,aAAcL,EAAKiC,gBAChCjD,EAAsB,EAAAY,EAAA,UAAqBI,GACpC,CAAC,EAEN,IAEJ,KAAK,EACH,OAAMA,EAAKe,gBAAkB,EAAAiB,EAAA,iBAAiChC,EAAKiC,gBAAkD,SAAhCjC,EAAKiC,eAAeC,SAGzGtD,EAAOyB,MAAM,mBAAoBL,EAAKiC,gBACtCjD,EAAsB,EAAAY,EAAA,oBAA+BI,GAC9C,CAAC,EAEN,IAPmI,CAAC,EAEpI,GAOJ,KAAK,EACH,MAAO,CAAC,EAENyB,EAAazB,EAAMhB,IAEvB,KAAK,EACHQ,EAAGhf,OAEHgf,EAAGjf,MAAQ,EAEb,KAAK,EACH,MAAO,CAAC,EAEN,IAEJ,KAAK,EAmBH,MAhBqB,+BAFrBugB,EAAUtB,EAAGhf,QAED4G,MACVwX,EAAOyB,MAAM,6BACbrB,EAAsB,EAAAY,EAAA,cAAyB,CAC7CM,SAAUA,KAEc,mCAAjBY,EAAQ1Z,MACjBwX,EAAOyB,MAAM,oCACbrB,EAAsB,EAAAY,EAAA,eAA0B,CAC9CM,SAAUA,KAEc,8BAAjBY,EAAQ1Z,MAAqD,KAAb2a,IACzDnD,EAAOyB,MAAM,4BACbS,EAAQqB,QAAU,EAAAjN,EAAA,iBAGpB,OAAsB4L,GACf,CAAC,EAEN,IAEJ,KAAK,GACH,MAAO,CAAC,WAQda,EAAgB,SAAuB3B,GACzC,OAAOA,aAAgB,O,sCCpTrBoC,EAAS,EAAQ,MAEjBC,EAAU,EAAQ,MAElBC,EAAwC,mBAAX1hB,QAAkD,mBAAlBA,OAAY,IAC7EA,OAAY,IAAE,8BACZ,KACF0H,EAAQ,GAASpF,EAEjBoF,EAAQ,GAAoB,GAC5B,IAAI9E,EAAe,WAuDnB,SAASe,EAAalD,GACpB,GAAIA,EAASmC,EACX,MAAM,IAAIS,WAAW,cAAgB5C,EAAS,kCAIhD,IAAI6C,EAAM,IAAId,WAAW/B,GAEzB,OADAY,OAAOsgB,eAAere,EAAKhB,EAAOrB,WAC3BqC,EAaT,SAAShB,EAAOO,EAAK+e,EAAkBnhB,GAErC,GAAmB,iBAARoC,EAAkB,CAC3B,GAAgC,iBAArB+e,EACT,MAAM,IAAIthB,UAAU,sEAGtB,OAAOyC,EAAYF,GAGrB,OAAO2B,EAAK3B,EAAK+e,EAAkBnhB,GAKrC,SAAS+D,EAAK7F,EAAOijB,EAAkBnhB,GACrC,GAAqB,iBAAV9B,EACT,OAgHJ,SAAoB+E,EAAQme,GACF,iBAAbA,GAAsC,KAAbA,IAClCA,EAAW,QAGb,IAAKvf,EAAOwf,WAAWD,GACrB,MAAM,IAAIvhB,UAAU,qBAAuBuhB,GAG7C,IAAIphB,EAAwC,EAA/B2C,EAAWM,EAAQme,GAC5Bve,EAAMK,EAAalD,GACnBmD,EAASN,EAAIO,MAAMH,EAAQme,GAE3Bje,IAAWnD,IAIb6C,EAAMA,EAAIQ,MAAM,EAAGF,IAGrB,OAAON,EApIES,CAAWpF,EAAOijB,GAG3B,GAAI3e,YAAYkC,OAAOxG,GACrB,OA8IJ,SAAuBojB,GACrB,GAAIC,EAAWD,EAAWvf,YAAa,CACrC,IAAI2B,EAAO,IAAI3B,WAAWuf,GAC1B,OAAOte,EAAgBU,EAAKC,OAAQD,EAAKhB,WAAYgB,EAAKf,YAG5D,OAAOI,EAAcue,GApJZE,CAActjB,GAGvB,GAAa,MAATA,EACF,MAAM,IAAI2B,UAAU,yHAAgI3B,GAGtJ,GAAIqjB,EAAWrjB,EAAOsE,cAAgBtE,GAASqjB,EAAWrjB,EAAMyF,OAAQnB,aACtE,OAAOQ,EAAgB9E,EAAOijB,EAAkBnhB,GAGlD,GAAiC,oBAAtByhB,oBAAsCF,EAAWrjB,EAAOujB,oBAAsBvjB,GAASqjB,EAAWrjB,EAAMyF,OAAQ8d,oBACzH,OAAOze,EAAgB9E,EAAOijB,EAAkBnhB,GAGlD,GAAqB,iBAAV9B,EACT,MAAM,IAAI2B,UAAU,yEAGtB,IAAI6hB,EAAUxjB,EAAMwjB,SAAWxjB,EAAMwjB,UAErC,GAAe,MAAXA,GAAmBA,IAAYxjB,EACjC,OAAO2D,EAAOkC,KAAK2d,EAASP,EAAkBnhB,GAGhD,IAAIoG,EAsJN,SAAoB7C,GAClB,GAAI1B,EAAO2B,SAASD,GAAM,CACxB,IAAIE,EAA4B,EAAtBnD,EAAQiD,EAAIvD,QAClB6C,EAAMK,EAAaO,GAEvB,OAAmB,IAAfZ,EAAI7C,QAIRuD,EAAIG,KAAKb,EAAK,EAAG,EAAGY,GAHXZ,EAOX,QAAmBC,IAAfS,EAAIvD,OACN,MAA0B,iBAAfuD,EAAIvD,QAAuB2hB,EAAYpe,EAAIvD,QAC7CkD,EAAa,GAGfH,EAAcQ,GAGvB,GAAiB,WAAbA,EAAIzC,MAAqBY,MAAMC,QAAQ4B,EAAIM,MAC7C,OAAOd,EAAcQ,EAAIM,MA5KnBC,CAAW5F,GACnB,GAAIkI,EAAG,OAAOA,EAEd,GAAsB,oBAAX7G,QAAgD,MAAtBA,OAAOqiB,aAA4D,mBAA9B1jB,EAAMqB,OAAOqiB,aACrF,OAAO/f,EAAOkC,KAAK7F,EAAMqB,OAAOqiB,aAAa,UAAWT,EAAkBnhB,GAG5E,MAAM,IAAIH,UAAU,yHAAgI3B,GAqBtJ,SAAS2jB,EAAW7d,GAClB,GAAoB,iBAATA,EACT,MAAM,IAAInE,UAAU,0CACf,GAAImE,EAAO,EAChB,MAAM,IAAIpB,WAAW,cAAgBoB,EAAO,kCA8BhD,SAAS1B,EAAY0B,GAEnB,OADA6d,EAAW7d,GACJd,EAAac,EAAO,EAAI,EAAoB,EAAhB1D,EAAQ0D,IA0C7C,SAASjB,EAAcN,GAIrB,IAHA,IAAIzC,EAASyC,EAAMzC,OAAS,EAAI,EAA4B,EAAxBM,EAAQmC,EAAMzC,QAC9C6C,EAAMK,EAAalD,GAEdiE,EAAI,EAAGA,EAAIjE,EAAQiE,GAAK,EAC/BpB,EAAIoB,GAAgB,IAAXxB,EAAMwB,GAGjB,OAAOpB,EAYT,SAASG,EAAgBP,EAAOC,EAAY1C,GAC1C,GAAI0C,EAAa,GAAKD,EAAME,WAAaD,EACvC,MAAM,IAAIE,WAAW,wCAGvB,GAAIH,EAAME,WAAaD,GAAc1C,GAAU,GAC7C,MAAM,IAAI4C,WAAW,wCAGvB,IAAIC,EAYJ,OATEA,OADiBC,IAAfJ,QAAuCI,IAAX9C,EACxB,IAAI+B,WAAWU,QACDK,IAAX9C,EACH,IAAI+B,WAAWU,EAAOC,GAEtB,IAAIX,WAAWU,EAAOC,EAAY1C,GAI1CY,OAAOsgB,eAAere,EAAKhB,EAAOrB,WAC3BqC,EA6BT,SAASvC,EAAQN,GAGf,GAAIA,GAAUmC,EACZ,MAAM,IAAIS,WAAW,0DAAiET,EAAaX,SAAS,IAAM,UAGpH,OAAgB,EAATxB,EAwGT,SAAS2C,EAAWM,EAAQme,GAC1B,GAAIvf,EAAO2B,SAASP,GAClB,OAAOA,EAAOjD,OAGhB,GAAIwC,YAAYkC,OAAOzB,IAAWse,EAAWte,EAAQT,aACnD,OAAOS,EAAON,WAGhB,GAAsB,iBAAXM,EACT,MAAM,IAAIpD,UAAU,kGAAyGoD,GAG/H,IAAIQ,EAAMR,EAAOjD,OACb8hB,EAAY7E,UAAUjd,OAAS,IAAsB,IAAjBid,UAAU,GAClD,IAAK6E,GAAqB,IAARre,EAAW,OAAO,EAIpC,IAFA,IAAIse,GAAc,IAGhB,OAAQX,GACN,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAO3d,EAET,IAAK,OACL,IAAK,QACH,OAAOS,EAAYjB,GAAQjD,OAE7B,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAa,EAANyD,EAET,IAAK,MACH,OAAOA,IAAQ,EAEjB,IAAK,SACH,OAAOue,EAAc/e,GAAQjD,OAE/B,QACE,GAAI+hB,EACF,OAAOD,GAAa,EAAI5d,EAAYjB,GAAQjD,OAG9CohB,GAAY,GAAKA,GAAUtZ,cAC3Bia,GAAc,GAOtB,SAASE,EAAab,EAAU9b,EAAOC,GACrC,IAAIwc,GAAc,EAalB,SANcjf,IAAVwC,GAAuBA,EAAQ,KACjCA,EAAQ,GAKNA,EAAQ7F,KAAKO,OACf,MAAO,GAOT,SAJY8C,IAARyC,GAAqBA,EAAM9F,KAAKO,UAClCuF,EAAM9F,KAAKO,QAGTuF,GAAO,EACT,MAAO,GAOT,IAHAA,KAAS,KACTD,KAAW,GAGT,MAAO,GAKT,IAFK8b,IAAUA,EAAW,UAGxB,OAAQA,GACN,IAAK,MACH,OAAOc,EAASziB,KAAM6F,EAAOC,GAE/B,IAAK,OACL,IAAK,QACH,OAAO4c,EAAU1iB,KAAM6F,EAAOC,GAEhC,IAAK,QACH,OAAO6c,EAAW3iB,KAAM6F,EAAOC,GAEjC,IAAK,SACL,IAAK,SACH,OAAO8c,EAAY5iB,KAAM6F,EAAOC,GAElC,IAAK,SACH,OAAO+c,EAAY7iB,KAAM6F,EAAOC,GAElC,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOgd,EAAa9iB,KAAM6F,EAAOC,GAEnC,QACE,GAAIwc,EAAa,MAAM,IAAIliB,UAAU,qBAAuBuhB,GAC5DA,GAAYA,EAAW,IAAItZ,cAC3Bia,GAAc,GAatB,SAASS,EAAKpc,EAAG1G,EAAG+iB,GAClB,IAAIxe,EAAImC,EAAE1G,GACV0G,EAAE1G,GAAK0G,EAAEqc,GACTrc,EAAEqc,GAAKxe,EAsJT,SAASye,EAAqB/e,EAAQC,EAAKlB,EAAY0e,EAAUuB,GAE/D,GAAsB,IAAlBhf,EAAO3D,OAAc,OAAQ,EAqBjC,GAnB0B,iBAAf0C,GACT0e,EAAW1e,EACXA,EAAa,GACJA,EAAa,WACtBA,EAAa,WACJA,GAAc,aACvBA,GAAc,YAKZif,EAFJjf,GAAcA,KAIZA,EAAaigB,EAAM,EAAIhf,EAAO3D,OAAS,GAIrC0C,EAAa,IAAGA,EAAaiB,EAAO3D,OAAS0C,GAE7CA,GAAciB,EAAO3D,OAAQ,CAC/B,GAAI2iB,EAAK,OAAQ,EAAOjgB,EAAaiB,EAAO3D,OAAS,OAChD,GAAI0C,EAAa,EAAG,CACzB,IAAIigB,EAAyB,OAAQ,EAA5BjgB,EAAa,EASxB,GALmB,iBAARkB,IACTA,EAAM/B,EAAOkC,KAAKH,EAAKwd,IAIrBvf,EAAO2B,SAASI,GAElB,OAAmB,IAAfA,EAAI5D,QACE,EAGH4iB,EAAajf,EAAQC,EAAKlB,EAAY0e,EAAUuB,GAClD,GAAmB,iBAAR/e,EAGhB,OAFAA,GAAY,IAEgC,mBAAjC7B,WAAWvB,UAAUoR,QAC1B+Q,EACK5gB,WAAWvB,UAAUoR,QAAQ9R,KAAK6D,EAAQC,EAAKlB,GAE/CX,WAAWvB,UAAUqiB,YAAY/iB,KAAK6D,EAAQC,EAAKlB,GAIvDkgB,EAAajf,EAAQ,CAACC,GAAMlB,EAAY0e,EAAUuB,GAG3D,MAAM,IAAI9iB,UAAU,wCAGtB,SAAS+iB,EAAahhB,EAAKgC,EAAKlB,EAAY0e,EAAUuB,GACpD,IA2BI1e,EA3BA6e,EAAY,EACZC,EAAYnhB,EAAI5B,OAChBgjB,EAAYpf,EAAI5D,OAEpB,QAAiB8C,IAAbse,IAGe,UAFjBA,EAAW6B,OAAO7B,GAAUtZ,gBAEY,UAAbsZ,GAAqC,YAAbA,GAAuC,aAAbA,GAAyB,CACpG,GAAIxf,EAAI5B,OAAS,GAAK4D,EAAI5D,OAAS,EACjC,OAAQ,EAGV8iB,EAAY,EACZC,GAAa,EACbC,GAAa,EACbtgB,GAAc,EAIlB,SAASwgB,EAAKrgB,EAAKoB,GACjB,OAAkB,IAAd6e,EACKjgB,EAAIoB,GAEJpB,EAAIsgB,aAAalf,EAAI6e,GAMhC,GAAIH,EAAK,CACP,IAAIS,GAAc,EAElB,IAAKnf,EAAIvB,EAAYuB,EAAI8e,EAAW9e,IAClC,GAAIif,EAAKthB,EAAKqC,KAAOif,EAAKtf,GAAqB,IAAhBwf,EAAoB,EAAInf,EAAImf,IAEzD,IADoB,IAAhBA,IAAmBA,EAAanf,GAChCA,EAAImf,EAAa,IAAMJ,EAAW,OAAOI,EAAaN,OAEtC,IAAhBM,IAAmBnf,GAAKA,EAAImf,GAChCA,GAAc,OAMlB,IAFI1gB,EAAasgB,EAAYD,IAAWrgB,EAAaqgB,EAAYC,GAE5D/e,EAAIvB,EAAYuB,GAAK,EAAGA,IAAK,CAGhC,IAFA,IAAIof,GAAQ,EAEHxZ,EAAI,EAAGA,EAAImZ,EAAWnZ,IAC7B,GAAIqZ,EAAKthB,EAAKqC,EAAI4F,KAAOqZ,EAAKtf,EAAKiG,GAAI,CACrCwZ,GAAQ,EACR,MAIJ,GAAIA,EAAO,OAAOpf,EAItB,OAAQ,EAeV,SAASqf,EAASzgB,EAAKI,EAAQZ,EAAQrC,GACrCqC,EAASkhB,OAAOlhB,IAAW,EAC3B,IAAI4C,EAAYpC,EAAI7C,OAASqC,EAExBrC,GAGHA,EAASujB,OAAOvjB,IAEHiF,IACXjF,EAASiF,GALXjF,EAASiF,EASX,IAAIue,EAASvgB,EAAOjD,OAEhBA,EAASwjB,EAAS,IACpBxjB,EAASwjB,EAAS,GAGpB,IAAK,IAAIvf,EAAI,EAAGA,EAAIjE,IAAUiE,EAAG,CAC/B,IAAIwf,EAAS3Y,SAAS7H,EAAOsO,OAAW,EAAJtN,EAAO,GAAI,IAC/C,GAAI0d,EAAY8B,GAAS,OAAOxf,EAChCpB,EAAIR,EAAS4B,GAAKwf,EAGpB,OAAOxf,EAGT,SAASoB,EAAUxC,EAAKI,EAAQZ,EAAQrC,GACtC,OAAOoF,EAAWlB,EAAYjB,EAAQJ,EAAI7C,OAASqC,GAASQ,EAAKR,EAAQrC,GAG3E,SAAS0jB,EAAW7gB,EAAKI,EAAQZ,EAAQrC,GACvC,OAAOoF,EAm2BT,SAAsBgK,GAGpB,IAFA,IAAIuU,EAAY,GAEP1f,EAAI,EAAGA,EAAImL,EAAIpP,SAAUiE,EAEhC0f,EAAU1jB,KAAyB,IAApBmP,EAAI5K,WAAWP,IAGhC,OAAO0f,EA32BWC,CAAa3gB,GAASJ,EAAKR,EAAQrC,GAGvD,SAAS6jB,EAAYhhB,EAAKI,EAAQZ,EAAQrC,GACxC,OAAOoF,EAAW4c,EAAc/e,GAASJ,EAAKR,EAAQrC,GAGxD,SAAS8jB,EAAUjhB,EAAKI,EAAQZ,EAAQrC,GACtC,OAAOoF,EAs2BT,SAAwBgK,EAAKjL,GAI3B,IAHA,IAAIoU,EAAGwL,EAAIC,EACPL,EAAY,GAEP1f,EAAI,EAAGA,EAAImL,EAAIpP,WACjBmE,GAAS,GAAK,KADaF,EAGhC8f,GADAxL,EAAInJ,EAAI5K,WAAWP,KACT,EACV+f,EAAKzL,EAAI,IACToL,EAAU1jB,KAAK+jB,GACfL,EAAU1jB,KAAK8jB,GAGjB,OAAOJ,EAn3BWM,CAAehhB,EAAQJ,EAAI7C,OAASqC,GAASQ,EAAKR,EAAQrC,GA4E9E,SAASsiB,EAAYzf,EAAKyC,EAAOC,GAC/B,OAAc,IAAVD,GAAeC,IAAQ1C,EAAI7C,OACtB+gB,EAAOmD,cAAcrhB,GAErBke,EAAOmD,cAAcrhB,EAAIQ,MAAMiC,EAAOC,IAIjD,SAAS4c,EAAUtf,EAAKyC,EAAOC,GAC7BA,EAAM4C,KAAKgc,IAAIthB,EAAI7C,OAAQuF,GAI3B,IAHA,IAAI6e,EAAM,GACNngB,EAAIqB,EAEDrB,EAAIsB,GAAK,CACd,IAKM8e,EAAYC,EAAWC,EAAYC,EALrCC,EAAY5hB,EAAIoB,GAChBG,EAAY,KACZsgB,EAAmBD,EAAY,IAAO,EAAIA,EAAY,IAAO,EAAIA,EAAY,IAAO,EAAI,EAE5F,GAAIxgB,EAAIygB,GAAoBnf,EAG1B,OAAQmf,GACN,KAAK,EACCD,EAAY,MACdrgB,EAAYqgB,GAGd,MAEF,KAAK,EAGyB,MAAV,KAFlBJ,EAAaxhB,EAAIoB,EAAI,OAGnBugB,GAA6B,GAAZC,IAAqB,EAAmB,GAAbJ,GAExB,MAClBjgB,EAAYogB,GAIhB,MAEF,KAAK,EACHH,EAAaxhB,EAAIoB,EAAI,GACrBqgB,EAAYzhB,EAAIoB,EAAI,GAEQ,MAAV,IAAbogB,IAAsD,MAAV,IAAZC,KACnCE,GAA6B,GAAZC,IAAoB,IAAoB,GAAbJ,IAAsB,EAAkB,GAAZC,GAEpD,OAAUE,EAAgB,OAAUA,EAAgB,SACtEpgB,EAAYogB,GAIhB,MAEF,KAAK,EACHH,EAAaxhB,EAAIoB,EAAI,GACrBqgB,EAAYzhB,EAAIoB,EAAI,GACpBsgB,EAAa1hB,EAAIoB,EAAI,GAEO,MAAV,IAAbogB,IAAsD,MAAV,IAAZC,IAAsD,MAAV,IAAbC,KAClEC,GAA6B,GAAZC,IAAoB,IAAqB,GAAbJ,IAAsB,IAAmB,GAAZC,IAAqB,EAAmB,GAAbC,GAEjF,OAAUC,EAAgB,UAC5CpgB,EAAYogB,GAOJ,OAAdpgB,GAGFA,EAAY,MACZsgB,EAAmB,GACVtgB,EAAY,QAErBA,GAAa,MACbggB,EAAInkB,KAAKmE,IAAc,GAAK,KAAQ,OACpCA,EAAY,MAAqB,KAAZA,GAGvBggB,EAAInkB,KAAKmE,GACTH,GAAKygB,EAGP,OAQF,SAA+BC,GAC7B,IAAIlhB,EAAMkhB,EAAW3kB,OAErB,GAAIyD,GAAOmhB,EACT,OAAO3B,OAAO4B,aAAanmB,MAAMukB,OAAQ0B,GAI3C,IAAIP,EAAM,GACNngB,EAAI,EAER,KAAOA,EAAIR,GACT2gB,GAAOnB,OAAO4B,aAAanmB,MAAMukB,OAAQ0B,EAAWthB,MAAMY,EAAGA,GAAK2gB,IAGpE,OAAOR,EAvBAU,CAAsBV,GAx/B/BviB,EAAOC,oBAMP,WAEE,IACE,IAAIF,EAAM,IAAIG,WAAW,GACrBgjB,EAAQ,CACV9iB,IAAK,WACH,OAAO,KAKX,OAFArB,OAAOsgB,eAAe6D,EAAOhjB,WAAWvB,WACxCI,OAAOsgB,eAAetf,EAAKmjB,GACN,KAAdnjB,EAAIK,MACX,MAAO5D,GACP,OAAO,GAnBkB6D,GAExBL,EAAOC,qBAA0C,oBAAZkjB,SAAoD,mBAAlBA,QAAQhF,OAClFgF,QAAQhF,MAAM,iJAoBhBpf,OAAOgE,eAAe/C,EAAOrB,UAAW,SAAU,CAChDsE,YAAY,EACZkD,IAAK,WACH,GAAKnG,EAAO2B,SAAS/D,MACrB,OAAOA,KAAKkE,UAGhB/C,OAAOgE,eAAe/C,EAAOrB,UAAW,SAAU,CAChDsE,YAAY,EACZkD,IAAK,WACH,GAAKnG,EAAO2B,SAAS/D,MACrB,OAAOA,KAAKiD,cAsChBb,EAAOojB,SAAW,KAoDlBpjB,EAAOkC,KAAO,SAAU7F,EAAOijB,EAAkBnhB,GAC/C,OAAO+D,EAAK7F,EAAOijB,EAAkBnhB,IAKvCY,OAAOsgB,eAAerf,EAAOrB,UAAWuB,WAAWvB,WACnDI,OAAOsgB,eAAerf,EAAQE,YAgC9BF,EAAOqjB,MAAQ,SAAUlhB,EAAM8B,EAAMsb,GACnC,OAvBF,SAAepd,EAAM8B,EAAMsb,GAGzB,OAFAS,EAAW7d,GAEPA,GAAQ,EACHd,EAAac,QAGTlB,IAATgD,EAIyB,iBAAbsb,EAAwBle,EAAac,GAAM8B,KAAKA,EAAMsb,GAAYle,EAAac,GAAM8B,KAAKA,GAGnG5C,EAAac,GASbkhB,CAAMlhB,EAAM8B,EAAMsb,IAY3Bvf,EAAOS,YAAc,SAAU0B,GAC7B,OAAO1B,EAAY0B,IAOrBnC,EAAOsjB,gBAAkB,SAAUnhB,GACjC,OAAO1B,EAAY0B,IAmHrBnC,EAAO2B,SAAW,SAAkB4C,GAClC,OAAY,MAALA,IAA6B,IAAhBA,EAAED,WAAsBC,IAAMvE,EAAOrB,WAG3DqB,EAAOujB,QAAU,SAAiBnR,EAAG7N,GAInC,GAHImb,EAAWtN,EAAGlS,cAAakS,EAAIpS,EAAOkC,KAAKkQ,EAAGA,EAAE5R,OAAQ4R,EAAEtR,aAC1D4e,EAAWnb,EAAGrE,cAAaqE,EAAIvE,EAAOkC,KAAKqC,EAAGA,EAAE/D,OAAQ+D,EAAEzD,cAEzDd,EAAO2B,SAASyQ,KAAOpS,EAAO2B,SAAS4C,GAC1C,MAAM,IAAIvG,UAAU,yEAGtB,GAAIoU,IAAM7N,EAAG,OAAO,EAIpB,IAHA,IAAI0G,EAAImH,EAAEjU,OACNlB,EAAIsH,EAAEpG,OAEDiE,EAAI,EAAGR,EAAM0E,KAAKgc,IAAIrX,EAAGhO,GAAImF,EAAIR,IAAOQ,EAC/C,GAAIgQ,EAAEhQ,KAAOmC,EAAEnC,GAAI,CACjB6I,EAAImH,EAAEhQ,GACNnF,EAAIsH,EAAEnC,GACN,MAIJ,OAAI6I,EAAIhO,GAAW,EACfA,EAAIgO,EAAU,EACX,GAGTjL,EAAOwf,WAAa,SAAoBD,GACtC,OAAQ6B,OAAO7B,GAAUtZ,eACvB,IAAK,MACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO,EAET,QACE,OAAO,IAIbjG,EAAOmE,OAAS,SAAgBC,EAAMjG,GACpC,IAAK0B,MAAMC,QAAQsE,GACjB,MAAM,IAAIpG,UAAU,+CAGtB,GAAoB,IAAhBoG,EAAKjG,OACP,OAAO6B,EAAOqjB,MAAM,GAGtB,IAAIjhB,EAEJ,QAAenB,IAAX9C,EAGF,IAFAA,EAAS,EAEJiE,EAAI,EAAGA,EAAIgC,EAAKjG,SAAUiE,EAC7BjE,GAAUiG,EAAKhC,GAAGjE,OAItB,IAAI2D,EAAS9B,EAAOS,YAAYtC,GAC5BkG,EAAM,EAEV,IAAKjC,EAAI,EAAGA,EAAIgC,EAAKjG,SAAUiE,EAAG,CAChC,IAAIpB,EAAMoD,EAAKhC,GAEf,GAAIsd,EAAW1e,EAAKd,YACdmE,EAAMrD,EAAI7C,OAAS2D,EAAO3D,OAC5B6B,EAAOkC,KAAKlB,GAAKa,KAAKC,EAAQuC,GAE9BnE,WAAWvB,UAAUqF,IAAI/F,KAAK6D,EAAQd,EAAKqD,OAExC,KAAKrE,EAAO2B,SAASX,GAC1B,MAAM,IAAIhD,UAAU,+CAEpBgD,EAAIa,KAAKC,EAAQuC,GAGnBA,GAAOrD,EAAI7C,OAGb,OAAO2D,GAwDT9B,EAAOc,WAAaA,EA6EpBd,EAAOrB,UAAU2F,WAAY,EAQ7BtE,EAAOrB,UAAU6kB,OAAS,WACxB,IAAI5hB,EAAMhE,KAAKO,OAEf,GAAIyD,EAAM,GAAM,EACd,MAAM,IAAIb,WAAW,6CAGvB,IAAK,IAAIqB,EAAI,EAAGA,EAAIR,EAAKQ,GAAK,EAC5Bue,EAAK/iB,KAAMwE,EAAGA,EAAI,GAGpB,OAAOxE,MAGToC,EAAOrB,UAAU8kB,OAAS,WACxB,IAAI7hB,EAAMhE,KAAKO,OAEf,GAAIyD,EAAM,GAAM,EACd,MAAM,IAAIb,WAAW,6CAGvB,IAAK,IAAIqB,EAAI,EAAGA,EAAIR,EAAKQ,GAAK,EAC5Bue,EAAK/iB,KAAMwE,EAAGA,EAAI,GAClBue,EAAK/iB,KAAMwE,EAAI,EAAGA,EAAI,GAGxB,OAAOxE,MAGToC,EAAOrB,UAAU+kB,OAAS,WACxB,IAAI9hB,EAAMhE,KAAKO,OAEf,GAAIyD,EAAM,GAAM,EACd,MAAM,IAAIb,WAAW,6CAGvB,IAAK,IAAIqB,EAAI,EAAGA,EAAIR,EAAKQ,GAAK,EAC5Bue,EAAK/iB,KAAMwE,EAAGA,EAAI,GAClBue,EAAK/iB,KAAMwE,EAAI,EAAGA,EAAI,GACtBue,EAAK/iB,KAAMwE,EAAI,EAAGA,EAAI,GACtBue,EAAK/iB,KAAMwE,EAAI,EAAGA,EAAI,GAGxB,OAAOxE,MAGToC,EAAOrB,UAAUgB,SAAW,WAC1B,IAAIxB,EAASP,KAAKO,OAClB,OAAe,IAAXA,EAAqB,GACA,IAArBid,UAAUjd,OAAqBmiB,EAAU1iB,KAAM,EAAGO,GAC/CiiB,EAAavjB,MAAMe,KAAMwd,YAGlCpb,EAAOrB,UAAUglB,eAAiB3jB,EAAOrB,UAAUgB,SAEnDK,EAAOrB,UAAUilB,OAAS,SAAgBrf,GACxC,IAAKvE,EAAO2B,SAAS4C,GAAI,MAAM,IAAIvG,UAAU,6BAC7C,OAAIJ,OAAS2G,GACsB,IAA5BvE,EAAOujB,QAAQ3lB,KAAM2G,IAG9BvE,EAAOrB,UAAUklB,QAAU,WACzB,IAAItW,EAAM,GACNuI,EAAM1Q,EAAQ,GAGlB,OAFAmI,EAAM3P,KAAK+B,SAAS,MAAO,EAAGmW,GAAKnJ,QAAQ,UAAW,OAAOmX,OACzDlmB,KAAKO,OAAS2X,IAAKvI,GAAO,SACvB,WAAaA,EAAM,KAGxB6R,IACFpf,EAAOrB,UAAUygB,GAAuBpf,EAAOrB,UAAUklB,SAG3D7jB,EAAOrB,UAAU4kB,QAAU,SAAiBzf,EAAQL,EAAOC,EAAKqgB,EAAWC,GAKzE,GAJItE,EAAW5b,EAAQ5D,cACrB4D,EAAS9D,EAAOkC,KAAK4B,EAAQA,EAAOtD,OAAQsD,EAAOhD,cAGhDd,EAAO2B,SAASmC,GACnB,MAAM,IAAI9F,UAAU,wFAA+F8F,GAmBrH,QAhBc7C,IAAVwC,IACFA,EAAQ,QAGExC,IAARyC,IACFA,EAAMI,EAASA,EAAO3F,OAAS,QAGf8C,IAAd8iB,IACFA,EAAY,QAGE9iB,IAAZ+iB,IACFA,EAAUpmB,KAAKO,QAGbsF,EAAQ,GAAKC,EAAMI,EAAO3F,QAAU4lB,EAAY,GAAKC,EAAUpmB,KAAKO,OACtE,MAAM,IAAI4C,WAAW,sBAGvB,GAAIgjB,GAAaC,GAAWvgB,GAASC,EACnC,OAAO,EAGT,GAAIqgB,GAAaC,EACf,OAAQ,EAGV,GAAIvgB,GAASC,EACX,OAAO,EAOT,GAAI9F,OAASkG,EAAQ,OAAO,EAO5B,IANA,IAAImH,GAFJ+Y,KAAa,IADbD,KAAe,GAIX9mB,GALJyG,KAAS,IADTD,KAAW,GAOP7B,EAAM0E,KAAKgc,IAAIrX,EAAGhO,GAClBgnB,EAAWrmB,KAAK4D,MAAMuiB,EAAWC,GACjCE,EAAapgB,EAAOtC,MAAMiC,EAAOC,GAE5BtB,EAAI,EAAGA,EAAIR,IAAOQ,EACzB,GAAI6hB,EAAS7hB,KAAO8hB,EAAW9hB,GAAI,CACjC6I,EAAIgZ,EAAS7hB,GACbnF,EAAIinB,EAAW9hB,GACf,MAIJ,OAAI6I,EAAIhO,GAAW,EACfA,EAAIgO,EAAU,EACX,GAqITjL,EAAOrB,UAAUwlB,SAAW,SAAkBpiB,EAAKlB,EAAY0e,GAC7D,OAAoD,IAA7C3hB,KAAKmS,QAAQhO,EAAKlB,EAAY0e,IAGvCvf,EAAOrB,UAAUoR,QAAU,SAAiBhO,EAAKlB,EAAY0e,GAC3D,OAAOsB,EAAqBjjB,KAAMmE,EAAKlB,EAAY0e,GAAU,IAG/Dvf,EAAOrB,UAAUqiB,YAAc,SAAqBjf,EAAKlB,EAAY0e,GACnE,OAAOsB,EAAqBjjB,KAAMmE,EAAKlB,EAAY0e,GAAU,IAgD/Dvf,EAAOrB,UAAU4C,MAAQ,SAAeH,EAAQZ,EAAQrC,EAAQohB,GAE9D,QAAete,IAAXT,EACF+e,EAAW,OACXphB,EAASP,KAAKO,OACdqC,EAAS,OACJ,QAAeS,IAAX9C,GAA0C,iBAAXqC,EACxC+e,EAAW/e,EACXrC,EAASP,KAAKO,OACdqC,EAAS,MACJ,KAAI2C,SAAS3C,GAWlB,MAAM,IAAIoC,MAAM,2EAVhBpC,KAAoB,EAEhB2C,SAAShF,IACXA,KAAoB,OACH8C,IAAbse,IAAwBA,EAAW,UAEvCA,EAAWphB,EACXA,OAAS8C,GAMb,IAAImC,EAAYxF,KAAKO,OAASqC,EAG9B,SAFeS,IAAX9C,GAAwBA,EAASiF,KAAWjF,EAASiF,GAErDhC,EAAOjD,OAAS,IAAMA,EAAS,GAAKqC,EAAS,IAAMA,EAAS5C,KAAKO,OACnE,MAAM,IAAI4C,WAAW,0CAGlBwe,IAAUA,EAAW,QAG1B,IAFA,IAAIW,GAAc,IAGhB,OAAQX,GACN,IAAK,MACH,OAAOkC,EAAS7jB,KAAMwD,EAAQZ,EAAQrC,GAExC,IAAK,OACL,IAAK,QACH,OAAOqF,EAAU5F,KAAMwD,EAAQZ,EAAQrC,GAEzC,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAO0jB,EAAWjkB,KAAMwD,EAAQZ,EAAQrC,GAE1C,IAAK,SAEH,OAAO6jB,EAAYpkB,KAAMwD,EAAQZ,EAAQrC,GAE3C,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO8jB,EAAUrkB,KAAMwD,EAAQZ,EAAQrC,GAEzC,QACE,GAAI+hB,EAAa,MAAM,IAAIliB,UAAU,qBAAuBuhB,GAC5DA,GAAY,GAAKA,GAAUtZ,cAC3Bia,GAAc,IAKtBlgB,EAAOrB,UAAUylB,OAAS,WACxB,MAAO,CACLnlB,KAAM,SACN+C,KAAMnC,MAAMlB,UAAU6C,MAAMvD,KAAKL,KAAKymB,MAAQzmB,KAAM,KAkGxD,IAAImlB,EAAuB,KAoB3B,SAASxC,EAAWvf,EAAKyC,EAAOC,GAC9B,IAAI4gB,EAAM,GACV5gB,EAAM4C,KAAKgc,IAAIthB,EAAI7C,OAAQuF,GAE3B,IAAK,IAAItB,EAAIqB,EAAOrB,EAAIsB,IAAOtB,EAC7BkiB,GAAOlD,OAAO4B,aAAsB,IAAThiB,EAAIoB,IAGjC,OAAOkiB,EAGT,SAAS9D,EAAYxf,EAAKyC,EAAOC,GAC/B,IAAI4gB,EAAM,GACV5gB,EAAM4C,KAAKgc,IAAIthB,EAAI7C,OAAQuF,GAE3B,IAAK,IAAItB,EAAIqB,EAAOrB,EAAIsB,IAAOtB,EAC7BkiB,GAAOlD,OAAO4B,aAAahiB,EAAIoB,IAGjC,OAAOkiB,EAGT,SAASjE,EAASrf,EAAKyC,EAAOC,GAC5B,IAAI9B,EAAMZ,EAAI7C,SACTsF,GAASA,EAAQ,KAAGA,EAAQ,KAC5BC,GAAOA,EAAM,GAAKA,EAAM9B,KAAK8B,EAAM9B,GAGxC,IAFA,IAAI2iB,EAAM,GAEDniB,EAAIqB,EAAOrB,EAAIsB,IAAOtB,EAC7BmiB,GAAOC,EAAoBxjB,EAAIoB,IAGjC,OAAOmiB,EAGT,SAAS7D,EAAa1f,EAAKyC,EAAOC,GAIhC,IAHA,IAAIhB,EAAQ1B,EAAIQ,MAAMiC,EAAOC,GACzB6e,EAAM,GAEDngB,EAAI,EAAGA,EAAIM,EAAMvE,OAAS,EAAGiE,GAAK,EACzCmgB,GAAOnB,OAAO4B,aAAatgB,EAAMN,GAAoB,IAAfM,EAAMN,EAAI,IAGlD,OAAOmgB,EAiCT,SAASkC,EAAYjkB,EAAQkkB,EAAKvmB,GAChC,GAAIqC,EAAS,GAAM,GAAKA,EAAS,EAAG,MAAM,IAAIO,WAAW,sBACzD,GAAIP,EAASkkB,EAAMvmB,EAAQ,MAAM,IAAI4C,WAAW,yCA6JlD,SAAS4jB,EAAS3jB,EAAK3E,EAAOmE,EAAQkkB,EAAK5O,EAAKwM,GAC9C,IAAKtiB,EAAO2B,SAASX,GAAM,MAAM,IAAIhD,UAAU,+CAC/C,GAAI3B,EAAQyZ,GAAOzZ,EAAQimB,EAAK,MAAM,IAAIvhB,WAAW,qCACrD,GAAIP,EAASkkB,EAAM1jB,EAAI7C,OAAQ,MAAM,IAAI4C,WAAW,sBAiMtD,SAAS6jB,EAAa5jB,EAAK3E,EAAOmE,EAAQkkB,EAAK5O,EAAKwM,GAClD,GAAI9hB,EAASkkB,EAAM1jB,EAAI7C,OAAQ,MAAM,IAAI4C,WAAW,sBACpD,GAAIP,EAAS,EAAG,MAAM,IAAIO,WAAW,sBAGvC,SAAS8jB,EAAW7jB,EAAK3E,EAAOmE,EAAQskB,EAAcC,GASpD,OARA1oB,GAASA,EACTmE,KAAoB,EAEfukB,GACHH,EAAa5jB,EAAK3E,EAAOmE,EAAQ,GAGnC2e,EAAQ5d,MAAMP,EAAK3E,EAAOmE,EAAQskB,EAAc,GAAI,GAC7CtkB,EAAS,EAWlB,SAASwkB,EAAYhkB,EAAK3E,EAAOmE,EAAQskB,EAAcC,GASrD,OARA1oB,GAASA,EACTmE,KAAoB,EAEfukB,GACHH,EAAa5jB,EAAK3E,EAAOmE,EAAQ,GAGnC2e,EAAQ5d,MAAMP,EAAK3E,EAAOmE,EAAQskB,EAAc,GAAI,GAC7CtkB,EAAS,EAnalBR,EAAOrB,UAAU6C,MAAQ,SAAeiC,EAAOC,GAC7C,IAAI9B,EAAMhE,KAAKO,QACfsF,IAAUA,GAGE,GACVA,GAAS7B,GACG,IAAG6B,EAAQ,GACdA,EAAQ7B,IACjB6B,EAAQ7B,IANV8B,OAAczC,IAARyC,EAAoB9B,IAAQ8B,GASxB,GACRA,GAAO9B,GACG,IAAG8B,EAAM,GACVA,EAAM9B,IACf8B,EAAM9B,GAGJ8B,EAAMD,IAAOC,EAAMD,GACvB,IAAIE,EAAS/F,KAAKgG,SAASH,EAAOC,GAGlC,OADA3E,OAAOsgB,eAAe1b,EAAQ3D,EAAOrB,WAC9BgF,GAYT3D,EAAOrB,UAAUsmB,WAAajlB,EAAOrB,UAAUumB,WAAa,SAAoB1kB,EAAQM,EAAYikB,GAClGvkB,KAAoB,EACpBM,KAA4B,EACvBikB,GAAUN,EAAYjkB,EAAQM,EAAYlD,KAAKO,QAKpD,IAJA,IAAI4D,EAAMnE,KAAK4C,GACX4K,EAAM,EACNhJ,EAAI,IAECA,EAAItB,IAAesK,GAAO,MACjCrJ,GAAOnE,KAAK4C,EAAS4B,GAAKgJ,EAG5B,OAAOrJ,GAGT/B,EAAOrB,UAAUwmB,WAAanlB,EAAOrB,UAAUymB,WAAa,SAAoB5kB,EAAQM,EAAYikB,GAClGvkB,KAAoB,EACpBM,KAA4B,EAEvBikB,GACHN,EAAYjkB,EAAQM,EAAYlD,KAAKO,QAMvC,IAHA,IAAI4D,EAAMnE,KAAK4C,IAAWM,GACtBsK,EAAM,EAEHtK,EAAa,IAAMsK,GAAO,MAC/BrJ,GAAOnE,KAAK4C,IAAWM,GAAcsK,EAGvC,OAAOrJ,GAGT/B,EAAOrB,UAAU0mB,UAAYrlB,EAAOrB,UAAU2mB,UAAY,SAAmB9kB,EAAQukB,GAGnF,OAFAvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QACpCP,KAAK4C,IAGdR,EAAOrB,UAAU4mB,aAAevlB,EAAOrB,UAAU6mB,aAAe,SAAsBhlB,EAAQukB,GAG5F,OAFAvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QACpCP,KAAK4C,GAAU5C,KAAK4C,EAAS,IAAM,GAG5CR,EAAOrB,UAAU8mB,aAAezlB,EAAOrB,UAAU2iB,aAAe,SAAsB9gB,EAAQukB,GAG5F,OAFAvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QACpCP,KAAK4C,IAAW,EAAI5C,KAAK4C,EAAS,IAG3CR,EAAOrB,UAAU+mB,aAAe1lB,EAAOrB,UAAUgnB,aAAe,SAAsBnlB,EAAQukB,GAG5F,OAFAvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,SACnCP,KAAK4C,GAAU5C,KAAK4C,EAAS,IAAM,EAAI5C,KAAK4C,EAAS,IAAM,IAAyB,SAAnB5C,KAAK4C,EAAS,IAGzFR,EAAOrB,UAAUinB,aAAe5lB,EAAOrB,UAAUknB,aAAe,SAAsBrlB,EAAQukB,GAG5F,OAFAvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QACrB,SAAfP,KAAK4C,IAAuB5C,KAAK4C,EAAS,IAAM,GAAK5C,KAAK4C,EAAS,IAAM,EAAI5C,KAAK4C,EAAS,KAGpGR,EAAOrB,UAAUmnB,UAAY,SAAmBtlB,EAAQM,EAAYikB,GAClEvkB,KAAoB,EACpBM,KAA4B,EACvBikB,GAAUN,EAAYjkB,EAAQM,EAAYlD,KAAKO,QAKpD,IAJA,IAAI4D,EAAMnE,KAAK4C,GACX4K,EAAM,EACNhJ,EAAI,IAECA,EAAItB,IAAesK,GAAO,MACjCrJ,GAAOnE,KAAK4C,EAAS4B,GAAKgJ,EAK5B,OADIrJ,IADJqJ,GAAO,OACSrJ,GAAOuE,KAAKyf,IAAI,EAAG,EAAIjlB,IAChCiB,GAGT/B,EAAOrB,UAAUqnB,UAAY,SAAmBxlB,EAAQM,EAAYikB,GAClEvkB,KAAoB,EACpBM,KAA4B,EACvBikB,GAAUN,EAAYjkB,EAAQM,EAAYlD,KAAKO,QAKpD,IAJA,IAAIiE,EAAItB,EACJsK,EAAM,EACNrJ,EAAMnE,KAAK4C,IAAW4B,GAEnBA,EAAI,IAAMgJ,GAAO,MACtBrJ,GAAOnE,KAAK4C,IAAW4B,GAAKgJ,EAK9B,OADIrJ,IADJqJ,GAAO,OACSrJ,GAAOuE,KAAKyf,IAAI,EAAG,EAAIjlB,IAChCiB,GAGT/B,EAAOrB,UAAUsnB,SAAW,SAAkBzlB,EAAQukB,GAGpD,OAFAvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QACtB,IAAfP,KAAK4C,IACyB,GAA5B,IAAO5C,KAAK4C,GAAU,GADK5C,KAAK4C,IAI1CR,EAAOrB,UAAUunB,YAAc,SAAqB1lB,EAAQukB,GAC1DvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QAC3C,IAAI4D,EAAMnE,KAAK4C,GAAU5C,KAAK4C,EAAS,IAAM,EAC7C,OAAa,MAANuB,EAAqB,WAANA,EAAmBA,GAG3C/B,EAAOrB,UAAUwnB,YAAc,SAAqB3lB,EAAQukB,GAC1DvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QAC3C,IAAI4D,EAAMnE,KAAK4C,EAAS,GAAK5C,KAAK4C,IAAW,EAC7C,OAAa,MAANuB,EAAqB,WAANA,EAAmBA,GAG3C/B,EAAOrB,UAAUynB,YAAc,SAAqB5lB,EAAQukB,GAG1D,OAFAvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QACpCP,KAAK4C,GAAU5C,KAAK4C,EAAS,IAAM,EAAI5C,KAAK4C,EAAS,IAAM,GAAK5C,KAAK4C,EAAS,IAAM,IAG7FR,EAAOrB,UAAU0nB,YAAc,SAAqB7lB,EAAQukB,GAG1D,OAFAvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QACpCP,KAAK4C,IAAW,GAAK5C,KAAK4C,EAAS,IAAM,GAAK5C,KAAK4C,EAAS,IAAM,EAAI5C,KAAK4C,EAAS,IAG7FR,EAAOrB,UAAU2nB,YAAc,SAAqB9lB,EAAQukB,GAG1D,OAFAvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QACpCghB,EAAQkC,KAAKzjB,KAAM4C,GAAQ,EAAM,GAAI,IAG9CR,EAAOrB,UAAU4nB,YAAc,SAAqB/lB,EAAQukB,GAG1D,OAFAvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QACpCghB,EAAQkC,KAAKzjB,KAAM4C,GAAQ,EAAO,GAAI,IAG/CR,EAAOrB,UAAU6nB,aAAe,SAAsBhmB,EAAQukB,GAG5D,OAFAvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QACpCghB,EAAQkC,KAAKzjB,KAAM4C,GAAQ,EAAM,GAAI,IAG9CR,EAAOrB,UAAU8nB,aAAe,SAAsBjmB,EAAQukB,GAG5D,OAFAvkB,KAAoB,EACfukB,GAAUN,EAAYjkB,EAAQ,EAAG5C,KAAKO,QACpCghB,EAAQkC,KAAKzjB,KAAM4C,GAAQ,EAAO,GAAI,IAS/CR,EAAOrB,UAAU+nB,YAAc1mB,EAAOrB,UAAUgoB,YAAc,SAAqBtqB,EAAOmE,EAAQM,EAAYikB,IAC5G1oB,GAASA,EACTmE,KAAoB,EACpBM,KAA4B,EAEvBikB,IAEHJ,EAAS/mB,KAAMvB,EAAOmE,EAAQM,EADfwF,KAAKyf,IAAI,EAAG,EAAIjlB,GAAc,EACO,GAGtD,IAAIsK,EAAM,EACNhJ,EAAI,EAGR,IAFAxE,KAAK4C,GAAkB,IAARnE,IAEN+F,EAAItB,IAAesK,GAAO,MACjCxN,KAAK4C,EAAS4B,GAAK/F,EAAQ+O,EAAM,IAGnC,OAAO5K,EAASM,GAGlBd,EAAOrB,UAAUioB,YAAc5mB,EAAOrB,UAAUkoB,YAAc,SAAqBxqB,EAAOmE,EAAQM,EAAYikB,IAC5G1oB,GAASA,EACTmE,KAAoB,EACpBM,KAA4B,EAEvBikB,IAEHJ,EAAS/mB,KAAMvB,EAAOmE,EAAQM,EADfwF,KAAKyf,IAAI,EAAG,EAAIjlB,GAAc,EACO,GAGtD,IAAIsB,EAAItB,EAAa,EACjBsK,EAAM,EAGV,IAFAxN,KAAK4C,EAAS4B,GAAa,IAAR/F,IAEV+F,GAAK,IAAMgJ,GAAO,MACzBxN,KAAK4C,EAAS4B,GAAK/F,EAAQ+O,EAAM,IAGnC,OAAO5K,EAASM,GAGlBd,EAAOrB,UAAUmoB,WAAa9mB,EAAOrB,UAAUooB,WAAa,SAAoB1qB,EAAOmE,EAAQukB,GAK7F,OAJA1oB,GAASA,EACTmE,KAAoB,EACfukB,GAAUJ,EAAS/mB,KAAMvB,EAAOmE,EAAQ,EAAG,IAAM,GACtD5C,KAAK4C,GAAkB,IAARnE,EACRmE,EAAS,GAGlBR,EAAOrB,UAAUqoB,cAAgBhnB,EAAOrB,UAAUsoB,cAAgB,SAAuB5qB,EAAOmE,EAAQukB,GAMtG,OALA1oB,GAASA,EACTmE,KAAoB,EACfukB,GAAUJ,EAAS/mB,KAAMvB,EAAOmE,EAAQ,EAAG,MAAQ,GACxD5C,KAAK4C,GAAkB,IAARnE,EACfuB,KAAK4C,EAAS,GAAKnE,IAAU,EACtBmE,EAAS,GAGlBR,EAAOrB,UAAUuoB,cAAgBlnB,EAAOrB,UAAUwoB,cAAgB,SAAuB9qB,EAAOmE,EAAQukB,GAMtG,OALA1oB,GAASA,EACTmE,KAAoB,EACfukB,GAAUJ,EAAS/mB,KAAMvB,EAAOmE,EAAQ,EAAG,MAAQ,GACxD5C,KAAK4C,GAAUnE,IAAU,EACzBuB,KAAK4C,EAAS,GAAa,IAARnE,EACZmE,EAAS,GAGlBR,EAAOrB,UAAUyoB,cAAgBpnB,EAAOrB,UAAU0oB,cAAgB,SAAuBhrB,EAAOmE,EAAQukB,GAQtG,OAPA1oB,GAASA,EACTmE,KAAoB,EACfukB,GAAUJ,EAAS/mB,KAAMvB,EAAOmE,EAAQ,EAAG,WAAY,GAC5D5C,KAAK4C,EAAS,GAAKnE,IAAU,GAC7BuB,KAAK4C,EAAS,GAAKnE,IAAU,GAC7BuB,KAAK4C,EAAS,GAAKnE,IAAU,EAC7BuB,KAAK4C,GAAkB,IAARnE,EACRmE,EAAS,GAGlBR,EAAOrB,UAAU2oB,cAAgBtnB,EAAOrB,UAAU4oB,cAAgB,SAAuBlrB,EAAOmE,EAAQukB,GAQtG,OAPA1oB,GAASA,EACTmE,KAAoB,EACfukB,GAAUJ,EAAS/mB,KAAMvB,EAAOmE,EAAQ,EAAG,WAAY,GAC5D5C,KAAK4C,GAAUnE,IAAU,GACzBuB,KAAK4C,EAAS,GAAKnE,IAAU,GAC7BuB,KAAK4C,EAAS,GAAKnE,IAAU,EAC7BuB,KAAK4C,EAAS,GAAa,IAARnE,EACZmE,EAAS,GAGlBR,EAAOrB,UAAU6oB,WAAa,SAAoBnrB,EAAOmE,EAAQM,EAAYikB,GAI3E,GAHA1oB,GAASA,EACTmE,KAAoB,GAEfukB,EAAU,CACb,IAAI0C,EAAQnhB,KAAKyf,IAAI,EAAG,EAAIjlB,EAAa,GACzC6jB,EAAS/mB,KAAMvB,EAAOmE,EAAQM,EAAY2mB,EAAQ,GAAIA,GAGxD,IAAIrlB,EAAI,EACJgJ,EAAM,EACNsc,EAAM,EAGV,IAFA9pB,KAAK4C,GAAkB,IAARnE,IAEN+F,EAAItB,IAAesK,GAAO,MAC7B/O,EAAQ,GAAa,IAARqrB,GAAsC,IAAzB9pB,KAAK4C,EAAS4B,EAAI,KAC9CslB,EAAM,GAGR9pB,KAAK4C,EAAS4B,IAAM/F,EAAQ+O,GAAO,GAAKsc,EAAM,IAGhD,OAAOlnB,EAASM,GAGlBd,EAAOrB,UAAUgpB,WAAa,SAAoBtrB,EAAOmE,EAAQM,EAAYikB,GAI3E,GAHA1oB,GAASA,EACTmE,KAAoB,GAEfukB,EAAU,CACb,IAAI0C,EAAQnhB,KAAKyf,IAAI,EAAG,EAAIjlB,EAAa,GACzC6jB,EAAS/mB,KAAMvB,EAAOmE,EAAQM,EAAY2mB,EAAQ,GAAIA,GAGxD,IAAIrlB,EAAItB,EAAa,EACjBsK,EAAM,EACNsc,EAAM,EAGV,IAFA9pB,KAAK4C,EAAS4B,GAAa,IAAR/F,IAEV+F,GAAK,IAAMgJ,GAAO,MACrB/O,EAAQ,GAAa,IAARqrB,GAAsC,IAAzB9pB,KAAK4C,EAAS4B,EAAI,KAC9CslB,EAAM,GAGR9pB,KAAK4C,EAAS4B,IAAM/F,EAAQ+O,GAAO,GAAKsc,EAAM,IAGhD,OAAOlnB,EAASM,GAGlBd,EAAOrB,UAAUipB,UAAY,SAAmBvrB,EAAOmE,EAAQukB,GAM7D,OALA1oB,GAASA,EACTmE,KAAoB,EACfukB,GAAUJ,EAAS/mB,KAAMvB,EAAOmE,EAAQ,EAAG,KAAO,KACnDnE,EAAQ,IAAGA,EAAQ,IAAOA,EAAQ,GACtCuB,KAAK4C,GAAkB,IAARnE,EACRmE,EAAS,GAGlBR,EAAOrB,UAAUkpB,aAAe,SAAsBxrB,EAAOmE,EAAQukB,GAMnE,OALA1oB,GAASA,EACTmE,KAAoB,EACfukB,GAAUJ,EAAS/mB,KAAMvB,EAAOmE,EAAQ,EAAG,OAAS,OACzD5C,KAAK4C,GAAkB,IAARnE,EACfuB,KAAK4C,EAAS,GAAKnE,IAAU,EACtBmE,EAAS,GAGlBR,EAAOrB,UAAUmpB,aAAe,SAAsBzrB,EAAOmE,EAAQukB,GAMnE,OALA1oB,GAASA,EACTmE,KAAoB,EACfukB,GAAUJ,EAAS/mB,KAAMvB,EAAOmE,EAAQ,EAAG,OAAS,OACzD5C,KAAK4C,GAAUnE,IAAU,EACzBuB,KAAK4C,EAAS,GAAa,IAARnE,EACZmE,EAAS,GAGlBR,EAAOrB,UAAUopB,aAAe,SAAsB1rB,EAAOmE,EAAQukB,GAQnE,OAPA1oB,GAASA,EACTmE,KAAoB,EACfukB,GAAUJ,EAAS/mB,KAAMvB,EAAOmE,EAAQ,EAAG,YAAa,YAC7D5C,KAAK4C,GAAkB,IAARnE,EACfuB,KAAK4C,EAAS,GAAKnE,IAAU,EAC7BuB,KAAK4C,EAAS,GAAKnE,IAAU,GAC7BuB,KAAK4C,EAAS,GAAKnE,IAAU,GACtBmE,EAAS,GAGlBR,EAAOrB,UAAUqpB,aAAe,SAAsB3rB,EAAOmE,EAAQukB,GASnE,OARA1oB,GAASA,EACTmE,KAAoB,EACfukB,GAAUJ,EAAS/mB,KAAMvB,EAAOmE,EAAQ,EAAG,YAAa,YACzDnE,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GAC5CuB,KAAK4C,GAAUnE,IAAU,GACzBuB,KAAK4C,EAAS,GAAKnE,IAAU,GAC7BuB,KAAK4C,EAAS,GAAKnE,IAAU,EAC7BuB,KAAK4C,EAAS,GAAa,IAARnE,EACZmE,EAAS,GAoBlBR,EAAOrB,UAAUspB,aAAe,SAAsB5rB,EAAOmE,EAAQukB,GACnE,OAAOF,EAAWjnB,KAAMvB,EAAOmE,GAAQ,EAAMukB,IAG/C/kB,EAAOrB,UAAUupB,aAAe,SAAsB7rB,EAAOmE,EAAQukB,GACnE,OAAOF,EAAWjnB,KAAMvB,EAAOmE,GAAQ,EAAOukB,IAehD/kB,EAAOrB,UAAUwpB,cAAgB,SAAuB9rB,EAAOmE,EAAQukB,GACrE,OAAOC,EAAYpnB,KAAMvB,EAAOmE,GAAQ,EAAMukB,IAGhD/kB,EAAOrB,UAAUypB,cAAgB,SAAuB/rB,EAAOmE,EAAQukB,GACrE,OAAOC,EAAYpnB,KAAMvB,EAAOmE,GAAQ,EAAOukB,IAIjD/kB,EAAOrB,UAAUkD,KAAO,SAAciC,EAAQC,EAAaN,EAAOC,GAChE,IAAK1D,EAAO2B,SAASmC,GAAS,MAAM,IAAI9F,UAAU,+BAOlD,GANKyF,IAAOA,EAAQ,GACfC,GAAe,IAARA,IAAWA,EAAM9F,KAAKO,QAC9B4F,GAAeD,EAAO3F,SAAQ4F,EAAcD,EAAO3F,QAClD4F,IAAaA,EAAc,GAC5BL,EAAM,GAAKA,EAAMD,IAAOC,EAAMD,GAE9BC,IAAQD,EAAO,OAAO,EAC1B,GAAsB,IAAlBK,EAAO3F,QAAgC,IAAhBP,KAAKO,OAAc,OAAO,EAErD,GAAI4F,EAAc,EAChB,MAAM,IAAIhD,WAAW,6BAGvB,GAAI0C,EAAQ,GAAKA,GAAS7F,KAAKO,OAAQ,MAAM,IAAI4C,WAAW,sBAC5D,GAAI2C,EAAM,EAAG,MAAM,IAAI3C,WAAW,2BAE9B2C,EAAM9F,KAAKO,SAAQuF,EAAM9F,KAAKO,QAE9B2F,EAAO3F,OAAS4F,EAAcL,EAAMD,IACtCC,EAAMI,EAAO3F,OAAS4F,EAAcN,GAGtC,IAAI7B,EAAM8B,EAAMD,EAShB,OAPI7F,OAASkG,GAAqD,mBAApC5D,WAAWvB,UAAU0pB,WAEjDzqB,KAAKyqB,WAAWtkB,EAAaN,EAAOC,GAEpCxD,WAAWvB,UAAUqF,IAAI/F,KAAK6F,EAAQlG,KAAKgG,SAASH,EAAOC,GAAMK,GAG5DnC,GAOT5B,EAAOrB,UAAUsF,KAAO,SAAclC,EAAK0B,EAAOC,EAAK6b,GAErD,GAAmB,iBAARxd,EAAkB,CAU3B,GATqB,iBAAV0B,GACT8b,EAAW9b,EACXA,EAAQ,EACRC,EAAM9F,KAAKO,QACa,iBAARuF,IAChB6b,EAAW7b,EACXA,EAAM9F,KAAKO,aAGI8C,IAAbse,GAA8C,iBAAbA,EACnC,MAAM,IAAIvhB,UAAU,6BAGtB,GAAwB,iBAAbuhB,IAA0Bvf,EAAOwf,WAAWD,GACrD,MAAM,IAAIvhB,UAAU,qBAAuBuhB,GAG7C,GAAmB,IAAfxd,EAAI5D,OAAc,CACpB,IAAI+F,EAAOnC,EAAIY,WAAW,IAET,SAAb4c,GAAuBrb,EAAO,KAAoB,WAAbqb,KAEvCxd,EAAMmC,QAGc,iBAARnC,EAChBA,GAAY,IACY,kBAARA,IAChBA,EAAM2f,OAAO3f,IAIf,GAAI0B,EAAQ,GAAK7F,KAAKO,OAASsF,GAAS7F,KAAKO,OAASuF,EACpD,MAAM,IAAI3C,WAAW,sBAGvB,GAAI2C,GAAOD,EACT,OAAO7F,KAMT,IAAIwE,EAEJ,GALAqB,KAAkB,EAClBC,OAAczC,IAARyC,EAAoB9F,KAAKO,OAASuF,IAAQ,EAC3C3B,IAAKA,EAAM,GAGG,iBAARA,EACT,IAAKK,EAAIqB,EAAOrB,EAAIsB,IAAOtB,EACzBxE,KAAKwE,GAAKL,MAEP,CACL,IAAIW,EAAQ1C,EAAO2B,SAASI,GAAOA,EAAM/B,EAAOkC,KAAKH,EAAKwd,GACtD3d,EAAMc,EAAMvE,OAEhB,GAAY,IAARyD,EACF,MAAM,IAAI5D,UAAU,cAAgB+D,EAAM,qCAG5C,IAAKK,EAAI,EAAGA,EAAIsB,EAAMD,IAASrB,EAC7BxE,KAAKwE,EAAIqB,GAASf,EAAMN,EAAIR,GAIhC,OAAOhE,MAKT,IAAI0qB,EAAoB,oBAiBxB,SAASjmB,EAAYjB,EAAQkB,GAE3B,IAAIC,EADJD,EAAQA,GAASE,IAMjB,IAJA,IAAIrE,EAASiD,EAAOjD,OAChBsE,EAAgB,KAChBC,EAAQ,GAEHN,EAAI,EAAGA,EAAIjE,IAAUiE,EAAG,CAG/B,IAFAG,EAAYnB,EAAOuB,WAAWP,IAEd,OAAUG,EAAY,MAAQ,CAE5C,IAAKE,EAAe,CAElB,GAAIF,EAAY,MAAQ,EAEjBD,GAAS,IAAM,GAAGI,EAAMtE,KAAK,IAAM,IAAM,KAC9C,SACK,GAAIgE,EAAI,IAAMjE,EAAQ,EAEtBmE,GAAS,IAAM,GAAGI,EAAMtE,KAAK,IAAM,IAAM,KAC9C,SAIFqE,EAAgBF,EAChB,SAIF,GAAIA,EAAY,MAAQ,EACjBD,GAAS,IAAM,GAAGI,EAAMtE,KAAK,IAAM,IAAM,KAC9CqE,EAAgBF,EAChB,SAIFA,EAAkE,OAArDE,EAAgB,OAAU,GAAKF,EAAY,YAC/CE,IAEJH,GAAS,IAAM,GAAGI,EAAMtE,KAAK,IAAM,IAAM,KAKhD,GAFAqE,EAAgB,KAEZF,EAAY,IAAM,CACpB,IAAKD,GAAS,GAAK,EAAG,MACtBI,EAAMtE,KAAKmE,QACN,GAAIA,EAAY,KAAO,CAC5B,IAAKD,GAAS,GAAK,EAAG,MACtBI,EAAMtE,KAAKmE,GAAa,EAAM,IAAkB,GAAZA,EAAmB,UAClD,GAAIA,EAAY,MAAS,CAC9B,IAAKD,GAAS,GAAK,EAAG,MACtBI,EAAMtE,KAAKmE,GAAa,GAAM,IAAMA,GAAa,EAAM,GAAO,IAAkB,GAAZA,EAAmB,SAClF,MAAIA,EAAY,SAIrB,MAAM,IAAIK,MAAM,sBAHhB,IAAKN,GAAS,GAAK,EAAG,MACtBI,EAAMtE,KAAKmE,GAAa,GAAO,IAAMA,GAAa,GAAM,GAAO,IAAMA,GAAa,EAAM,GAAO,IAAkB,GAAZA,EAAmB,MAM5H,OAAOG,EA8BT,SAASyd,EAAc5S,GACrB,OAAO2R,EAAOqJ,YA5GhB,SAAqBhb,GAMnB,IAFAA,GAFAA,EAAMA,EAAIqK,MAAM,KAAK,IAEXkM,OAAOnX,QAAQ2b,EAAmB,KAEpCnqB,OAAS,EAAG,MAAO,GAE3B,KAAOoP,EAAIpP,OAAS,GAAM,GACxBoP,GAAY,IAGd,OAAOA,EAgGmBib,CAAYjb,IAGxC,SAAShK,EAAWF,EAAKC,EAAK9C,EAAQrC,GACpC,IAAK,IAAIiE,EAAI,EAAGA,EAAIjE,KACdiE,EAAI5B,GAAU8C,EAAInF,QAAUiE,GAAKiB,EAAIlF,UADbiE,EAE5BkB,EAAIlB,EAAI5B,GAAU6C,EAAIjB,GAGxB,OAAOA,EAMT,SAASsd,EAAWhe,EAAKzC,GACvB,OAAOyC,aAAezC,GAAe,MAAPyC,GAAkC,MAAnBA,EAAI+mB,aAA+C,MAAxB/mB,EAAI+mB,YAAYvpB,MAAgBwC,EAAI+mB,YAAYvpB,OAASD,EAAKC,KAGxI,SAAS4gB,EAAYpe,GAEnB,OAAOA,GAAQA,EAKjB,IAAI8iB,EAAsB,WAIxB,IAHA,IAAIkE,EAAW,mBACX9U,EAAQ,IAAI/T,MAAM,KAEbuC,EAAI,EAAGA,EAAI,KAAMA,EAGxB,IAFA,IAAIumB,EAAU,GAAJvmB,EAED4F,EAAI,EAAGA,EAAI,KAAMA,EACxB4L,EAAM+U,EAAM3gB,GAAK0gB,EAAStmB,GAAKsmB,EAAS1gB,GAI5C,OAAO4L,EAZiB","file":"968-86476f0a9de0fded01a5.js","sourcesContent":["var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { r as registerInstance, h, H as Host } from './index-83f2275b.js';\nimport { Logger, I18n } from '@aws-amplify/core';\nimport { M as MfaOption, A as AuthState } from './auth-types-78df304e.js';\nimport { Auth } from '@aws-amplify/auth';\nimport { T as Translations } from './Translations-c833f663.js';\nimport { S as SETUP_TOTP, i as SUCCESS, N as NO_AUTH_MODULE_FOUND } from './constants-d1abe7de.js';\nimport { d as dispatchAuthStateChangeEvent, o as onAuthUIStateChange, a as dispatchToastHubEvent } from './helpers-82822fb2.js';\nimport { c as checkContact } from './auth-helpers-c05e889e.js';\nimport buffer from 'buffer';\nvar amplifyRadioButtonCss = \":host{--font-family:var(--amplify-font-family)}.radio-button{display:block;width:100%;padding:16px;font-size:var(--amplify-text-sm);font-family:var(--font-family)}.radio-button input{margin-right:12px}\";\n\nvar AmplifyRadioButton =\n/** @class */\nfunction () {\n  function AmplifyRadioButton(hostRef) {\n    registerInstance(this, hostRef);\n    /** (Optional) The placeholder for the input element.  Using hints is recommended, but placeholders can also be useful to convey information to users. */\n\n    this.placeholder = '';\n    /** If `true`, the radio button is selected. */\n\n    this.checked = false;\n    /** If `true`, the checkbox is disabled */\n\n    this.disabled = false;\n  }\n\n  AmplifyRadioButton.prototype.render = function () {\n    return h(\"span\", {\n      class: \"radio-button\"\n    }, h(\"input\", Object.assign({\n      type: \"radio\",\n      name: this.name,\n      value: this.value,\n      onInput: this.handleInputChange,\n      placeholder: this.placeholder,\n      id: this.fieldId,\n      checked: this.checked,\n      disabled: this.disabled\n    }, this.inputProps)), h(\"amplify-label\", {\n      htmlFor: this.fieldId\n    }, this.label));\n  };\n\n  return AmplifyRadioButton;\n}();\n\nAmplifyRadioButton.style = amplifyRadioButtonCss; // can-promise has a crash in some versions of react native that dont have\n// standard global objects\n// https://github.com/soldair/node-qrcode/issues/157\n\nvar canPromise = function canPromise() {\n  return typeof Promise === 'function' && Promise.prototype && Promise.prototype.then;\n};\n\nvar toString = {}.toString;\n\nvar isarray = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\nfunction typedArraySupport() {\n  // Can typed array instances be augmented?\n  try {\n    var arr = new Uint8Array(1);\n    arr.__proto__ = {\n      __proto__: Uint8Array.prototype,\n      foo: function foo() {\n        return 42;\n      }\n    };\n    return arr.foo() === 42;\n  } catch (e) {\n    return false;\n  }\n}\n\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport();\nvar K_MAX_LENGTH = Buffer.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;\n\nfunction Buffer(arg, offset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, offset, length);\n  }\n\n  if (typeof arg === 'number') {\n    return allocUnsafe(this, arg);\n  }\n\n  return from(this, arg, offset, length);\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype;\n  Buffer.__proto__ = Uint8Array; // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n\n  if (typeof Symbol !== 'undefined' && Symbol.species && Buffer[Symbol.species] === Buffer) {\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true,\n      enumerable: false,\n      writable: false\n    });\n  }\n}\n\nfunction checked(length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes');\n  }\n\n  return length | 0;\n}\n\nfunction isnan(val) {\n  return val !== val; // eslint-disable-line no-self-compare\n}\n\nfunction createBuffer(that, length) {\n  var buf;\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    buf = new Uint8Array(length);\n    buf.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    buf = that;\n\n    if (buf === null) {\n      buf = new Buffer(length);\n    }\n\n    buf.length = length;\n  }\n\n  return buf;\n}\n\nfunction allocUnsafe(that, size) {\n  var buf = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      buf[i] = 0;\n    }\n  }\n\n  return buf;\n}\n\nfunction fromString(that, string) {\n  var length = byteLength(string) | 0;\n  var buf = createBuffer(that, length);\n  var actual = buf.write(string);\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual);\n  }\n\n  return buf;\n}\n\nfunction fromArrayLike(that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0;\n  var buf = createBuffer(that, length);\n\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255;\n  }\n\n  return buf;\n}\n\nfunction fromArrayBuffer(that, array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds');\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds');\n  }\n\n  var buf;\n\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array);\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset);\n  } else {\n    buf = new Uint8Array(array, byteOffset, length);\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    buf.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    buf = fromArrayLike(that, buf);\n  }\n\n  return buf;\n}\n\nfunction fromObject(that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0;\n    var buf = createBuffer(that, len);\n\n    if (buf.length === 0) {\n      return buf;\n    }\n\n    obj.copy(buf, 0, 0, len);\n    return buf;\n  }\n\n  if (obj) {\n    if (typeof ArrayBuffer !== 'undefined' && obj.buffer instanceof ArrayBuffer || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0);\n      }\n\n      return fromArrayLike(that, obj);\n    }\n\n    if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n      return fromArrayLike(that, obj.data);\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n}\n\nfunction utf8ToBytes(string, units) {\n  units = units || Infinity;\n  var codePoint;\n  var length = string.length;\n  var leadSurrogate = null;\n  var bytes = [];\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i); // is surrogate component\n\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } // valid lead\n\n\n        leadSurrogate = codePoint;\n        continue;\n      } // 2 leads in a row\n\n\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        leadSurrogate = codePoint;\n        continue;\n      } // valid surrogate pair\n\n\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n    }\n\n    leadSurrogate = null; // encode utf8\n\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break;\n      bytes.push(codePoint);\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break;\n      bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break;\n      bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break;\n      bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else {\n      throw new Error('Invalid code point');\n    }\n  }\n\n  return bytes;\n}\n\nfunction byteLength(string) {\n  if (Buffer.isBuffer(string)) {\n    return string.length;\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength;\n  }\n\n  if (typeof string !== 'string') {\n    string = '' + string;\n  }\n\n  var len = string.length;\n  if (len === 0) return 0;\n  return utf8ToBytes(string).length;\n}\n\nfunction blitBuffer(src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if (i + offset >= dst.length || i >= src.length) break;\n    dst[i + offset] = src[i];\n  }\n\n  return i;\n}\n\nfunction utf8Write(buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nfunction from(that, value, offset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number');\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, offset, length);\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value);\n  }\n\n  return fromObject(that, value);\n}\n\nBuffer.prototype.write = function write(string, offset, length) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    length = this.length;\n    offset = 0; // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    length = this.length;\n    offset = 0; // Buffer#write(string, offset[, length])\n  } else if (isFinite(offset)) {\n    offset = offset | 0;\n\n    if (isFinite(length)) {\n      length = length | 0;\n    } else {\n      length = undefined;\n    }\n  }\n\n  var remaining = this.length - offset;\n  if (length === undefined || length > remaining) length = remaining;\n\n  if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds');\n  }\n\n  return utf8Write(this, string, offset, length);\n};\n\nBuffer.prototype.slice = function slice(start, end) {\n  var len = this.length;\n  start = ~~start;\n  end = end === undefined ? len : ~~end;\n\n  if (start < 0) {\n    start += len;\n    if (start < 0) start = 0;\n  } else if (start > len) {\n    start = len;\n  }\n\n  if (end < 0) {\n    end += len;\n    if (end < 0) end = 0;\n  } else if (end > len) {\n    end = len;\n  }\n\n  if (end < start) end = start;\n  var newBuf;\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end); // Return an augmented `Uint8Array` instance\n\n    newBuf.__proto__ = Buffer.prototype;\n  } else {\n    var sliceLen = end - start;\n    newBuf = new Buffer(sliceLen, undefined);\n\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start];\n    }\n  }\n\n  return newBuf;\n};\n\nBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n  if (!start) start = 0;\n  if (!end && end !== 0) end = this.length;\n  if (targetStart >= target.length) targetStart = target.length;\n  if (!targetStart) targetStart = 0;\n  if (end > 0 && end < start) end = start; // Copy 0 bytes; we're done\n\n  if (end === start) return 0;\n  if (target.length === 0 || this.length === 0) return 0; // Fatal error conditions\n\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds');\n  }\n\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds');\n  if (end < 0) throw new RangeError('sourceEnd out of bounds'); // Are we oob?\n\n  if (end > this.length) end = this.length;\n\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start;\n  }\n\n  var len = end - start;\n  var i;\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else {\n    Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n  }\n\n  return len;\n};\n\nBuffer.prototype.fill = function fill(val, start, end) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      start = 0;\n      end = this.length;\n    } else if (typeof end === 'string') {\n      end = this.length;\n    }\n\n    if (val.length === 1) {\n      var code = val.charCodeAt(0);\n\n      if (code < 256) {\n        val = code;\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255;\n  } // Invalid ranges are not set to a default, so can range check early.\n\n\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index');\n  }\n\n  if (end <= start) {\n    return this;\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? this.length : end >>> 0;\n  if (!val) val = 0;\n  var i;\n\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val;\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val) ? val : new Buffer(val);\n    var len = bytes.length;\n\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len];\n    }\n  }\n\n  return this;\n};\n\nBuffer.concat = function concat(list, length) {\n  if (!isarray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers');\n  }\n\n  if (list.length === 0) {\n    return createBuffer(null, 0);\n  }\n\n  var i;\n\n  if (length === undefined) {\n    length = 0;\n\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length;\n    }\n  }\n\n  var buffer = allocUnsafe(null, length);\n  var pos = 0;\n\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i];\n\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers');\n    }\n\n    buf.copy(buffer, pos);\n    pos += buf.length;\n  }\n\n  return buffer;\n};\n\nBuffer.byteLength = byteLength;\nBuffer.prototype._isBuffer = true;\n\nBuffer.isBuffer = function isBuffer(b) {\n  return !!(b != null && b._isBuffer);\n};\n\nvar alloc = function alloc(size) {\n  var buffer = new Buffer(size);\n  buffer.fill(0);\n  return buffer;\n};\n\nvar from_1 = function from_1(data) {\n  return new Buffer(data);\n};\n\nvar typedarrayBuffer = {\n  alloc: alloc,\n  from: from_1\n};\nvar toSJISFunction;\nvar CODEWORDS_COUNT = [0, 26, 44, 70, 100, 134, 172, 196, 242, 292, 346, 404, 466, 532, 581, 655, 733, 815, 901, 991, 1085, 1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185, 2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706];\n/**\n * Returns the QR Code size for the specified version\n *\n * @param  {Number} version QR Code version\n * @return {Number}         size of QR code\n */\n\nvar getSymbolSize = function getSymbolSize(version) {\n  if (!version) throw new Error('\"version\" cannot be null or undefined');\n  if (version < 1 || version > 40) throw new Error('\"version\" should be in range from 1 to 40');\n  return version * 4 + 17;\n};\n/**\n * Returns the total number of codewords used to store data and EC information.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Data length in bits\n */\n\n\nvar getSymbolTotalCodewords = function getSymbolTotalCodewords(version) {\n  return CODEWORDS_COUNT[version];\n};\n/**\n * Encode data with Bose-Chaudhuri-Hocquenghem\n *\n * @param  {Number} data Value to encode\n * @return {Number}      Encoded value\n */\n\n\nvar getBCHDigit = function getBCHDigit(data) {\n  var digit = 0;\n\n  while (data !== 0) {\n    digit++;\n    data >>>= 1;\n  }\n\n  return digit;\n};\n\nvar setToSJISFunction = function setToSJISFunction(f) {\n  if (typeof f !== 'function') {\n    throw new Error('\"toSJISFunc\" is not a valid function.');\n  }\n\n  toSJISFunction = f;\n};\n\nvar isKanjiModeEnabled = function isKanjiModeEnabled() {\n  return typeof toSJISFunction !== 'undefined';\n};\n\nvar toSJIS = function toSJIS(kanji) {\n  return toSJISFunction(kanji);\n};\n\nvar utils = {\n  getSymbolSize: getSymbolSize,\n  getSymbolTotalCodewords: getSymbolTotalCodewords,\n  getBCHDigit: getBCHDigit,\n  setToSJISFunction: setToSJISFunction,\n  isKanjiModeEnabled: isKanjiModeEnabled,\n  toSJIS: toSJIS\n};\n\nfunction createCommonjsModule(fn, basedir, module) {\n  return module = {\n    path: basedir,\n    exports: {},\n    require: function require(path, base) {\n      return commonjsRequire();\n    }\n  }, fn(module, module.exports), module.exports;\n}\n\nfunction commonjsRequire() {\n  throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\n\nvar errorCorrectionLevel = createCommonjsModule(function (module, exports) {\n  exports.L = {\n    bit: 1\n  };\n  exports.M = {\n    bit: 0\n  };\n  exports.Q = {\n    bit: 3\n  };\n  exports.H = {\n    bit: 2\n  };\n\n  function fromString(string) {\n    if (typeof string !== 'string') {\n      throw new Error('Param is not a string');\n    }\n\n    var lcStr = string.toLowerCase();\n\n    switch (lcStr) {\n      case 'l':\n      case 'low':\n        return exports.L;\n\n      case 'm':\n      case 'medium':\n        return exports.M;\n\n      case 'q':\n      case 'quartile':\n        return exports.Q;\n\n      case 'h':\n      case 'high':\n        return exports.H;\n\n      default:\n        throw new Error('Unknown EC Level: ' + string);\n    }\n  }\n\n  exports.isValid = function isValid(level) {\n    return level && typeof level.bit !== 'undefined' && level.bit >= 0 && level.bit < 4;\n  };\n\n  exports.from = function from(value, defaultValue) {\n    if (exports.isValid(value)) {\n      return value;\n    }\n\n    try {\n      return fromString(value);\n    } catch (e) {\n      return defaultValue;\n    }\n  };\n});\n\nfunction BitBuffer() {\n  this.buffer = [];\n  this.length = 0;\n}\n\nBitBuffer.prototype = {\n  get: function get(index) {\n    var bufIndex = Math.floor(index / 8);\n    return (this.buffer[bufIndex] >>> 7 - index % 8 & 1) === 1;\n  },\n  put: function put(num, length) {\n    for (var i = 0; i < length; i++) {\n      this.putBit((num >>> length - i - 1 & 1) === 1);\n    }\n  },\n  getLengthInBits: function getLengthInBits() {\n    return this.length;\n  },\n  putBit: function putBit(bit) {\n    var bufIndex = Math.floor(this.length / 8);\n\n    if (this.buffer.length <= bufIndex) {\n      this.buffer.push(0);\n    }\n\n    if (bit) {\n      this.buffer[bufIndex] |= 0x80 >>> this.length % 8;\n    }\n\n    this.length++;\n  }\n};\nvar bitBuffer = BitBuffer;\n/**\n * Helper class to handle QR Code symbol modules\n *\n * @param {Number} size Symbol size\n */\n\nfunction BitMatrix(size) {\n  if (!size || size < 1) {\n    throw new Error('BitMatrix size must be defined and greater than 0');\n  }\n\n  this.size = size;\n  this.data = typedarrayBuffer.alloc(size * size);\n  this.reservedBit = typedarrayBuffer.alloc(size * size);\n}\n/**\n * Set bit value at specified location\n * If reserved flag is set, this bit will be ignored during masking process\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n * @param {Boolean} reserved\n */\n\n\nBitMatrix.prototype.set = function (row, col, value, reserved) {\n  var index = row * this.size + col;\n  this.data[index] = value;\n  if (reserved) this.reservedBit[index] = true;\n};\n/**\n * Returns bit value at specified location\n *\n * @param  {Number}  row\n * @param  {Number}  col\n * @return {Boolean}\n */\n\n\nBitMatrix.prototype.get = function (row, col) {\n  return this.data[row * this.size + col];\n};\n/**\n * Applies xor operator at specified location\n * (used during masking process)\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n */\n\n\nBitMatrix.prototype.xor = function (row, col, value) {\n  this.data[row * this.size + col] ^= value;\n};\n/**\n * Check if bit at specified location is reserved\n *\n * @param {Number}   row\n * @param {Number}   col\n * @return {Boolean}\n */\n\n\nBitMatrix.prototype.isReserved = function (row, col) {\n  return this.reservedBit[row * this.size + col];\n};\n\nvar bitMatrix = BitMatrix;\nvar alignmentPattern = createCommonjsModule(function (module, exports) {\n  /**\n   * Alignment pattern are fixed reference pattern in defined positions\n   * in a matrix symbology, which enables the decode software to re-synchronise\n   * the coordinate mapping of the image modules in the event of moderate amounts\n   * of distortion of the image.\n   *\n   * Alignment patterns are present only in QR Code symbols of version 2 or larger\n   * and their number depends on the symbol version.\n   */\n  var getSymbolSize = utils.getSymbolSize;\n  /**\n   * Calculate the row/column coordinates of the center module of each alignment pattern\n   * for the specified QR Code version.\n   *\n   * The alignment patterns are positioned symmetrically on either side of the diagonal\n   * running from the top left corner of the symbol to the bottom right corner.\n   *\n   * Since positions are simmetrical only half of the coordinates are returned.\n   * Each item of the array will represent in turn the x and y coordinate.\n   * @see {@link getPositions}\n   *\n   * @param  {Number} version QR Code version\n   * @return {Array}          Array of coordinate\n   */\n\n  exports.getRowColCoords = function getRowColCoords(version) {\n    if (version === 1) return [];\n    var posCount = Math.floor(version / 7) + 2;\n    var size = getSymbolSize(version);\n    var intervals = size === 145 ? 26 : Math.ceil((size - 13) / (2 * posCount - 2)) * 2;\n    var positions = [size - 7]; // Last coord is always (size - 7)\n\n    for (var i = 1; i < posCount - 1; i++) {\n      positions[i] = positions[i - 1] - intervals;\n    }\n\n    positions.push(6); // First coord is always 6\n\n    return positions.reverse();\n  };\n  /**\n   * Returns an array containing the positions of each alignment pattern.\n   * Each array's element represent the center point of the pattern as (x, y) coordinates\n   *\n   * Coordinates are calculated expanding the row/column coordinates returned by {@link getRowColCoords}\n   * and filtering out the items that overlaps with finder pattern\n   *\n   * @example\n   * For a Version 7 symbol {@link getRowColCoords} returns values 6, 22 and 38.\n   * The alignment patterns, therefore, are to be centered on (row, column)\n   * positions (6,22), (22,6), (22,22), (22,38), (38,22), (38,38).\n   * Note that the coordinates (6,6), (6,38), (38,6) are occupied by finder patterns\n   * and are not therefore used for alignment patterns.\n   *\n   * var pos = getPositions(7)\n   * // [[6,22], [22,6], [22,22], [22,38], [38,22], [38,38]]\n   *\n   * @param  {Number} version QR Code version\n   * @return {Array}          Array of coordinates\n   */\n\n\n  exports.getPositions = function getPositions(version) {\n    var coords = [];\n    var pos = exports.getRowColCoords(version);\n    var posLength = pos.length;\n\n    for (var i = 0; i < posLength; i++) {\n      for (var j = 0; j < posLength; j++) {\n        // Skip if position is occupied by finder patterns\n        if (i === 0 && j === 0 || // top-left\n        i === 0 && j === posLength - 1 || // bottom-left\n        i === posLength - 1 && j === 0) {\n          // top-right\n          continue;\n        }\n\n        coords.push([pos[i], pos[j]]);\n      }\n    }\n\n    return coords;\n  };\n});\nvar getSymbolSize$1 = utils.getSymbolSize;\nvar FINDER_PATTERN_SIZE = 7;\n/**\n * Returns an array containing the positions of each finder pattern.\n * Each array's element represent the top-left point of the pattern as (x, y) coordinates\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\n\nvar getPositions = function getPositions(version) {\n  var size = getSymbolSize$1(version);\n  return [// top-left\n  [0, 0], // top-right\n  [size - FINDER_PATTERN_SIZE, 0], // bottom-left\n  [0, size - FINDER_PATTERN_SIZE]];\n};\n\nvar finderPattern = {\n  getPositions: getPositions\n};\nvar maskPattern = createCommonjsModule(function (module, exports) {\n  /**\n   * Data mask pattern reference\n   * @type {Object}\n   */\n  exports.Patterns = {\n    PATTERN000: 0,\n    PATTERN001: 1,\n    PATTERN010: 2,\n    PATTERN011: 3,\n    PATTERN100: 4,\n    PATTERN101: 5,\n    PATTERN110: 6,\n    PATTERN111: 7\n  };\n  /**\n   * Weighted penalty scores for the undesirable features\n   * @type {Object}\n   */\n\n  var PenaltyScores = {\n    N1: 3,\n    N2: 3,\n    N3: 40,\n    N4: 10\n  };\n  /**\n   * Check if mask pattern value is valid\n   *\n   * @param  {Number}  mask    Mask pattern\n   * @return {Boolean}         true if valid, false otherwise\n   */\n\n  exports.isValid = function isValid(mask) {\n    return mask != null && mask !== '' && !isNaN(mask) && mask >= 0 && mask <= 7;\n  };\n  /**\n   * Returns mask pattern from a value.\n   * If value is not valid, returns undefined\n   *\n   * @param  {Number|String} value        Mask pattern value\n   * @return {Number}                     Valid mask pattern or undefined\n   */\n\n\n  exports.from = function from(value) {\n    return exports.isValid(value) ? parseInt(value, 10) : undefined;\n  };\n  /**\n  * Find adjacent modules in row/column with the same color\n  * and assign a penalty value.\n  *\n  * Points: N1 + i\n  * i is the amount by which the number of adjacent modules of the same color exceeds 5\n  */\n\n\n  exports.getPenaltyN1 = function getPenaltyN1(data) {\n    var size = data.size;\n    var points = 0;\n    var sameCountCol = 0;\n    var sameCountRow = 0;\n    var lastCol = null;\n    var lastRow = null;\n\n    for (var row = 0; row < size; row++) {\n      sameCountCol = sameCountRow = 0;\n      lastCol = lastRow = null;\n\n      for (var col = 0; col < size; col++) {\n        var module = data.get(row, col);\n\n        if (module === lastCol) {\n          sameCountCol++;\n        } else {\n          if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5);\n          lastCol = module;\n          sameCountCol = 1;\n        }\n\n        module = data.get(col, row);\n\n        if (module === lastRow) {\n          sameCountRow++;\n        } else {\n          if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5);\n          lastRow = module;\n          sameCountRow = 1;\n        }\n      }\n\n      if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5);\n      if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5);\n    }\n\n    return points;\n  };\n  /**\n   * Find 2x2 blocks with the same color and assign a penalty value\n   *\n   * Points: N2 * (m - 1) * (n - 1)\n   */\n\n\n  exports.getPenaltyN2 = function getPenaltyN2(data) {\n    var size = data.size;\n    var points = 0;\n\n    for (var row = 0; row < size - 1; row++) {\n      for (var col = 0; col < size - 1; col++) {\n        var last = data.get(row, col) + data.get(row, col + 1) + data.get(row + 1, col) + data.get(row + 1, col + 1);\n        if (last === 4 || last === 0) points++;\n      }\n    }\n\n    return points * PenaltyScores.N2;\n  };\n  /**\n   * Find 1:1:3:1:1 ratio (dark:light:dark:light:dark) pattern in row/column,\n   * preceded or followed by light area 4 modules wide\n   *\n   * Points: N3 * number of pattern found\n   */\n\n\n  exports.getPenaltyN3 = function getPenaltyN3(data) {\n    var size = data.size;\n    var points = 0;\n    var bitsCol = 0;\n    var bitsRow = 0;\n\n    for (var row = 0; row < size; row++) {\n      bitsCol = bitsRow = 0;\n\n      for (var col = 0; col < size; col++) {\n        bitsCol = bitsCol << 1 & 0x7FF | data.get(row, col);\n        if (col >= 10 && (bitsCol === 0x5D0 || bitsCol === 0x05D)) points++;\n        bitsRow = bitsRow << 1 & 0x7FF | data.get(col, row);\n        if (col >= 10 && (bitsRow === 0x5D0 || bitsRow === 0x05D)) points++;\n      }\n    }\n\n    return points * PenaltyScores.N3;\n  };\n  /**\n   * Calculate proportion of dark modules in entire symbol\n   *\n   * Points: N4 * k\n   *\n   * k is the rating of the deviation of the proportion of dark modules\n   * in the symbol from 50% in steps of 5%\n   */\n\n\n  exports.getPenaltyN4 = function getPenaltyN4(data) {\n    var darkCount = 0;\n    var modulesCount = data.data.length;\n\n    for (var i = 0; i < modulesCount; i++) {\n      darkCount += data.data[i];\n    }\n\n    var k = Math.abs(Math.ceil(darkCount * 100 / modulesCount / 5) - 10);\n    return k * PenaltyScores.N4;\n  };\n  /**\n   * Return mask value at given position\n   *\n   * @param  {Number} maskPattern Pattern reference value\n   * @param  {Number} i           Row\n   * @param  {Number} j           Column\n   * @return {Boolean}            Mask value\n   */\n\n\n  function getMaskAt(maskPattern, i, j) {\n    switch (maskPattern) {\n      case exports.Patterns.PATTERN000:\n        return (i + j) % 2 === 0;\n\n      case exports.Patterns.PATTERN001:\n        return i % 2 === 0;\n\n      case exports.Patterns.PATTERN010:\n        return j % 3 === 0;\n\n      case exports.Patterns.PATTERN011:\n        return (i + j) % 3 === 0;\n\n      case exports.Patterns.PATTERN100:\n        return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 === 0;\n\n      case exports.Patterns.PATTERN101:\n        return i * j % 2 + i * j % 3 === 0;\n\n      case exports.Patterns.PATTERN110:\n        return (i * j % 2 + i * j % 3) % 2 === 0;\n\n      case exports.Patterns.PATTERN111:\n        return (i * j % 3 + (i + j) % 2) % 2 === 0;\n\n      default:\n        throw new Error('bad maskPattern:' + maskPattern);\n    }\n  }\n  /**\n   * Apply a mask pattern to a BitMatrix\n   *\n   * @param  {Number}    pattern Pattern reference number\n   * @param  {BitMatrix} data    BitMatrix data\n   */\n\n\n  exports.applyMask = function applyMask(pattern, data) {\n    var size = data.size;\n\n    for (var col = 0; col < size; col++) {\n      for (var row = 0; row < size; row++) {\n        if (data.isReserved(row, col)) continue;\n        data.xor(row, col, getMaskAt(pattern, row, col));\n      }\n    }\n  };\n  /**\n   * Returns the best mask pattern for data\n   *\n   * @param  {BitMatrix} data\n   * @return {Number} Mask pattern reference number\n   */\n\n\n  exports.getBestMask = function getBestMask(data, setupFormatFunc) {\n    var numPatterns = Object.keys(exports.Patterns).length;\n    var bestPattern = 0;\n    var lowerPenalty = Infinity;\n\n    for (var p = 0; p < numPatterns; p++) {\n      setupFormatFunc(p);\n      exports.applyMask(p, data); // Calculate penalty\n\n      var penalty = exports.getPenaltyN1(data) + exports.getPenaltyN2(data) + exports.getPenaltyN3(data) + exports.getPenaltyN4(data); // Undo previously applied mask\n\n      exports.applyMask(p, data);\n\n      if (penalty < lowerPenalty) {\n        lowerPenalty = penalty;\n        bestPattern = p;\n      }\n    }\n\n    return bestPattern;\n  };\n});\nvar EC_BLOCKS_TABLE = [// L  M  Q  H\n1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 2, 2, 4, 1, 2, 4, 4, 2, 4, 4, 4, 2, 4, 6, 5, 2, 4, 6, 6, 2, 5, 8, 8, 4, 5, 8, 8, 4, 5, 8, 11, 4, 8, 10, 11, 4, 9, 12, 16, 4, 9, 16, 16, 6, 10, 12, 18, 6, 10, 17, 16, 6, 11, 16, 19, 6, 13, 18, 21, 7, 14, 21, 25, 8, 16, 20, 25, 8, 17, 23, 25, 9, 17, 23, 34, 9, 18, 25, 30, 10, 20, 27, 32, 12, 21, 29, 35, 12, 23, 34, 37, 12, 25, 34, 40, 13, 26, 35, 42, 14, 28, 38, 45, 15, 29, 40, 48, 16, 31, 43, 51, 17, 33, 45, 54, 18, 35, 48, 57, 19, 37, 51, 60, 19, 38, 53, 63, 20, 40, 56, 66, 21, 43, 59, 70, 22, 45, 62, 74, 24, 47, 65, 77, 25, 49, 68, 81];\nvar EC_CODEWORDS_TABLE = [// L  M  Q  H\n7, 10, 13, 17, 10, 16, 22, 28, 15, 26, 36, 44, 20, 36, 52, 64, 26, 48, 72, 88, 36, 64, 96, 112, 40, 72, 108, 130, 48, 88, 132, 156, 60, 110, 160, 192, 72, 130, 192, 224, 80, 150, 224, 264, 96, 176, 260, 308, 104, 198, 288, 352, 120, 216, 320, 384, 132, 240, 360, 432, 144, 280, 408, 480, 168, 308, 448, 532, 180, 338, 504, 588, 196, 364, 546, 650, 224, 416, 600, 700, 224, 442, 644, 750, 252, 476, 690, 816, 270, 504, 750, 900, 300, 560, 810, 960, 312, 588, 870, 1050, 336, 644, 952, 1110, 360, 700, 1020, 1200, 390, 728, 1050, 1260, 420, 784, 1140, 1350, 450, 812, 1200, 1440, 480, 868, 1290, 1530, 510, 924, 1350, 1620, 540, 980, 1440, 1710, 570, 1036, 1530, 1800, 570, 1064, 1590, 1890, 600, 1120, 1680, 1980, 630, 1204, 1770, 2100, 660, 1260, 1860, 2220, 720, 1316, 1950, 2310, 750, 1372, 2040, 2430];\n/**\n * Returns the number of error correction block that the QR Code should contain\n * for the specified version and error correction level.\n *\n * @param  {Number} version              QR Code version\n * @param  {Number} errorCorrectionLevel Error correction level\n * @return {Number}                      Number of error correction blocks\n */\n\nvar getBlocksCount = function getBlocksCount(version, errorCorrectionLevel$1) {\n  switch (errorCorrectionLevel$1) {\n    case errorCorrectionLevel.L:\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 0];\n\n    case errorCorrectionLevel.M:\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 1];\n\n    case errorCorrectionLevel.Q:\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 2];\n\n    case errorCorrectionLevel.H:\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 3];\n\n    default:\n      return undefined;\n  }\n};\n/**\n * Returns the number of error correction codewords to use for the specified\n * version and error correction level.\n *\n * @param  {Number} version              QR Code version\n * @param  {Number} errorCorrectionLevel Error correction level\n * @return {Number}                      Number of error correction codewords\n */\n\n\nvar getTotalCodewordsCount = function getTotalCodewordsCount(version, errorCorrectionLevel$1) {\n  switch (errorCorrectionLevel$1) {\n    case errorCorrectionLevel.L:\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 0];\n\n    case errorCorrectionLevel.M:\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 1];\n\n    case errorCorrectionLevel.Q:\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 2];\n\n    case errorCorrectionLevel.H:\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 3];\n\n    default:\n      return undefined;\n  }\n};\n\nvar errorCorrectionCode = {\n  getBlocksCount: getBlocksCount,\n  getTotalCodewordsCount: getTotalCodewordsCount\n};\nvar EXP_TABLE = typedarrayBuffer.alloc(512);\nvar LOG_TABLE = typedarrayBuffer.alloc(256);\n\n(function initTables() {\n  var x = 1;\n\n  for (var i = 0; i < 255; i++) {\n    EXP_TABLE[i] = x;\n    LOG_TABLE[x] = i;\n    x <<= 1; // multiply by 2\n    // The QR code specification says to use byte-wise modulo 100011101 arithmetic.\n    // This means that when a number is 256 or larger, it should be XORed with 0x11D.\n\n    if (x & 0x100) {\n      // similar to x >= 256, but a lot faster (because 0x100 == 256)\n      x ^= 0x11D;\n    }\n  } // Optimization: double the size of the anti-log table so that we don't need to mod 255 to\n  // stay inside the bounds (because we will mainly use this table for the multiplication of\n  // two GF numbers, no more).\n  // @see {@link mul}\n\n\n  for (i = 255; i < 512; i++) {\n    EXP_TABLE[i] = EXP_TABLE[i - 255];\n  }\n})();\n/**\n * Returns log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\n\n\nvar log = function log(n) {\n  if (n < 1) throw new Error('log(' + n + ')');\n  return LOG_TABLE[n];\n};\n/**\n * Returns anti-log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\n\n\nvar exp = function exp(n) {\n  return EXP_TABLE[n];\n};\n/**\n * Multiplies two number inside Galois Field\n *\n * @param  {Number} x\n * @param  {Number} y\n * @return {Number}\n */\n\n\nvar mul = function mul(x, y) {\n  if (x === 0 || y === 0) return 0; // should be EXP_TABLE[(LOG_TABLE[x] + LOG_TABLE[y]) % 255] if EXP_TABLE wasn't oversized\n  // @see {@link initTables}\n\n  return EXP_TABLE[LOG_TABLE[x] + LOG_TABLE[y]];\n};\n\nvar galoisField = {\n  log: log,\n  exp: exp,\n  mul: mul\n};\nvar polynomial = createCommonjsModule(function (module, exports) {\n  /**\n   * Multiplies two polynomials inside Galois Field\n   *\n   * @param  {Buffer} p1 Polynomial\n   * @param  {Buffer} p2 Polynomial\n   * @return {Buffer}    Product of p1 and p2\n   */\n  exports.mul = function mul(p1, p2) {\n    var coeff = typedarrayBuffer.alloc(p1.length + p2.length - 1);\n\n    for (var i = 0; i < p1.length; i++) {\n      for (var j = 0; j < p2.length; j++) {\n        coeff[i + j] ^= galoisField.mul(p1[i], p2[j]);\n      }\n    }\n\n    return coeff;\n  };\n  /**\n   * Calculate the remainder of polynomials division\n   *\n   * @param  {Buffer} divident Polynomial\n   * @param  {Buffer} divisor  Polynomial\n   * @return {Buffer}          Remainder\n   */\n\n\n  exports.mod = function mod(divident, divisor) {\n    var result = typedarrayBuffer.from(divident);\n\n    while (result.length - divisor.length >= 0) {\n      var coeff = result[0];\n\n      for (var i = 0; i < divisor.length; i++) {\n        result[i] ^= galoisField.mul(divisor[i], coeff);\n      } // remove all zeros from buffer head\n\n\n      var offset = 0;\n\n      while (offset < result.length && result[offset] === 0) {\n        offset++;\n      }\n\n      result = result.slice(offset);\n    }\n\n    return result;\n  };\n  /**\n   * Generate an irreducible generator polynomial of specified degree\n   * (used by Reed-Solomon encoder)\n   *\n   * @param  {Number} degree Degree of the generator polynomial\n   * @return {Buffer}        Buffer containing polynomial coefficients\n   */\n\n\n  exports.generateECPolynomial = function generateECPolynomial(degree) {\n    var poly = typedarrayBuffer.from([1]);\n\n    for (var i = 0; i < degree; i++) {\n      poly = exports.mul(poly, [1, galoisField.exp(i)]);\n    }\n\n    return poly;\n  };\n});\nvar Buffer$1 = buffer.Buffer;\n\nfunction ReedSolomonEncoder(degree) {\n  this.genPoly = undefined;\n  this.degree = degree;\n  if (this.degree) this.initialize(this.degree);\n}\n/**\n * Initialize the encoder.\n * The input param should correspond to the number of error correction codewords.\n *\n * @param  {Number} degree\n */\n\n\nReedSolomonEncoder.prototype.initialize = function initialize(degree) {\n  // create an irreducible generator polynomial\n  this.degree = degree;\n  this.genPoly = polynomial.generateECPolynomial(this.degree);\n};\n/**\n * Encodes a chunk of data\n *\n * @param  {Buffer} data Buffer containing input data\n * @return {Buffer}      Buffer containing encoded data\n */\n\n\nReedSolomonEncoder.prototype.encode = function encode(data) {\n  if (!this.genPoly) {\n    throw new Error('Encoder not initialized');\n  } // Calculate EC for this data block\n  // extends data size to data+genPoly size\n\n\n  var pad = typedarrayBuffer.alloc(this.degree);\n  var paddedData = Buffer$1.concat([data, pad], data.length + this.degree); // The error correction codewords are the remainder after dividing the data codewords\n  // by a generator polynomial\n\n  var remainder = polynomial.mod(paddedData, this.genPoly); // return EC data blocks (last n byte, where n is the degree of genPoly)\n  // If coefficients number in remainder are less than genPoly degree,\n  // pad with 0s to the left to reach the needed number of coefficients\n\n  var start = this.degree - remainder.length;\n\n  if (start > 0) {\n    var buff = typedarrayBuffer.alloc(this.degree);\n    remainder.copy(buff, start);\n    return buff;\n  }\n\n  return remainder;\n};\n\nvar reedSolomonEncoder = ReedSolomonEncoder;\n/**\n * Check if QR Code version is valid\n *\n * @param  {Number}  version QR Code version\n * @return {Boolean}         true if valid version, false otherwise\n */\n\nvar isValid = function isValid(version) {\n  return !isNaN(version) && version >= 1 && version <= 40;\n};\n\nvar versionCheck = {\n  isValid: isValid\n};\nvar numeric = '[0-9]+';\nvar alphanumeric = '[A-Z $%*+\\\\-./:]+';\nvar kanji = '(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|' + '[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|' + '[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|' + '[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+';\nkanji = kanji.replace(/u/g, \"\\\\u\");\nvar byte = '(?:(?![A-Z0-9 $%*+\\\\-./:]|' + kanji + ')(?:.|[\\r\\n]))+';\nvar KANJI = new RegExp(kanji, 'g');\nvar BYTE_KANJI = new RegExp('[^A-Z0-9 $%*+\\\\-./:]+', 'g');\nvar BYTE = new RegExp(byte, 'g');\nvar NUMERIC = new RegExp(numeric, 'g');\nvar ALPHANUMERIC = new RegExp(alphanumeric, 'g');\nvar TEST_KANJI = new RegExp('^' + kanji + '$');\nvar TEST_NUMERIC = new RegExp('^' + numeric + '$');\nvar TEST_ALPHANUMERIC = new RegExp('^[A-Z0-9 $%*+\\\\-./:]+$');\n\nvar testKanji = function testKanji(str) {\n  return TEST_KANJI.test(str);\n};\n\nvar testNumeric = function testNumeric(str) {\n  return TEST_NUMERIC.test(str);\n};\n\nvar testAlphanumeric = function testAlphanumeric(str) {\n  return TEST_ALPHANUMERIC.test(str);\n};\n\nvar regex = {\n  KANJI: KANJI,\n  BYTE_KANJI: BYTE_KANJI,\n  BYTE: BYTE,\n  NUMERIC: NUMERIC,\n  ALPHANUMERIC: ALPHANUMERIC,\n  testKanji: testKanji,\n  testNumeric: testNumeric,\n  testAlphanumeric: testAlphanumeric\n};\nvar mode = createCommonjsModule(function (module, exports) {\n  /**\n   * Numeric mode encodes data from the decimal digit set (0 - 9)\n   * (byte values 30HEX to 39HEX).\n   * Normally, 3 data characters are represented by 10 bits.\n   *\n   * @type {Object}\n   */\n  exports.NUMERIC = {\n    id: 'Numeric',\n    bit: 1 << 0,\n    ccBits: [10, 12, 14]\n  };\n  /**\n   * Alphanumeric mode encodes data from a set of 45 characters,\n   * i.e. 10 numeric digits (0 - 9),\n   *      26 alphabetic characters (A - Z),\n   *   and 9 symbols (SP, $, %, *, +, -, ., /, :).\n   * Normally, two input characters are represented by 11 bits.\n   *\n   * @type {Object}\n   */\n\n  exports.ALPHANUMERIC = {\n    id: 'Alphanumeric',\n    bit: 1 << 1,\n    ccBits: [9, 11, 13]\n  };\n  /**\n   * In byte mode, data is encoded at 8 bits per character.\n   *\n   * @type {Object}\n   */\n\n  exports.BYTE = {\n    id: 'Byte',\n    bit: 1 << 2,\n    ccBits: [8, 16, 16]\n  };\n  /**\n   * The Kanji mode efficiently encodes Kanji characters in accordance with\n   * the Shift JIS system based on JIS X 0208.\n   * The Shift JIS values are shifted from the JIS X 0208 values.\n   * JIS X 0208 gives details of the shift coded representation.\n   * Each two-byte character value is compacted to a 13-bit binary codeword.\n   *\n   * @type {Object}\n   */\n\n  exports.KANJI = {\n    id: 'Kanji',\n    bit: 1 << 3,\n    ccBits: [8, 10, 12]\n  };\n  /**\n   * Mixed mode will contain a sequences of data in a combination of any of\n   * the modes described above\n   *\n   * @type {Object}\n   */\n\n  exports.MIXED = {\n    bit: -1\n  };\n  /**\n   * Returns the number of bits needed to store the data length\n   * according to QR Code specifications.\n   *\n   * @param  {Mode}   mode    Data mode\n   * @param  {Number} version QR Code version\n   * @return {Number}         Number of bits\n   */\n\n  exports.getCharCountIndicator = function getCharCountIndicator(mode, version) {\n    if (!mode.ccBits) throw new Error('Invalid mode: ' + mode);\n\n    if (!versionCheck.isValid(version)) {\n      throw new Error('Invalid version: ' + version);\n    }\n\n    if (version >= 1 && version < 10) return mode.ccBits[0];else if (version < 27) return mode.ccBits[1];\n    return mode.ccBits[2];\n  };\n  /**\n   * Returns the most efficient mode to store the specified data\n   *\n   * @param  {String} dataStr Input data string\n   * @return {Mode}           Best mode\n   */\n\n\n  exports.getBestModeForData = function getBestModeForData(dataStr) {\n    if (regex.testNumeric(dataStr)) return exports.NUMERIC;else if (regex.testAlphanumeric(dataStr)) return exports.ALPHANUMERIC;else if (regex.testKanji(dataStr)) return exports.KANJI;else return exports.BYTE;\n  };\n  /**\n   * Return mode name as string\n   *\n   * @param {Mode} mode Mode object\n   * @returns {String}  Mode name\n   */\n\n\n  exports.toString = function toString(mode) {\n    if (mode && mode.id) return mode.id;\n    throw new Error('Invalid mode');\n  };\n  /**\n   * Check if input param is a valid mode object\n   *\n   * @param   {Mode}    mode Mode object\n   * @returns {Boolean} True if valid mode, false otherwise\n   */\n\n\n  exports.isValid = function isValid(mode) {\n    return mode && mode.bit && mode.ccBits;\n  };\n  /**\n   * Get mode object from its name\n   *\n   * @param   {String} string Mode name\n   * @returns {Mode}          Mode object\n   */\n\n\n  function fromString(string) {\n    if (typeof string !== 'string') {\n      throw new Error('Param is not a string');\n    }\n\n    var lcStr = string.toLowerCase();\n\n    switch (lcStr) {\n      case 'numeric':\n        return exports.NUMERIC;\n\n      case 'alphanumeric':\n        return exports.ALPHANUMERIC;\n\n      case 'kanji':\n        return exports.KANJI;\n\n      case 'byte':\n        return exports.BYTE;\n\n      default:\n        throw new Error('Unknown mode: ' + string);\n    }\n  }\n  /**\n   * Returns mode from a value.\n   * If value is not a valid mode, returns defaultValue\n   *\n   * @param  {Mode|String} value        Encoding mode\n   * @param  {Mode}        defaultValue Fallback value\n   * @return {Mode}                     Encoding mode\n   */\n\n\n  exports.from = function from(value, defaultValue) {\n    if (exports.isValid(value)) {\n      return value;\n    }\n\n    try {\n      return fromString(value);\n    } catch (e) {\n      return defaultValue;\n    }\n  };\n});\nvar version = createCommonjsModule(function (module, exports) {\n  // Generator polynomial used to encode version information\n  var G18 = 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0;\n  var G18_BCH = utils.getBCHDigit(G18);\n\n  function getBestVersionForDataLength(mode, length, errorCorrectionLevel) {\n    for (var currentVersion = 1; currentVersion <= 40; currentVersion++) {\n      if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode)) {\n        return currentVersion;\n      }\n    }\n\n    return undefined;\n  }\n\n  function getReservedBitsCount(mode$1, version) {\n    // Character count indicator + mode indicator bits\n    return mode.getCharCountIndicator(mode$1, version) + 4;\n  }\n\n  function getTotalBitsFromDataArray(segments, version) {\n    var totalBits = 0;\n    segments.forEach(function (data) {\n      var reservedBits = getReservedBitsCount(data.mode, version);\n      totalBits += reservedBits + data.getBitsLength();\n    });\n    return totalBits;\n  }\n\n  function getBestVersionForMixedData(segments, errorCorrectionLevel) {\n    for (var currentVersion = 1; currentVersion <= 40; currentVersion++) {\n      var length = getTotalBitsFromDataArray(segments, currentVersion);\n\n      if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode.MIXED)) {\n        return currentVersion;\n      }\n    }\n\n    return undefined;\n  }\n  /**\n   * Returns version number from a value.\n   * If value is not a valid version, returns defaultValue\n   *\n   * @param  {Number|String} value        QR Code version\n   * @param  {Number}        defaultValue Fallback value\n   * @return {Number}                     QR Code version number\n   */\n\n\n  exports.from = function from(value, defaultValue) {\n    if (versionCheck.isValid(value)) {\n      return parseInt(value, 10);\n    }\n\n    return defaultValue;\n  };\n  /**\n   * Returns how much data can be stored with the specified QR code version\n   * and error correction level\n   *\n   * @param  {Number} version              QR Code version (1-40)\n   * @param  {Number} errorCorrectionLevel Error correction level\n   * @param  {Mode}   mode                 Data mode\n   * @return {Number}                      Quantity of storable data\n   */\n\n\n  exports.getCapacity = function getCapacity(version, errorCorrectionLevel, mode$1) {\n    if (!versionCheck.isValid(version)) {\n      throw new Error('Invalid QR Code version');\n    } // Use Byte mode as default\n\n\n    if (typeof mode$1 === 'undefined') mode$1 = mode.BYTE; // Total codewords for this QR code version (Data + Error correction)\n\n    var totalCodewords = utils.getSymbolTotalCodewords(version); // Total number of error correction codewords\n\n    var ecTotalCodewords = errorCorrectionCode.getTotalCodewordsCount(version, errorCorrectionLevel); // Total number of data codewords\n\n    var dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8;\n    if (mode$1 === mode.MIXED) return dataTotalCodewordsBits;\n    var usableBits = dataTotalCodewordsBits - getReservedBitsCount(mode$1, version); // Return max number of storable codewords\n\n    switch (mode$1) {\n      case mode.NUMERIC:\n        return Math.floor(usableBits / 10 * 3);\n\n      case mode.ALPHANUMERIC:\n        return Math.floor(usableBits / 11 * 2);\n\n      case mode.KANJI:\n        return Math.floor(usableBits / 13);\n\n      case mode.BYTE:\n      default:\n        return Math.floor(usableBits / 8);\n    }\n  };\n  /**\n   * Returns the minimum version needed to contain the amount of data\n   *\n   * @param  {Segment} data                    Segment of data\n   * @param  {Number} [errorCorrectionLevel=H] Error correction level\n   * @param  {Mode} mode                       Data mode\n   * @return {Number}                          QR Code version\n   */\n\n\n  exports.getBestVersionForData = function getBestVersionForData(data, errorCorrectionLevel$1) {\n    var seg;\n    var ecl = errorCorrectionLevel.from(errorCorrectionLevel$1, errorCorrectionLevel.M);\n\n    if (isarray(data)) {\n      if (data.length > 1) {\n        return getBestVersionForMixedData(data, ecl);\n      }\n\n      if (data.length === 0) {\n        return 1;\n      }\n\n      seg = data[0];\n    } else {\n      seg = data;\n    }\n\n    return getBestVersionForDataLength(seg.mode, seg.getLength(), ecl);\n  };\n  /**\n   * Returns version information with relative error correction bits\n   *\n   * The version information is included in QR Code symbols of version 7 or larger.\n   * It consists of an 18-bit sequence containing 6 data bits,\n   * with 12 error correction bits calculated using the (18, 6) Golay code.\n   *\n   * @param  {Number} version QR Code version\n   * @return {Number}         Encoded version info bits\n   */\n\n\n  exports.getEncodedBits = function getEncodedBits(version) {\n    if (!versionCheck.isValid(version) || version < 7) {\n      throw new Error('Invalid QR Code version');\n    }\n\n    var d = version << 12;\n\n    while (utils.getBCHDigit(d) - G18_BCH >= 0) {\n      d ^= G18 << utils.getBCHDigit(d) - G18_BCH;\n    }\n\n    return version << 12 | d;\n  };\n});\nvar G15 = 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0;\nvar G15_MASK = 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1;\nvar G15_BCH = utils.getBCHDigit(G15);\n/**\n * Returns format information with relative error correction bits\n *\n * The format information is a 15-bit sequence containing 5 data bits,\n * with 10 error correction bits calculated using the (15, 5) BCH code.\n *\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Number} mask                 Mask pattern\n * @return {Number}                      Encoded format information bits\n */\n\nvar getEncodedBits = function getEncodedBits(errorCorrectionLevel, mask) {\n  var data = errorCorrectionLevel.bit << 3 | mask;\n  var d = data << 10;\n\n  while (utils.getBCHDigit(d) - G15_BCH >= 0) {\n    d ^= G15 << utils.getBCHDigit(d) - G15_BCH;\n  } // xor final data with mask pattern in order to ensure that\n  // no combination of Error Correction Level and data mask pattern\n  // will result in an all-zero data string\n\n\n  return (data << 10 | d) ^ G15_MASK;\n};\n\nvar formatInfo = {\n  getEncodedBits: getEncodedBits\n};\n\nfunction NumericData(data) {\n  this.mode = mode.NUMERIC;\n  this.data = data.toString();\n}\n\nNumericData.getBitsLength = function getBitsLength(length) {\n  return 10 * Math.floor(length / 3) + (length % 3 ? length % 3 * 3 + 1 : 0);\n};\n\nNumericData.prototype.getLength = function getLength() {\n  return this.data.length;\n};\n\nNumericData.prototype.getBitsLength = function getBitsLength() {\n  return NumericData.getBitsLength(this.data.length);\n};\n\nNumericData.prototype.write = function write(bitBuffer) {\n  var i, group, value; // The input data string is divided into groups of three digits,\n  // and each group is converted to its 10-bit binary equivalent.\n\n  for (i = 0; i + 3 <= this.data.length; i += 3) {\n    group = this.data.substr(i, 3);\n    value = parseInt(group, 10);\n    bitBuffer.put(value, 10);\n  } // If the number of input digits is not an exact multiple of three,\n  // the final one or two digits are converted to 4 or 7 bits respectively.\n\n\n  var remainingNum = this.data.length - i;\n\n  if (remainingNum > 0) {\n    group = this.data.substr(i);\n    value = parseInt(group, 10);\n    bitBuffer.put(value, remainingNum * 3 + 1);\n  }\n};\n\nvar numericData = NumericData;\n/**\n * Array of characters available in alphanumeric mode\n *\n * As per QR Code specification, to each character\n * is assigned a value from 0 to 44 which in this case coincides\n * with the array index\n *\n * @type {Array}\n */\n\nvar ALPHA_NUM_CHARS = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', ' ', '$', '%', '*', '+', '-', '.', '/', ':'];\n\nfunction AlphanumericData(data) {\n  this.mode = mode.ALPHANUMERIC;\n  this.data = data;\n}\n\nAlphanumericData.getBitsLength = function getBitsLength(length) {\n  return 11 * Math.floor(length / 2) + 6 * (length % 2);\n};\n\nAlphanumericData.prototype.getLength = function getLength() {\n  return this.data.length;\n};\n\nAlphanumericData.prototype.getBitsLength = function getBitsLength() {\n  return AlphanumericData.getBitsLength(this.data.length);\n};\n\nAlphanumericData.prototype.write = function write(bitBuffer) {\n  var i; // Input data characters are divided into groups of two characters\n  // and encoded as 11-bit binary codes.\n\n  for (i = 0; i + 2 <= this.data.length; i += 2) {\n    // The character value of the first character is multiplied by 45\n    var value = ALPHA_NUM_CHARS.indexOf(this.data[i]) * 45; // The character value of the second digit is added to the product\n\n    value += ALPHA_NUM_CHARS.indexOf(this.data[i + 1]); // The sum is then stored as 11-bit binary number\n\n    bitBuffer.put(value, 11);\n  } // If the number of input data characters is not a multiple of two,\n  // the character value of the final character is encoded as a 6-bit binary number.\n\n\n  if (this.data.length % 2) {\n    bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i]), 6);\n  }\n};\n\nvar alphanumericData = AlphanumericData;\n\nfunction ByteData(data) {\n  this.mode = mode.BYTE;\n  this.data = typedarrayBuffer.from(data);\n}\n\nByteData.getBitsLength = function getBitsLength(length) {\n  return length * 8;\n};\n\nByteData.prototype.getLength = function getLength() {\n  return this.data.length;\n};\n\nByteData.prototype.getBitsLength = function getBitsLength() {\n  return ByteData.getBitsLength(this.data.length);\n};\n\nByteData.prototype.write = function (bitBuffer) {\n  for (var i = 0, l = this.data.length; i < l; i++) {\n    bitBuffer.put(this.data[i], 8);\n  }\n};\n\nvar byteData = ByteData;\n\nfunction KanjiData(data) {\n  this.mode = mode.KANJI;\n  this.data = data;\n}\n\nKanjiData.getBitsLength = function getBitsLength(length) {\n  return length * 13;\n};\n\nKanjiData.prototype.getLength = function getLength() {\n  return this.data.length;\n};\n\nKanjiData.prototype.getBitsLength = function getBitsLength() {\n  return KanjiData.getBitsLength(this.data.length);\n};\n\nKanjiData.prototype.write = function (bitBuffer) {\n  var i; // In the Shift JIS system, Kanji characters are represented by a two byte combination.\n  // These byte values are shifted from the JIS X 0208 values.\n  // JIS X 0208 gives details of the shift coded representation.\n\n  for (i = 0; i < this.data.length; i++) {\n    var value = utils.toSJIS(this.data[i]); // For characters with Shift JIS values from 0x8140 to 0x9FFC:\n\n    if (value >= 0x8140 && value <= 0x9FFC) {\n      // Subtract 0x8140 from Shift JIS value\n      value -= 0x8140; // For characters with Shift JIS values from 0xE040 to 0xEBBF\n    } else if (value >= 0xE040 && value <= 0xEBBF) {\n      // Subtract 0xC140 from Shift JIS value\n      value -= 0xC140;\n    } else {\n      throw new Error('Invalid SJIS character: ' + this.data[i] + '\\n' + 'Make sure your charset is UTF-8');\n    } // Multiply most significant byte of result by 0xC0\n    // and add least significant byte to product\n\n\n    value = (value >>> 8 & 0xff) * 0xC0 + (value & 0xff); // Convert result to a 13-bit binary string\n\n    bitBuffer.put(value, 13);\n  }\n};\n\nvar kanjiData = KanjiData;\nvar dijkstra_1 = createCommonjsModule(function (module) {\n  /******************************************************************************\n   * Created 2008-08-19.\n   *\n   * Dijkstra path-finding functions. Adapted from the Dijkstar Python project.\n   *\n   * Copyright (C) 2008\n   *   Wyatt Baldwin <self@wyattbaldwin.com>\n   *   All rights reserved\n   *\n   * Licensed under the MIT license.\n   *\n   *   http://www.opensource.org/licenses/mit-license.php\n   *\n   * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n   * THE SOFTWARE.\n   *****************************************************************************/\n  var dijkstra = {\n    single_source_shortest_paths: function single_source_shortest_paths(graph, s, d) {\n      // Predecessor map for each node that has been encountered.\n      // node ID => predecessor node ID\n      var predecessors = {}; // Costs of shortest paths from s to all nodes encountered.\n      // node ID => cost\n\n      var costs = {};\n      costs[s] = 0; // Costs of shortest paths from s to all nodes encountered; differs from\n      // `costs` in that it provides easy access to the node that currently has\n      // the known shortest path from s.\n      // XXX: Do we actually need both `costs` and `open`?\n\n      var open = dijkstra.PriorityQueue.make();\n      open.push(s, 0);\n      var closest, u, v, cost_of_s_to_u, adjacent_nodes, cost_of_e, cost_of_s_to_u_plus_cost_of_e, cost_of_s_to_v, first_visit;\n\n      while (!open.empty()) {\n        // In the nodes remaining in graph that have a known cost from s,\n        // find the node, u, that currently has the shortest path from s.\n        closest = open.pop();\n        u = closest.value;\n        cost_of_s_to_u = closest.cost; // Get nodes adjacent to u...\n\n        adjacent_nodes = graph[u] || {}; // ...and explore the edges that connect u to those nodes, updating\n        // the cost of the shortest paths to any or all of those nodes as\n        // necessary. v is the node across the current edge from u.\n\n        for (v in adjacent_nodes) {\n          if (adjacent_nodes.hasOwnProperty(v)) {\n            // Get the cost of the edge running from u to v.\n            cost_of_e = adjacent_nodes[v]; // Cost of s to u plus the cost of u to v across e--this is *a*\n            // cost from s to v that may or may not be less than the current\n            // known cost to v.\n\n            cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e; // If we haven't visited v yet OR if the current known cost from s to\n            // v is greater than the new cost we just found (cost of s to u plus\n            // cost of u to v across e), update v's cost in the cost list and\n            // update v's predecessor in the predecessor list (it's now u).\n\n            cost_of_s_to_v = costs[v];\n            first_visit = typeof costs[v] === 'undefined';\n\n            if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {\n              costs[v] = cost_of_s_to_u_plus_cost_of_e;\n              open.push(v, cost_of_s_to_u_plus_cost_of_e);\n              predecessors[v] = u;\n            }\n          }\n        }\n      }\n\n      if (typeof d !== 'undefined' && typeof costs[d] === 'undefined') {\n        var msg = ['Could not find a path from ', s, ' to ', d, '.'].join('');\n        throw new Error(msg);\n      }\n\n      return predecessors;\n    },\n    extract_shortest_path_from_predecessor_list: function extract_shortest_path_from_predecessor_list(predecessors, d) {\n      var nodes = [];\n      var u = d;\n\n      while (u) {\n        nodes.push(u);\n        u = predecessors[u];\n      }\n\n      nodes.reverse();\n      return nodes;\n    },\n    find_path: function find_path(graph, s, d) {\n      var predecessors = dijkstra.single_source_shortest_paths(graph, s, d);\n      return dijkstra.extract_shortest_path_from_predecessor_list(predecessors, d);\n    },\n\n    /**\n     * A very naive priority queue implementation.\n     */\n    PriorityQueue: {\n      make: function make(opts) {\n        var T = dijkstra.PriorityQueue,\n            t = {},\n            key;\n        opts = opts || {};\n\n        for (key in T) {\n          if (T.hasOwnProperty(key)) {\n            t[key] = T[key];\n          }\n        }\n\n        t.queue = [];\n        t.sorter = opts.sorter || T.default_sorter;\n        return t;\n      },\n      default_sorter: function default_sorter(a, b) {\n        return a.cost - b.cost;\n      },\n\n      /**\n       * Add a new item to the queue and ensure the highest priority element\n       * is at the front of the queue.\n       */\n      push: function push(value, cost) {\n        var item = {\n          value: value,\n          cost: cost\n        };\n        this.queue.push(item);\n        this.queue.sort(this.sorter);\n      },\n\n      /**\n       * Return the highest priority element in the queue.\n       */\n      pop: function pop() {\n        return this.queue.shift();\n      },\n      empty: function empty() {\n        return this.queue.length === 0;\n      }\n    }\n  }; // node.js module exports\n\n  {\n    module.exports = dijkstra;\n  }\n});\nvar segments = createCommonjsModule(function (module, exports) {\n  /**\n   * Returns UTF8 byte length\n   *\n   * @param  {String} str Input string\n   * @return {Number}     Number of byte\n   */\n  function getStringByteLength(str) {\n    return unescape(encodeURIComponent(str)).length;\n  }\n  /**\n   * Get a list of segments of the specified mode\n   * from a string\n   *\n   * @param  {Mode}   mode Segment mode\n   * @param  {String} str  String to process\n   * @return {Array}       Array of object with segments data\n   */\n\n\n  function getSegments(regex, mode, str) {\n    var segments = [];\n    var result;\n\n    while ((result = regex.exec(str)) !== null) {\n      segments.push({\n        data: result[0],\n        index: result.index,\n        mode: mode,\n        length: result[0].length\n      });\n    }\n\n    return segments;\n  }\n  /**\n   * Extracts a series of segments with the appropriate\n   * modes from a string\n   *\n   * @param  {String} dataStr Input string\n   * @return {Array}          Array of object with segments data\n   */\n\n\n  function getSegmentsFromString(dataStr) {\n    var numSegs = getSegments(regex.NUMERIC, mode.NUMERIC, dataStr);\n    var alphaNumSegs = getSegments(regex.ALPHANUMERIC, mode.ALPHANUMERIC, dataStr);\n    var byteSegs;\n    var kanjiSegs;\n\n    if (utils.isKanjiModeEnabled()) {\n      byteSegs = getSegments(regex.BYTE, mode.BYTE, dataStr);\n      kanjiSegs = getSegments(regex.KANJI, mode.KANJI, dataStr);\n    } else {\n      byteSegs = getSegments(regex.BYTE_KANJI, mode.BYTE, dataStr);\n      kanjiSegs = [];\n    }\n\n    var segs = numSegs.concat(alphaNumSegs, byteSegs, kanjiSegs);\n    return segs.sort(function (s1, s2) {\n      return s1.index - s2.index;\n    }).map(function (obj) {\n      return {\n        data: obj.data,\n        mode: obj.mode,\n        length: obj.length\n      };\n    });\n  }\n  /**\n   * Returns how many bits are needed to encode a string of\n   * specified length with the specified mode\n   *\n   * @param  {Number} length String length\n   * @param  {Mode} mode     Segment mode\n   * @return {Number}        Bit length\n   */\n\n\n  function getSegmentBitsLength(length, mode$1) {\n    switch (mode$1) {\n      case mode.NUMERIC:\n        return numericData.getBitsLength(length);\n\n      case mode.ALPHANUMERIC:\n        return alphanumericData.getBitsLength(length);\n\n      case mode.KANJI:\n        return kanjiData.getBitsLength(length);\n\n      case mode.BYTE:\n        return byteData.getBitsLength(length);\n    }\n  }\n  /**\n   * Merges adjacent segments which have the same mode\n   *\n   * @param  {Array} segs Array of object with segments data\n   * @return {Array}      Array of object with segments data\n   */\n\n\n  function mergeSegments(segs) {\n    return segs.reduce(function (acc, curr) {\n      var prevSeg = acc.length - 1 >= 0 ? acc[acc.length - 1] : null;\n\n      if (prevSeg && prevSeg.mode === curr.mode) {\n        acc[acc.length - 1].data += curr.data;\n        return acc;\n      }\n\n      acc.push(curr);\n      return acc;\n    }, []);\n  }\n  /**\n   * Generates a list of all possible nodes combination which\n   * will be used to build a segments graph.\n   *\n   * Nodes are divided by groups. Each group will contain a list of all the modes\n   * in which is possible to encode the given text.\n   *\n   * For example the text '12345' can be encoded as Numeric, Alphanumeric or Byte.\n   * The group for '12345' will contain then 3 objects, one for each\n   * possible encoding mode.\n   *\n   * Each node represents a possible segment.\n   *\n   * @param  {Array} segs Array of object with segments data\n   * @return {Array}      Array of object with segments data\n   */\n\n\n  function buildNodes(segs) {\n    var nodes = [];\n\n    for (var i = 0; i < segs.length; i++) {\n      var seg = segs[i];\n\n      switch (seg.mode) {\n        case mode.NUMERIC:\n          nodes.push([seg, {\n            data: seg.data,\n            mode: mode.ALPHANUMERIC,\n            length: seg.length\n          }, {\n            data: seg.data,\n            mode: mode.BYTE,\n            length: seg.length\n          }]);\n          break;\n\n        case mode.ALPHANUMERIC:\n          nodes.push([seg, {\n            data: seg.data,\n            mode: mode.BYTE,\n            length: seg.length\n          }]);\n          break;\n\n        case mode.KANJI:\n          nodes.push([seg, {\n            data: seg.data,\n            mode: mode.BYTE,\n            length: getStringByteLength(seg.data)\n          }]);\n          break;\n\n        case mode.BYTE:\n          nodes.push([{\n            data: seg.data,\n            mode: mode.BYTE,\n            length: getStringByteLength(seg.data)\n          }]);\n      }\n    }\n\n    return nodes;\n  }\n  /**\n   * Builds a graph from a list of nodes.\n   * All segments in each node group will be connected with all the segments of\n   * the next group and so on.\n   *\n   * At each connection will be assigned a weight depending on the\n   * segment's byte length.\n   *\n   * @param  {Array} nodes    Array of object with segments data\n   * @param  {Number} version QR Code version\n   * @return {Object}         Graph of all possible segments\n   */\n\n\n  function buildGraph(nodes, version) {\n    var table = {};\n    var graph = {\n      'start': {}\n    };\n    var prevNodeIds = ['start'];\n\n    for (var i = 0; i < nodes.length; i++) {\n      var nodeGroup = nodes[i];\n      var currentNodeIds = [];\n\n      for (var j = 0; j < nodeGroup.length; j++) {\n        var node = nodeGroup[j];\n        var key = '' + i + j;\n        currentNodeIds.push(key);\n        table[key] = {\n          node: node,\n          lastCount: 0\n        };\n        graph[key] = {};\n\n        for (var n = 0; n < prevNodeIds.length; n++) {\n          var prevNodeId = prevNodeIds[n];\n\n          if (table[prevNodeId] && table[prevNodeId].node.mode === node.mode) {\n            graph[prevNodeId][key] = getSegmentBitsLength(table[prevNodeId].lastCount + node.length, node.mode) - getSegmentBitsLength(table[prevNodeId].lastCount, node.mode);\n            table[prevNodeId].lastCount += node.length;\n          } else {\n            if (table[prevNodeId]) table[prevNodeId].lastCount = node.length;\n            graph[prevNodeId][key] = getSegmentBitsLength(node.length, node.mode) + 4 + mode.getCharCountIndicator(node.mode, version); // switch cost\n          }\n        }\n      }\n\n      prevNodeIds = currentNodeIds;\n    }\n\n    for (n = 0; n < prevNodeIds.length; n++) {\n      graph[prevNodeIds[n]]['end'] = 0;\n    }\n\n    return {\n      map: graph,\n      table: table\n    };\n  }\n  /**\n   * Builds a segment from a specified data and mode.\n   * If a mode is not specified, the more suitable will be used.\n   *\n   * @param  {String} data             Input data\n   * @param  {Mode | String} modesHint Data mode\n   * @return {Segment}                 Segment\n   */\n\n\n  function buildSingleSegment(data, modesHint) {\n    var mode$1;\n    var bestMode = mode.getBestModeForData(data);\n    mode$1 = mode.from(modesHint, bestMode); // Make sure data can be encoded\n\n    if (mode$1 !== mode.BYTE && mode$1.bit < bestMode.bit) {\n      throw new Error('\"' + data + '\"' + ' cannot be encoded with mode ' + mode.toString(mode$1) + '.\\n Suggested mode is: ' + mode.toString(bestMode));\n    } // Use Mode.BYTE if Kanji support is disabled\n\n\n    if (mode$1 === mode.KANJI && !utils.isKanjiModeEnabled()) {\n      mode$1 = mode.BYTE;\n    }\n\n    switch (mode$1) {\n      case mode.NUMERIC:\n        return new numericData(data);\n\n      case mode.ALPHANUMERIC:\n        return new alphanumericData(data);\n\n      case mode.KANJI:\n        return new kanjiData(data);\n\n      case mode.BYTE:\n        return new byteData(data);\n    }\n  }\n  /**\n   * Builds a list of segments from an array.\n   * Array can contain Strings or Objects with segment's info.\n   *\n   * For each item which is a string, will be generated a segment with the given\n   * string and the more appropriate encoding mode.\n   *\n   * For each item which is an object, will be generated a segment with the given\n   * data and mode.\n   * Objects must contain at least the property \"data\".\n   * If property \"mode\" is not present, the more suitable mode will be used.\n   *\n   * @param  {Array} array Array of objects with segments data\n   * @return {Array}       Array of Segments\n   */\n\n\n  exports.fromArray = function fromArray(array) {\n    return array.reduce(function (acc, seg) {\n      if (typeof seg === 'string') {\n        acc.push(buildSingleSegment(seg, null));\n      } else if (seg.data) {\n        acc.push(buildSingleSegment(seg.data, seg.mode));\n      }\n\n      return acc;\n    }, []);\n  };\n  /**\n   * Builds an optimized sequence of segments from a string,\n   * which will produce the shortest possible bitstream.\n   *\n   * @param  {String} data    Input string\n   * @param  {Number} version QR Code version\n   * @return {Array}          Array of segments\n   */\n\n\n  exports.fromString = function fromString(data, version) {\n    var segs = getSegmentsFromString(data, utils.isKanjiModeEnabled());\n    var nodes = buildNodes(segs);\n    var graph = buildGraph(nodes, version);\n    var path = dijkstra_1.find_path(graph.map, 'start', 'end');\n    var optimizedSegs = [];\n\n    for (var i = 1; i < path.length - 1; i++) {\n      optimizedSegs.push(graph.table[path[i]].node);\n    }\n\n    return exports.fromArray(mergeSegments(optimizedSegs));\n  };\n  /**\n   * Splits a string in various segments with the modes which\n   * best represent their content.\n   * The produced segments are far from being optimized.\n   * The output of this function is only used to estimate a QR Code version\n   * which may contain the data.\n   *\n   * @param  {string} data Input string\n   * @return {Array}       Array of segments\n   */\n\n\n  exports.rawSplit = function rawSplit(data) {\n    return exports.fromArray(getSegmentsFromString(data, utils.isKanjiModeEnabled()));\n  };\n});\n/**\n * QRCode for JavaScript\n *\n * modified by Ryan Day for nodejs support\n * Copyright (c) 2011 Ryan Day\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n*/\n\n/**\n * Add finder patterns bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\n\nfunction setupFinderPattern(matrix, version) {\n  var size = matrix.size;\n  var pos = finderPattern.getPositions(version);\n\n  for (var i = 0; i < pos.length; i++) {\n    var row = pos[i][0];\n    var col = pos[i][1];\n\n    for (var r = -1; r <= 7; r++) {\n      if (row + r <= -1 || size <= row + r) continue;\n\n      for (var c = -1; c <= 7; c++) {\n        if (col + c <= -1 || size <= col + c) continue;\n\n        if (r >= 0 && r <= 6 && (c === 0 || c === 6) || c >= 0 && c <= 6 && (r === 0 || r === 6) || r >= 2 && r <= 4 && c >= 2 && c <= 4) {\n          matrix.set(row + r, col + c, true, true);\n        } else {\n          matrix.set(row + r, col + c, false, true);\n        }\n      }\n    }\n  }\n}\n/**\n * Add timing pattern bits to matrix\n *\n * Note: this function must be called before {@link setupAlignmentPattern}\n *\n * @param  {BitMatrix} matrix Modules matrix\n */\n\n\nfunction setupTimingPattern(matrix) {\n  var size = matrix.size;\n\n  for (var r = 8; r < size - 8; r++) {\n    var value = r % 2 === 0;\n    matrix.set(r, 6, value, true);\n    matrix.set(6, r, value, true);\n  }\n}\n/**\n * Add alignment patterns bits to matrix\n *\n * Note: this function must be called after {@link setupTimingPattern}\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\n\n\nfunction setupAlignmentPattern(matrix, version) {\n  var pos = alignmentPattern.getPositions(version);\n\n  for (var i = 0; i < pos.length; i++) {\n    var row = pos[i][0];\n    var col = pos[i][1];\n\n    for (var r = -2; r <= 2; r++) {\n      for (var c = -2; c <= 2; c++) {\n        if (r === -2 || r === 2 || c === -2 || c === 2 || r === 0 && c === 0) {\n          matrix.set(row + r, col + c, true, true);\n        } else {\n          matrix.set(row + r, col + c, false, true);\n        }\n      }\n    }\n  }\n}\n/**\n * Add version info bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\n\n\nfunction setupVersionInfo(matrix, version$1) {\n  var size = matrix.size;\n  var bits = version.getEncodedBits(version$1);\n  var row, col, mod;\n\n  for (var i = 0; i < 18; i++) {\n    row = Math.floor(i / 3);\n    col = i % 3 + size - 8 - 3;\n    mod = (bits >> i & 1) === 1;\n    matrix.set(row, col, mod, true);\n    matrix.set(col, row, mod, true);\n  }\n}\n/**\n * Add format info bits to matrix\n *\n * @param  {BitMatrix} matrix               Modules matrix\n * @param  {ErrorCorrectionLevel}    errorCorrectionLevel Error correction level\n * @param  {Number}    maskPattern          Mask pattern reference value\n */\n\n\nfunction setupFormatInfo(matrix, errorCorrectionLevel, maskPattern) {\n  var size = matrix.size;\n  var bits = formatInfo.getEncodedBits(errorCorrectionLevel, maskPattern);\n  var i, mod;\n\n  for (i = 0; i < 15; i++) {\n    mod = (bits >> i & 1) === 1; // vertical\n\n    if (i < 6) {\n      matrix.set(i, 8, mod, true);\n    } else if (i < 8) {\n      matrix.set(i + 1, 8, mod, true);\n    } else {\n      matrix.set(size - 15 + i, 8, mod, true);\n    } // horizontal\n\n\n    if (i < 8) {\n      matrix.set(8, size - i - 1, mod, true);\n    } else if (i < 9) {\n      matrix.set(8, 15 - i - 1 + 1, mod, true);\n    } else {\n      matrix.set(8, 15 - i - 1, mod, true);\n    }\n  } // fixed module\n\n\n  matrix.set(size - 8, 8, 1, true);\n}\n/**\n * Add encoded data bits to matrix\n *\n * @param  {BitMatrix} matrix Modules matrix\n * @param  {Buffer}    data   Data codewords\n */\n\n\nfunction setupData(matrix, data) {\n  var size = matrix.size;\n  var inc = -1;\n  var row = size - 1;\n  var bitIndex = 7;\n  var byteIndex = 0;\n\n  for (var col = size - 1; col > 0; col -= 2) {\n    if (col === 6) col--;\n\n    while (true) {\n      for (var c = 0; c < 2; c++) {\n        if (!matrix.isReserved(row, col - c)) {\n          var dark = false;\n\n          if (byteIndex < data.length) {\n            dark = (data[byteIndex] >>> bitIndex & 1) === 1;\n          }\n\n          matrix.set(row, col - c, dark);\n          bitIndex--;\n\n          if (bitIndex === -1) {\n            byteIndex++;\n            bitIndex = 7;\n          }\n        }\n      }\n\n      row += inc;\n\n      if (row < 0 || size <= row) {\n        row -= inc;\n        inc = -inc;\n        break;\n      }\n    }\n  }\n}\n/**\n * Create encoded codewords from data input\n *\n * @param  {Number}   version              QR Code version\n * @param  {ErrorCorrectionLevel}   errorCorrectionLevel Error correction level\n * @param  {ByteData} data                 Data input\n * @return {Buffer}                        Buffer containing encoded codewords\n */\n\n\nfunction createData(version, errorCorrectionLevel, segments) {\n  // Prepare data buffer\n  var buffer = new bitBuffer();\n  segments.forEach(function (data) {\n    // prefix data with mode indicator (4 bits)\n    buffer.put(data.mode.bit, 4); // Prefix data with character count indicator.\n    // The character count indicator is a string of bits that represents the\n    // number of characters that are being encoded.\n    // The character count indicator must be placed after the mode indicator\n    // and must be a certain number of bits long, depending on the QR version\n    // and data mode\n    // @see {@link Mode.getCharCountIndicator}.\n\n    buffer.put(data.getLength(), mode.getCharCountIndicator(data.mode, version)); // add binary data sequence to buffer\n\n    data.write(buffer);\n  }); // Calculate required number of bits\n\n  var totalCodewords = utils.getSymbolTotalCodewords(version);\n  var ecTotalCodewords = errorCorrectionCode.getTotalCodewordsCount(version, errorCorrectionLevel);\n  var dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8; // Add a terminator.\n  // If the bit string is shorter than the total number of required bits,\n  // a terminator of up to four 0s must be added to the right side of the string.\n  // If the bit string is more than four bits shorter than the required number of bits,\n  // add four 0s to the end.\n\n  if (buffer.getLengthInBits() + 4 <= dataTotalCodewordsBits) {\n    buffer.put(0, 4);\n  } // If the bit string is fewer than four bits shorter, add only the number of 0s that\n  // are needed to reach the required number of bits.\n  // After adding the terminator, if the number of bits in the string is not a multiple of 8,\n  // pad the string on the right with 0s to make the string's length a multiple of 8.\n\n\n  while (buffer.getLengthInBits() % 8 !== 0) {\n    buffer.putBit(0);\n  } // Add pad bytes if the string is still shorter than the total number of required bits.\n  // Extend the buffer to fill the data capacity of the symbol corresponding to\n  // the Version and Error Correction Level by adding the Pad Codewords 11101100 (0xEC)\n  // and 00010001 (0x11) alternately.\n\n\n  var remainingByte = (dataTotalCodewordsBits - buffer.getLengthInBits()) / 8;\n\n  for (var i = 0; i < remainingByte; i++) {\n    buffer.put(i % 2 ? 0x11 : 0xEC, 8);\n  }\n\n  return createCodewords(buffer, version, errorCorrectionLevel);\n}\n/**\n * Encode input data with Reed-Solomon and return codewords with\n * relative error correction bits\n *\n * @param  {BitBuffer} bitBuffer            Data to encode\n * @param  {Number}    version              QR Code version\n * @param  {ErrorCorrectionLevel} errorCorrectionLevel Error correction level\n * @return {Buffer}                         Buffer containing encoded codewords\n */\n\n\nfunction createCodewords(bitBuffer, version, errorCorrectionLevel) {\n  // Total codewords for this QR code version (Data + Error correction)\n  var totalCodewords = utils.getSymbolTotalCodewords(version); // Total number of error correction codewords\n\n  var ecTotalCodewords = errorCorrectionCode.getTotalCodewordsCount(version, errorCorrectionLevel); // Total number of data codewords\n\n  var dataTotalCodewords = totalCodewords - ecTotalCodewords; // Total number of blocks\n\n  var ecTotalBlocks = errorCorrectionCode.getBlocksCount(version, errorCorrectionLevel); // Calculate how many blocks each group should contain\n\n  var blocksInGroup2 = totalCodewords % ecTotalBlocks;\n  var blocksInGroup1 = ecTotalBlocks - blocksInGroup2;\n  var totalCodewordsInGroup1 = Math.floor(totalCodewords / ecTotalBlocks);\n  var dataCodewordsInGroup1 = Math.floor(dataTotalCodewords / ecTotalBlocks);\n  var dataCodewordsInGroup2 = dataCodewordsInGroup1 + 1; // Number of EC codewords is the same for both groups\n\n  var ecCount = totalCodewordsInGroup1 - dataCodewordsInGroup1; // Initialize a Reed-Solomon encoder with a generator polynomial of degree ecCount\n\n  var rs = new reedSolomonEncoder(ecCount);\n  var offset = 0;\n  var dcData = new Array(ecTotalBlocks);\n  var ecData = new Array(ecTotalBlocks);\n  var maxDataSize = 0;\n  var buffer = typedarrayBuffer.from(bitBuffer.buffer); // Divide the buffer into the required number of blocks\n\n  for (var b = 0; b < ecTotalBlocks; b++) {\n    var dataSize = b < blocksInGroup1 ? dataCodewordsInGroup1 : dataCodewordsInGroup2; // extract a block of data from buffer\n\n    dcData[b] = buffer.slice(offset, offset + dataSize); // Calculate EC codewords for this data block\n\n    ecData[b] = rs.encode(dcData[b]);\n    offset += dataSize;\n    maxDataSize = Math.max(maxDataSize, dataSize);\n  } // Create final data\n  // Interleave the data and error correction codewords from each block\n\n\n  var data = typedarrayBuffer.alloc(totalCodewords);\n  var index = 0;\n  var i, r; // Add data codewords\n\n  for (i = 0; i < maxDataSize; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      if (i < dcData[r].length) {\n        data[index++] = dcData[r][i];\n      }\n    }\n  } // Apped EC codewords\n\n\n  for (i = 0; i < ecCount; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      data[index++] = ecData[r][i];\n    }\n  }\n\n  return data;\n}\n/**\n * Build QR Code symbol\n *\n * @param  {String} data                 Input string\n * @param  {Number} version              QR Code version\n * @param  {ErrorCorretionLevel} errorCorrectionLevel Error level\n * @param  {MaskPattern} maskPattern     Mask pattern\n * @return {Object}                      Object containing symbol data\n */\n\n\nfunction createSymbol(data, version$1, errorCorrectionLevel, maskPattern$1) {\n  var segments$1;\n\n  if (isarray(data)) {\n    segments$1 = segments.fromArray(data);\n  } else if (typeof data === 'string') {\n    var estimatedVersion = version$1;\n\n    if (!estimatedVersion) {\n      var rawSegments = segments.rawSplit(data); // Estimate best version that can contain raw splitted segments\n\n      estimatedVersion = version.getBestVersionForData(rawSegments, errorCorrectionLevel);\n    } // Build optimized segments\n    // If estimated version is undefined, try with the highest version\n\n\n    segments$1 = segments.fromString(data, estimatedVersion || 40);\n  } else {\n    throw new Error('Invalid data');\n  } // Get the min version that can contain data\n\n\n  var bestVersion = version.getBestVersionForData(segments$1, errorCorrectionLevel); // If no version is found, data cannot be stored\n\n  if (!bestVersion) {\n    throw new Error('The amount of data is too big to be stored in a QR Code');\n  } // If not specified, use min version as default\n\n\n  if (!version$1) {\n    version$1 = bestVersion; // Check if the specified version can contain the data\n  } else if (version$1 < bestVersion) {\n    throw new Error('\\n' + 'The chosen QR Code version cannot contain this amount of data.\\n' + 'Minimum version required to store current data is: ' + bestVersion + '.\\n');\n  }\n\n  var dataBits = createData(version$1, errorCorrectionLevel, segments$1); // Allocate matrix buffer\n\n  var moduleCount = utils.getSymbolSize(version$1);\n  var modules = new bitMatrix(moduleCount); // Add function modules\n\n  setupFinderPattern(modules, version$1);\n  setupTimingPattern(modules);\n  setupAlignmentPattern(modules, version$1); // Add temporary dummy bits for format info just to set them as reserved.\n  // This is needed to prevent these bits from being masked by {@link MaskPattern.applyMask}\n  // since the masking operation must be performed only on the encoding region.\n  // These blocks will be replaced with correct values later in code.\n\n  setupFormatInfo(modules, errorCorrectionLevel, 0);\n\n  if (version$1 >= 7) {\n    setupVersionInfo(modules, version$1);\n  } // Add data codewords\n\n\n  setupData(modules, dataBits);\n\n  if (isNaN(maskPattern$1)) {\n    // Find best mask pattern\n    maskPattern$1 = maskPattern.getBestMask(modules, setupFormatInfo.bind(null, modules, errorCorrectionLevel));\n  } // Apply mask pattern\n\n\n  maskPattern.applyMask(maskPattern$1, modules); // Replace format info bits with correct values\n\n  setupFormatInfo(modules, errorCorrectionLevel, maskPattern$1);\n  return {\n    modules: modules,\n    version: version$1,\n    errorCorrectionLevel: errorCorrectionLevel,\n    maskPattern: maskPattern$1,\n    segments: segments$1\n  };\n}\n/**\n * QR Code\n *\n * @param {String | Array} data                 Input data\n * @param {Object} options                      Optional configurations\n * @param {Number} options.version              QR Code version\n * @param {String} options.errorCorrectionLevel Error correction level\n * @param {Function} options.toSJISFunc         Helper func to convert utf8 to sjis\n */\n\n\nvar create = function create(data, options) {\n  if (typeof data === 'undefined' || data === '') {\n    throw new Error('No input text');\n  }\n\n  var errorCorrectionLevel$1 = errorCorrectionLevel.M;\n  var version$1;\n  var mask;\n\n  if (typeof options !== 'undefined') {\n    // Use higher error correction level as default\n    errorCorrectionLevel$1 = errorCorrectionLevel.from(options.errorCorrectionLevel, errorCorrectionLevel.M);\n    version$1 = version.from(options.version);\n    mask = maskPattern.from(options.maskPattern);\n\n    if (options.toSJISFunc) {\n      utils.setToSJISFunction(options.toSJISFunc);\n    }\n  }\n\n  return createSymbol(data, version$1, errorCorrectionLevel$1, mask);\n};\n\nvar qrcode = {\n  create: create\n};\nvar utils$1 = createCommonjsModule(function (module, exports) {\n  function hex2rgba(hex) {\n    if (typeof hex === 'number') {\n      hex = hex.toString();\n    }\n\n    if (typeof hex !== 'string') {\n      throw new Error('Color should be defined as hex string');\n    }\n\n    var hexCode = hex.slice().replace('#', '').split('');\n\n    if (hexCode.length < 3 || hexCode.length === 5 || hexCode.length > 8) {\n      throw new Error('Invalid hex color: ' + hex);\n    } // Convert from short to long form (fff -> ffffff)\n\n\n    if (hexCode.length === 3 || hexCode.length === 4) {\n      hexCode = Array.prototype.concat.apply([], hexCode.map(function (c) {\n        return [c, c];\n      }));\n    } // Add default alpha value\n\n\n    if (hexCode.length === 6) hexCode.push('F', 'F');\n    var hexValue = parseInt(hexCode.join(''), 16);\n    return {\n      r: hexValue >> 24 & 255,\n      g: hexValue >> 16 & 255,\n      b: hexValue >> 8 & 255,\n      a: hexValue & 255,\n      hex: '#' + hexCode.slice(0, 6).join('')\n    };\n  }\n\n  exports.getOptions = function getOptions(options) {\n    if (!options) options = {};\n    if (!options.color) options.color = {};\n    var margin = typeof options.margin === 'undefined' || options.margin === null || options.margin < 0 ? 4 : options.margin;\n    var width = options.width && options.width >= 21 ? options.width : undefined;\n    var scale = options.scale || 4;\n    return {\n      width: width,\n      scale: width ? 4 : scale,\n      margin: margin,\n      color: {\n        dark: hex2rgba(options.color.dark || '#000000ff'),\n        light: hex2rgba(options.color.light || '#ffffffff')\n      },\n      type: options.type,\n      rendererOpts: options.rendererOpts || {}\n    };\n  };\n\n  exports.getScale = function getScale(qrSize, opts) {\n    return opts.width && opts.width >= qrSize + opts.margin * 2 ? opts.width / (qrSize + opts.margin * 2) : opts.scale;\n  };\n\n  exports.getImageWidth = function getImageWidth(qrSize, opts) {\n    var scale = exports.getScale(qrSize, opts);\n    return Math.floor((qrSize + opts.margin * 2) * scale);\n  };\n\n  exports.qrToImageData = function qrToImageData(imgData, qr, opts) {\n    var size = qr.modules.size;\n    var data = qr.modules.data;\n    var scale = exports.getScale(size, opts);\n    var symbolSize = Math.floor((size + opts.margin * 2) * scale);\n    var scaledMargin = opts.margin * scale;\n    var palette = [opts.color.light, opts.color.dark];\n\n    for (var i = 0; i < symbolSize; i++) {\n      for (var j = 0; j < symbolSize; j++) {\n        var posDst = (i * symbolSize + j) * 4;\n        var pxColor = opts.color.light;\n\n        if (i >= scaledMargin && j >= scaledMargin && i < symbolSize - scaledMargin && j < symbolSize - scaledMargin) {\n          var iSrc = Math.floor((i - scaledMargin) / scale);\n          var jSrc = Math.floor((j - scaledMargin) / scale);\n          pxColor = palette[data[iSrc * size + jSrc] ? 1 : 0];\n        }\n\n        imgData[posDst++] = pxColor.r;\n        imgData[posDst++] = pxColor.g;\n        imgData[posDst++] = pxColor.b;\n        imgData[posDst] = pxColor.a;\n      }\n    }\n  };\n});\nvar canvas = createCommonjsModule(function (module, exports) {\n  function clearCanvas(ctx, canvas, size) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    if (!canvas.style) canvas.style = {};\n    canvas.height = size;\n    canvas.width = size;\n    canvas.style.height = size + 'px';\n    canvas.style.width = size + 'px';\n  }\n\n  function getCanvasElement() {\n    try {\n      return document.createElement('canvas');\n    } catch (e) {\n      throw new Error('You need to specify a canvas element');\n    }\n  }\n\n  exports.render = function render(qrData, canvas, options) {\n    var opts = options;\n    var canvasEl = canvas;\n\n    if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n      opts = canvas;\n      canvas = undefined;\n    }\n\n    if (!canvas) {\n      canvasEl = getCanvasElement();\n    }\n\n    opts = utils$1.getOptions(opts);\n    var size = utils$1.getImageWidth(qrData.modules.size, opts);\n    var ctx = canvasEl.getContext('2d');\n    var image = ctx.createImageData(size, size);\n    utils$1.qrToImageData(image.data, qrData, opts);\n    clearCanvas(ctx, canvasEl, size);\n    ctx.putImageData(image, 0, 0);\n    return canvasEl;\n  };\n\n  exports.renderToDataURL = function renderToDataURL(qrData, canvas, options) {\n    var opts = options;\n\n    if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n      opts = canvas;\n      canvas = undefined;\n    }\n\n    if (!opts) opts = {};\n    var canvasEl = exports.render(qrData, canvas, opts);\n    var type = opts.type || 'image/png';\n    var rendererOpts = opts.rendererOpts || {};\n    return canvasEl.toDataURL(type, rendererOpts.quality);\n  };\n});\n\nfunction getColorAttrib(color, attrib) {\n  var alpha = color.a / 255;\n  var str = attrib + '=\"' + color.hex + '\"';\n  return alpha < 1 ? str + ' ' + attrib + '-opacity=\"' + alpha.toFixed(2).slice(1) + '\"' : str;\n}\n\nfunction svgCmd(cmd, x, y) {\n  var str = cmd + x;\n  if (typeof y !== 'undefined') str += ' ' + y;\n  return str;\n}\n\nfunction qrToPath(data, size, margin) {\n  var path = '';\n  var moveBy = 0;\n  var newRow = false;\n  var lineLength = 0;\n\n  for (var i = 0; i < data.length; i++) {\n    var col = Math.floor(i % size);\n    var row = Math.floor(i / size);\n    if (!col && !newRow) newRow = true;\n\n    if (data[i]) {\n      lineLength++;\n\n      if (!(i > 0 && col > 0 && data[i - 1])) {\n        path += newRow ? svgCmd('M', col + margin, 0.5 + row + margin) : svgCmd('m', moveBy, 0);\n        moveBy = 0;\n        newRow = false;\n      }\n\n      if (!(col + 1 < size && data[i + 1])) {\n        path += svgCmd('h', lineLength);\n        lineLength = 0;\n      }\n    } else {\n      moveBy++;\n    }\n  }\n\n  return path;\n}\n\nvar render = function render(qrData, options, cb) {\n  var opts = utils$1.getOptions(options);\n  var size = qrData.modules.size;\n  var data = qrData.modules.data;\n  var qrcodesize = size + opts.margin * 2;\n  var bg = !opts.color.light.a ? '' : '<path ' + getColorAttrib(opts.color.light, 'fill') + ' d=\"M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z\"/>';\n  var path = '<path ' + getColorAttrib(opts.color.dark, 'stroke') + ' d=\"' + qrToPath(data, size, opts.margin) + '\"/>';\n  var viewBox = 'viewBox=\"' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '\"';\n  var width = !opts.width ? '' : 'width=\"' + opts.width + '\" height=\"' + opts.width + '\" ';\n  var svgTag = '<svg xmlns=\"http://www.w3.org/2000/svg\" ' + width + viewBox + ' shape-rendering=\"crispEdges\">' + bg + path + '</svg>\\n';\n\n  if (typeof cb === 'function') {\n    cb(null, svgTag);\n  }\n\n  return svgTag;\n};\n\nvar svgTag = {\n  render: render\n};\n\nfunction renderCanvas(renderFunc, canvas, text, opts, cb) {\n  var args = [].slice.call(arguments, 1);\n  var argsNum = args.length;\n  var isLastArgCb = typeof args[argsNum - 1] === 'function';\n\n  if (!isLastArgCb && !canPromise()) {\n    throw new Error('Callback required as last argument');\n  }\n\n  if (isLastArgCb) {\n    if (argsNum < 2) {\n      throw new Error('Too few arguments provided');\n    }\n\n    if (argsNum === 2) {\n      cb = text;\n      text = canvas;\n      canvas = opts = undefined;\n    } else if (argsNum === 3) {\n      if (canvas.getContext && typeof cb === 'undefined') {\n        cb = opts;\n        opts = undefined;\n      } else {\n        cb = opts;\n        opts = text;\n        text = canvas;\n        canvas = undefined;\n      }\n    }\n  } else {\n    if (argsNum < 1) {\n      throw new Error('Too few arguments provided');\n    }\n\n    if (argsNum === 1) {\n      text = canvas;\n      canvas = opts = undefined;\n    } else if (argsNum === 2 && !canvas.getContext) {\n      opts = text;\n      text = canvas;\n      canvas = undefined;\n    }\n\n    return new Promise(function (resolve, reject) {\n      try {\n        var data = qrcode.create(text, opts);\n        resolve(renderFunc(data, canvas, opts));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  try {\n    var data = qrcode.create(text, opts);\n    cb(null, renderFunc(data, canvas, opts));\n  } catch (e) {\n    cb(e);\n  }\n}\n\nvar create$1 = qrcode.create;\nvar toCanvas = renderCanvas.bind(null, canvas.render);\nvar toDataURL = renderCanvas.bind(null, canvas.renderToDataURL); // only svg for now.\n\nvar toString_1 = renderCanvas.bind(null, function (data, _, opts) {\n  return svgTag.render(data, opts);\n});\nvar browser = {\n  create: create$1,\n  toCanvas: toCanvas,\n  toDataURL: toDataURL,\n  toString: toString_1\n};\nvar amplifyTotpSetupCss = \".totp-setup{text-align:center;margin-bottom:30px}.totp-setup img{height:128px;width:128px}\";\nvar logger = new Logger('TOTP');\n\nvar AmplifyTOTPSetup =\n/** @class */\nfunction () {\n  function class_1(hostRef) {\n    registerInstance(this, hostRef);\n    this.inputProps = {\n      autoFocus: true\n    };\n    /** Auth state change handler for this component */\n\n    this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n    /** Used for header text in totp setup component */\n\n    this.headerText = Translations.TOTP_HEADER_TEXT;\n    /** Used for customizing the issuer string in the qr code image */\n\n    this.issuer = Translations.TOTP_ISSUER;\n    this.code = null;\n    this.setupMessage = null;\n    this.qrCodeInput = null;\n    this.loading = false;\n  }\n\n  class_1.prototype.componentWillLoad = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            /**\n             * We didn't use `@Watch` here because it doesn't fire when we go from require-new-password to totp-setup.\n             * That is because `Auth.completeNewPassword` only changes `user` in place and Watch doesn't detect changes\n             * unless we make a clone.\n             */\n            this.removeHubListener = onAuthUIStateChange(function (authState) {\n              if (authState === AuthState.TOTPSetup) _this.setup();\n            });\n            return [4\n            /*yield*/\n            , this.setup()];\n\n          case 1:\n            _a.sent();\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.disconnectedCallback = function () {\n    this.removeHubListener && this.removeHubListener(); // stop listening to `onAuthUIStateChange`\n  };\n\n  class_1.prototype.buildOtpAuthPath = function (user, issuer, secretKey) {\n    return \"otpauth://totp/\" + issuer + \":\" + user.username + \"?secret=\" + secretKey + \"&issuer=\" + issuer;\n  };\n\n  class_1.prototype.onTOTPEvent = function (event, data, user) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            logger.debug('on totp event', event, data);\n            if (!(event === SETUP_TOTP && data === SUCCESS)) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , checkContact(user, this.handleAuthStateChange)];\n\n          case 1:\n            _a.sent();\n\n            _a.label = 2;\n\n          case 2:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.handleTotpInputChange = function (event) {\n    this.setupMessage = null;\n    this.qrCodeInput = event.target.value;\n  };\n\n  class_1.prototype.generateQRCode = function (codeFromTotp) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, error_1;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _b.trys.push([0, 2,, 3]);\n\n            _a = this;\n            return [4\n            /*yield*/\n            , browser.toDataURL(codeFromTotp)];\n\n          case 1:\n            _a.qrCodeImageSource = _b.sent();\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            error_1 = _b.sent();\n            dispatchToastHubEvent(error_1);\n            return [3\n            /*break*/\n            , 3];\n\n          case 3:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.setup = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var encodedIssuer, secretKey, error_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            // ensure setup is only run once after totp setup is available\n            if (!this.user || this.user.challengeName !== 'MFA_SETUP' || this.loading) return [2\n            /*return*/\n            ];\n            this.setupMessage = null;\n            encodedIssuer = encodeURI(I18n.get(this.issuer));\n\n            if (!Auth || typeof Auth.setupTOTP !== 'function') {\n              throw new Error(NO_AUTH_MODULE_FOUND);\n            }\n\n            this.loading = true;\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , Auth.setupTOTP(this.user)];\n\n          case 2:\n            secretKey = _a.sent();\n            logger.debug('secret key', secretKey);\n            this.code = this.buildOtpAuthPath(this.user, encodedIssuer, secretKey);\n            this.generateQRCode(this.code);\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            error_2 = _a.sent();\n            dispatchToastHubEvent(error_2);\n            logger.debug(I18n.get(Translations.TOTP_SETUP_FAILURE), error_2);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.verifyTotpToken = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var user, error_3;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!this.qrCodeInput) {\n              logger.debug('No TOTP Code provided');\n              return [2\n              /*return*/\n              ];\n            }\n\n            user = this.user;\n\n            if (!Auth || typeof Auth.verifyTotpToken !== 'function' || typeof Auth.setPreferredMFA !== 'function') {\n              throw new Error(NO_AUTH_MODULE_FOUND);\n            }\n\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 5,, 6]);\n\n            return [4\n            /*yield*/\n            , Auth.verifyTotpToken(user, this.qrCodeInput)];\n\n          case 2:\n            _a.sent();\n\n            return [4\n            /*yield*/\n            , Auth.setPreferredMFA(user, MfaOption.TOTP)];\n\n          case 3:\n            _a.sent();\n\n            this.setupMessage = I18n.get(Translations.TOTP_SUCCESS_MESSAGE);\n            logger.debug(I18n.get(Translations.TOTP_SUCCESS_MESSAGE));\n            return [4\n            /*yield*/\n            , this.onTOTPEvent(SETUP_TOTP, SUCCESS, user)];\n\n          case 4:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 6];\n\n          case 5:\n            error_3 = _a.sent();\n            this.setupMessage = I18n.get(Translations.TOTP_SETUP_FAILURE);\n            logger.error(error_3);\n            return [3\n            /*break*/\n            , 6];\n\n          case 6:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.render = function () {\n    var _this = this;\n\n    return h(Host, null, h(\"amplify-form-section\", {\n      headerText: I18n.get(this.headerText),\n      submitButtonText: I18n.get(Translations.TOTP_SUBMIT_BUTTON_TEXT),\n      handleSubmit: function handleSubmit(event) {\n        return _this.verifyTotpToken(event);\n      },\n      loading: this.loading\n    }, h(\"div\", {\n      class: \"totp-setup\"\n    }, this.qrCodeImageSource && h(\"img\", {\n      src: this.qrCodeImageSource,\n      alt: I18n.get(Translations.QR_CODE_ALT)\n    }), h(\"amplify-form-field\", {\n      label: I18n.get(Translations.TOTP_LABEL),\n      inputProps: this.inputProps,\n      fieldId: \"totpCode\",\n      name: \"totpCode\",\n      handleInputChange: function handleInputChange(event) {\n        return _this.handleTotpInputChange(event);\n      }\n    }))));\n  };\n\n  return class_1;\n}();\n\nAmplifyTOTPSetup.style = amplifyTotpSetupCss;\nexport { AmplifyRadioButton as amplify_radio_button, AmplifyTOTPSetup as amplify_totp_setup };","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { Logger, isEmpty } from '@aws-amplify/core';\nimport { A as AuthState, C as ChallengeName } from './auth-types-78df304e.js';\nimport { Auth, CognitoUser } from '@aws-amplify/auth';\nimport { T as Translations } from './Translations-c833f663.js';\nimport { N as NO_AUTH_MODULE_FOUND } from './constants-d1abe7de.js';\nimport { a as dispatchToastHubEvent } from './helpers-82822fb2.js';\nvar logger = new Logger('auth-helpers');\n\nfunction checkContact(user, handleAuthStateChange) {\n  return __awaiter(this, void 0, void 0, function () {\n    var data, newUser, error_1;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!Auth || typeof Auth.verifiedContact !== 'function') {\n            throw new Error(NO_AUTH_MODULE_FOUND);\n          } // If `user` is a federated user, we shouldn't call `verifiedContact`\n          // since `user` isn't `CognitoUser`\n\n\n          if (!isCognitoUser(user)) {\n            handleAuthStateChange(AuthState.SignedIn, user);\n            return [2\n            /*return*/\n            ];\n          }\n\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 3,, 4]);\n\n          return [4\n          /*yield*/\n          , Auth.verifiedContact(user)];\n\n        case 2:\n          data = _a.sent();\n\n          if (!isEmpty(data.verified) || isEmpty(data.unverified)) {\n            handleAuthStateChange(AuthState.SignedIn, user);\n          } else {\n            newUser = Object.assign(user, data);\n            handleAuthStateChange(AuthState.VerifyContact, newUser);\n          }\n\n          return [3\n          /*break*/\n          , 4];\n\n        case 3:\n          error_1 = _a.sent();\n          dispatchToastHubEvent(error_1);\n          return [3\n          /*break*/\n          , 4];\n\n        case 4:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n\nvar handleSignIn = function handleSignIn(username, password, handleAuthStateChange) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var user, error_2;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!Auth || typeof Auth.signIn !== 'function') {\n            throw new Error(NO_AUTH_MODULE_FOUND);\n          }\n\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 9,, 10]);\n\n          return [4\n          /*yield*/\n          , Auth.signIn(username, password)];\n\n        case 2:\n          user = _a.sent();\n          logger.debug(user);\n          if (!(user.challengeName === ChallengeName.SMSMFA || user.challengeName === ChallengeName.SoftwareTokenMFA)) return [3\n          /*break*/\n          , 3];\n          logger.debug('confirm user with ' + user.challengeName);\n          handleAuthStateChange(AuthState.ConfirmSignIn, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 3:\n          if (!(user.challengeName === ChallengeName.NewPasswordRequired)) return [3\n          /*break*/\n          , 4];\n          logger.debug('require new password', user.challengeParam);\n          handleAuthStateChange(AuthState.ResetPassword, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 4:\n          if (!(user.challengeName === ChallengeName.MFASetup)) return [3\n          /*break*/\n          , 5];\n          logger.debug('TOTP setup', user.challengeParam);\n          handleAuthStateChange(AuthState.TOTPSetup, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 5:\n          if (!(user.challengeName === ChallengeName.CustomChallenge && user.challengeParam && user.challengeParam.trigger === 'true')) return [3\n          /*break*/\n          , 6];\n          logger.debug('custom challenge', user.challengeParam);\n          handleAuthStateChange(AuthState.CustomConfirmSignIn, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 6:\n          return [4\n          /*yield*/\n          , checkContact(user, handleAuthStateChange)];\n\n        case 7:\n          _a.sent();\n\n          _a.label = 8;\n\n        case 8:\n          return [3\n          /*break*/\n          , 10];\n\n        case 9:\n          error_2 = _a.sent();\n\n          if (error_2.code === 'UserNotConfirmedException') {\n            logger.debug('the user is not confirmed');\n            handleAuthStateChange(AuthState.ConfirmSignUp, {\n              username: username\n            });\n          } else if (error_2.code === 'PasswordResetRequiredException') {\n            logger.debug('the user requires a new password');\n            handleAuthStateChange(AuthState.ForgotPassword, {\n              username: username\n            });\n          } else if (error_2.code === 'InvalidParameterException' && password === '') {\n            logger.debug('Password cannot be empty');\n            error_2.message = Translations.EMPTY_PASSWORD;\n          }\n\n          dispatchToastHubEvent(error_2);\n          return [3\n          /*break*/\n          , 10];\n\n        case 10:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar isCognitoUser = function isCognitoUser(user) {\n  return user instanceof CognitoUser;\n};\n\nexport { checkContact as c, handleSignIn as h };","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n/* eslint-disable no-proto */\n'use strict';\n\nvar base64 = require('base64-js');\n\nvar ieee754 = require('ieee754');\n\nvar customInspectSymbol = typeof Symbol === 'function' && typeof Symbol['for'] === 'function' ? // eslint-disable-line dot-notation\nSymbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n: null;\nexports.Buffer = Buffer;\nexports.SlowBuffer = SlowBuffer;\nexports.INSPECT_MAX_BYTES = 50;\nvar K_MAX_LENGTH = 0x7fffffff;\nexports.kMaxLength = K_MAX_LENGTH;\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\n\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport();\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' && typeof console.error === 'function') {\n  console.error('This browser lacks typed array (Uint8Array) support which is required by ' + '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.');\n}\n\nfunction typedArraySupport() {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1);\n    var proto = {\n      foo: function foo() {\n        return 42;\n      }\n    };\n    Object.setPrototypeOf(proto, Uint8Array.prototype);\n    Object.setPrototypeOf(arr, proto);\n    return arr.foo() === 42;\n  } catch (e) {\n    return false;\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function get() {\n    if (!Buffer.isBuffer(this)) return undefined;\n    return this.buffer;\n  }\n});\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function get() {\n    if (!Buffer.isBuffer(this)) return undefined;\n    return this.byteOffset;\n  }\n});\n\nfunction createBuffer(length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"');\n  } // Return an augmented `Uint8Array` instance\n\n\n  var buf = new Uint8Array(length);\n  Object.setPrototypeOf(buf, Buffer.prototype);\n  return buf;\n}\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\n\nfunction Buffer(arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError('The \"string\" argument must be of type string. Received type number');\n    }\n\n    return allocUnsafe(arg);\n  }\n\n  return from(arg, encodingOrOffset, length);\n}\n\nBuffer.poolSize = 8192; // not used by this implementation\n\nfunction from(value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset);\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value);\n  }\n\n  if (value == null) {\n    throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' + 'or Array-like Object. Received type ' + typeof value);\n  }\n\n  if (isInstance(value, ArrayBuffer) || value && isInstance(value.buffer, ArrayBuffer)) {\n    return fromArrayBuffer(value, encodingOrOffset, length);\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' && (isInstance(value, SharedArrayBuffer) || value && isInstance(value.buffer, SharedArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length);\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError('The \"value\" argument must not be of type number. Received type number');\n  }\n\n  var valueOf = value.valueOf && value.valueOf();\n\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length);\n  }\n\n  var b = fromObject(value);\n  if (b) return b;\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null && typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length);\n  }\n\n  throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' + 'or Array-like Object. Received type ' + typeof value);\n}\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\n\n\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length);\n}; // Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\n\n\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype);\nObject.setPrototypeOf(Buffer, Uint8Array);\n\nfunction assertSize(size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number');\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"');\n  }\n}\n\nfunction alloc(size, fill, encoding) {\n  assertSize(size);\n\n  if (size <= 0) {\n    return createBuffer(size);\n  }\n\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string' ? createBuffer(size).fill(fill, encoding) : createBuffer(size).fill(fill);\n  }\n\n  return createBuffer(size);\n}\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\n\n\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding);\n};\n\nfunction allocUnsafe(size) {\n  assertSize(size);\n  return createBuffer(size < 0 ? 0 : checked(size) | 0);\n}\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\n\n\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size);\n};\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\n\n\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size);\n};\n\nfunction fromString(string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8';\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding);\n  }\n\n  var length = byteLength(string, encoding) | 0;\n  var buf = createBuffer(length);\n  var actual = buf.write(string, encoding);\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual);\n  }\n\n  return buf;\n}\n\nfunction fromArrayLike(array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0;\n  var buf = createBuffer(length);\n\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255;\n  }\n\n  return buf;\n}\n\nfunction fromArrayView(arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView);\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength);\n  }\n\n  return fromArrayLike(arrayView);\n}\n\nfunction fromArrayBuffer(array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds');\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds');\n  }\n\n  var buf;\n\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array);\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset);\n  } else {\n    buf = new Uint8Array(array, byteOffset, length);\n  } // Return an augmented `Uint8Array` instance\n\n\n  Object.setPrototypeOf(buf, Buffer.prototype);\n  return buf;\n}\n\nfunction fromObject(obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0;\n    var buf = createBuffer(len);\n\n    if (buf.length === 0) {\n      return buf;\n    }\n\n    obj.copy(buf, 0, 0, len);\n    return buf;\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0);\n    }\n\n    return fromArrayLike(obj);\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data);\n  }\n}\n\nfunction checked(length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes');\n  }\n\n  return length | 0;\n}\n\nfunction SlowBuffer(length) {\n  if (+length != length) {\n    // eslint-disable-line eqeqeq\n    length = 0;\n  }\n\n  return Buffer.alloc(+length);\n}\n\nBuffer.isBuffer = function isBuffer(b) {\n  return b != null && b._isBuffer === true && b !== Buffer.prototype; // so Buffer.isBuffer(Buffer.prototype) will be false\n};\n\nBuffer.compare = function compare(a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength);\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength);\n\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');\n  }\n\n  if (a === b) return 0;\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n};\n\nBuffer.isEncoding = function isEncoding(encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nBuffer.concat = function concat(list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers');\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0);\n  }\n\n  var i;\n\n  if (length === undefined) {\n    length = 0;\n\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length;\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length);\n  var pos = 0;\n\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i];\n\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos);\n      } else {\n        Uint8Array.prototype.set.call(buffer, buf, pos);\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers');\n    } else {\n      buf.copy(buffer, pos);\n    }\n\n    pos += buf.length;\n  }\n\n  return buffer;\n};\n\nfunction byteLength(string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length;\n  }\n\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength;\n  }\n\n  if (typeof string !== 'string') {\n    throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' + 'Received type ' + typeof string);\n  }\n\n  var len = string.length;\n  var mustMatch = arguments.length > 2 && arguments[2] === true;\n  if (!mustMatch && len === 0) return 0; // Use a for loop to avoid recursion\n\n  var loweredCase = false;\n\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len;\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length;\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2;\n\n      case 'hex':\n        return len >>> 1;\n\n      case 'base64':\n        return base64ToBytes(string).length;\n\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length; // assume utf8\n        }\n\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n}\n\nBuffer.byteLength = byteLength;\n\nfunction slowToString(encoding, start, end) {\n  var loweredCase = false; // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n\n  if (start === undefined || start < 0) {\n    start = 0;\n  } // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n\n\n  if (start > this.length) {\n    return '';\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length;\n  }\n\n  if (end <= 0) {\n    return '';\n  } // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n\n\n  end >>>= 0;\n  start >>>= 0;\n\n  if (end <= start) {\n    return '';\n  }\n\n  if (!encoding) encoding = 'utf8';\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end);\n\n      case 'ascii':\n        return asciiSlice(this, start, end);\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end);\n\n      case 'base64':\n        return base64Slice(this, start, end);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = (encoding + '').toLowerCase();\n        loweredCase = true;\n    }\n  }\n} // This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\n\n\nBuffer.prototype._isBuffer = true;\n\nfunction swap(b, n, m) {\n  var i = b[n];\n  b[n] = b[m];\n  b[m] = i;\n}\n\nBuffer.prototype.swap16 = function swap16() {\n  var len = this.length;\n\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits');\n  }\n\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1);\n  }\n\n  return this;\n};\n\nBuffer.prototype.swap32 = function swap32() {\n  var len = this.length;\n\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits');\n  }\n\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3);\n    swap(this, i + 1, i + 2);\n  }\n\n  return this;\n};\n\nBuffer.prototype.swap64 = function swap64() {\n  var len = this.length;\n\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits');\n  }\n\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7);\n    swap(this, i + 1, i + 6);\n    swap(this, i + 2, i + 5);\n    swap(this, i + 3, i + 4);\n  }\n\n  return this;\n};\n\nBuffer.prototype.toString = function toString() {\n  var length = this.length;\n  if (length === 0) return '';\n  if (arguments.length === 0) return utf8Slice(this, 0, length);\n  return slowToString.apply(this, arguments);\n};\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString;\n\nBuffer.prototype.equals = function equals(b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');\n  if (this === b) return true;\n  return Buffer.compare(this, b) === 0;\n};\n\nBuffer.prototype.inspect = function inspect() {\n  var str = '';\n  var max = exports.INSPECT_MAX_BYTES;\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim();\n  if (this.length > max) str += ' ... ';\n  return '<Buffer ' + str + '>';\n};\n\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect;\n}\n\nBuffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength);\n  }\n\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. ' + 'Received type ' + typeof target);\n  }\n\n  if (start === undefined) {\n    start = 0;\n  }\n\n  if (end === undefined) {\n    end = target ? target.length : 0;\n  }\n\n  if (thisStart === undefined) {\n    thisStart = 0;\n  }\n\n  if (thisEnd === undefined) {\n    thisEnd = this.length;\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index');\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0;\n  }\n\n  if (thisStart >= thisEnd) {\n    return -1;\n  }\n\n  if (start >= end) {\n    return 1;\n  }\n\n  start >>>= 0;\n  end >>>= 0;\n  thisStart >>>= 0;\n  thisEnd >>>= 0;\n  if (this === target) return 0;\n  var x = thisEnd - thisStart;\n  var y = end - start;\n  var len = Math.min(x, y);\n  var thisCopy = this.slice(thisStart, thisEnd);\n  var targetCopy = target.slice(start, end);\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i];\n      y = targetCopy[i];\n      break;\n    }\n  }\n\n  if (x < y) return -1;\n  if (y < x) return 1;\n  return 0;\n}; // Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\n\n\nfunction bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1; // Normalize byteOffset\n\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset;\n    byteOffset = 0;\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff;\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000;\n  }\n\n  byteOffset = +byteOffset; // Coerce to Number.\n\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : buffer.length - 1;\n  } // Normalize byteOffset: negative offsets start from the end of the buffer\n\n\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1;else byteOffset = buffer.length - 1;\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0;else return -1;\n  } // Normalize val\n\n\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding);\n  } // Finally, search either indexOf (if dir is true) or lastIndexOf\n\n\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1;\n    }\n\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n  } else if (typeof val === 'number') {\n    val = val & 0xFF; // Search for a byte value [0-255]\n\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n      }\n    }\n\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n  }\n\n  throw new TypeError('val must be string, number or Buffer');\n}\n\nfunction arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1;\n  var arrLength = arr.length;\n  var valLength = val.length;\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase();\n\n    if (encoding === 'ucs2' || encoding === 'ucs-2' || encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1;\n      }\n\n      indexSize = 2;\n      arrLength /= 2;\n      valLength /= 2;\n      byteOffset /= 2;\n    }\n  }\n\n  function read(buf, i) {\n    if (indexSize === 1) {\n      return buf[i];\n    } else {\n      return buf.readUInt16BE(i * indexSize);\n    }\n  }\n\n  var i;\n\n  if (dir) {\n    var foundIndex = -1;\n\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i;\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex;\n        foundIndex = -1;\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true;\n\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false;\n          break;\n        }\n      }\n\n      if (found) return i;\n    }\n  }\n\n  return -1;\n}\n\nBuffer.prototype.includes = function includes(val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1;\n};\n\nBuffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n};\n\nBuffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n};\n\nfunction hexWrite(buf, string, offset, length) {\n  offset = Number(offset) || 0;\n  var remaining = buf.length - offset;\n\n  if (!length) {\n    length = remaining;\n  } else {\n    length = Number(length);\n\n    if (length > remaining) {\n      length = remaining;\n    }\n  }\n\n  var strLen = string.length;\n\n  if (length > strLen / 2) {\n    length = strLen / 2;\n  }\n\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16);\n    if (numberIsNaN(parsed)) return i;\n    buf[offset + i] = parsed;\n  }\n\n  return i;\n}\n\nfunction utf8Write(buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nfunction asciiWrite(buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length);\n}\n\nfunction base64Write(buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length);\n}\n\nfunction ucs2Write(buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nBuffer.prototype.write = function write(string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8';\n    length = this.length;\n    offset = 0; // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset;\n    length = this.length;\n    offset = 0; // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0;\n\n    if (isFinite(length)) {\n      length = length >>> 0;\n      if (encoding === undefined) encoding = 'utf8';\n    } else {\n      encoding = length;\n      length = undefined;\n    }\n  } else {\n    throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');\n  }\n\n  var remaining = this.length - offset;\n  if (length === undefined || length > remaining) length = remaining;\n\n  if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds');\n  }\n\n  if (!encoding) encoding = 'utf8';\n  var loweredCase = false;\n\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length);\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length);\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length);\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length);\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length);\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n        encoding = ('' + encoding).toLowerCase();\n        loweredCase = true;\n    }\n  }\n};\n\nBuffer.prototype.toJSON = function toJSON() {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  };\n};\n\nfunction base64Slice(buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf);\n  } else {\n    return base64.fromByteArray(buf.slice(start, end));\n  }\n}\n\nfunction utf8Slice(buf, start, end) {\n  end = Math.min(buf.length, end);\n  var res = [];\n  var i = start;\n\n  while (i < end) {\n    var firstByte = buf[i];\n    var codePoint = null;\n    var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte;\n          }\n\n          break;\n\n        case 2:\n          secondByte = buf[i + 1];\n\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n          break;\n\n        case 3:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n          break;\n\n        case 4:\n          secondByte = buf[i + 1];\n          thirdByte = buf[i + 2];\n          fourthByte = buf[i + 3];\n\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint;\n            }\n          }\n\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD;\n      bytesPerSequence = 1;\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000;\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n      codePoint = 0xDC00 | codePoint & 0x3FF;\n    }\n\n    res.push(codePoint);\n    i += bytesPerSequence;\n  }\n\n  return decodeCodePointsArray(res);\n} // Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\n\n\nvar MAX_ARGUMENTS_LENGTH = 0x1000;\n\nfunction decodeCodePointsArray(codePoints) {\n  var len = codePoints.length;\n\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints); // avoid extra slice()\n  } // Decode in chunks to avoid \"call stack size exceeded\".\n\n\n  var res = '';\n  var i = 0;\n\n  while (i < len) {\n    res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n  }\n\n  return res;\n}\n\nfunction asciiSlice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F);\n  }\n\n  return ret;\n}\n\nfunction latin1Slice(buf, start, end) {\n  var ret = '';\n  end = Math.min(buf.length, end);\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i]);\n  }\n\n  return ret;\n}\n\nfunction hexSlice(buf, start, end) {\n  var len = buf.length;\n  if (!start || start < 0) start = 0;\n  if (!end || end < 0 || end > len) end = len;\n  var out = '';\n\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]];\n  }\n\n  return out;\n}\n\nfunction utf16leSlice(buf, start, end) {\n  var bytes = buf.slice(start, end);\n  var res = ''; // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n  }\n\n  return res;\n}\n\nBuffer.prototype.slice = function slice(start, end) {\n  var len = this.length;\n  start = ~~start;\n  end = end === undefined ? len : ~~end;\n\n  if (start < 0) {\n    start += len;\n    if (start < 0) start = 0;\n  } else if (start > len) {\n    start = len;\n  }\n\n  if (end < 0) {\n    end += len;\n    if (end < 0) end = 0;\n  } else if (end > len) {\n    end = len;\n  }\n\n  if (end < start) end = start;\n  var newBuf = this.subarray(start, end); // Return an augmented `Uint8Array` instance\n\n  Object.setPrototypeOf(newBuf, Buffer.prototype);\n  return newBuf;\n};\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\n\n\nfunction checkOffset(offset, ext, length) {\n  if (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');\n}\n\nBuffer.prototype.readUintLE = Buffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n  offset = offset >>> 0;\n  byteLength = byteLength >>> 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  return val;\n};\n\nBuffer.prototype.readUintBE = Buffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n  offset = offset >>> 0;\n  byteLength = byteLength >>> 0;\n\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length);\n  }\n\n  var val = this[offset + --byteLength];\n  var mul = 1;\n\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul;\n  }\n\n  return val;\n};\n\nBuffer.prototype.readUint8 = Buffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  return this[offset];\n};\n\nBuffer.prototype.readUint16LE = Buffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] | this[offset + 1] << 8;\n};\n\nBuffer.prototype.readUint16BE = Buffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  return this[offset] << 8 | this[offset + 1];\n};\n\nBuffer.prototype.readUint32LE = Buffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;\n};\n\nBuffer.prototype.readUint32BE = Buffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n};\n\nBuffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n  offset = offset >>> 0;\n  byteLength = byteLength >>> 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var val = this[offset];\n  var mul = 1;\n  var i = 0;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul;\n  }\n\n  mul *= 0x80;\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n  return val;\n};\n\nBuffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n  offset = offset >>> 0;\n  byteLength = byteLength >>> 0;\n  if (!noAssert) checkOffset(offset, byteLength, this.length);\n  var i = byteLength;\n  var mul = 1;\n  var val = this[offset + --i];\n\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul;\n  }\n\n  mul *= 0x80;\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n  return val;\n};\n\nBuffer.prototype.readInt8 = function readInt8(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 1, this.length);\n  if (!(this[offset] & 0x80)) return this[offset];\n  return (0xff - this[offset] + 1) * -1;\n};\n\nBuffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset] | this[offset + 1] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 2, this.length);\n  var val = this[offset + 1] | this[offset] << 8;\n  return val & 0x8000 ? val | 0xFFFF0000 : val;\n};\n\nBuffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n};\n\nBuffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n};\n\nBuffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return ieee754.read(this, offset, true, 23, 4);\n};\n\nBuffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 4, this.length);\n  return ieee754.read(this, offset, false, 23, 4);\n};\n\nBuffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return ieee754.read(this, offset, true, 52, 8);\n};\n\nBuffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n  offset = offset >>> 0;\n  if (!noAssert) checkOffset(offset, 8, this.length);\n  return ieee754.read(this, offset, false, 52, 8);\n};\n\nfunction checkInt(buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds');\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n}\n\nBuffer.prototype.writeUintLE = Buffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n  byteLength = byteLength >>> 0;\n\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var mul = 1;\n  var i = 0;\n  this[offset] = value & 0xFF;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeUintBE = Buffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n  byteLength = byteLength >>> 0;\n\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n    checkInt(this, value, offset, byteLength, maxBytes, 0);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  this[offset + i] = value & 0xFF;\n\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = value / mul & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeUint8 = Buffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nBuffer.prototype.writeUint16LE = Buffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n  this[offset] = value & 0xff;\n  this[offset + 1] = value >>> 8;\n  return offset + 2;\n};\n\nBuffer.prototype.writeUint16BE = Buffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n  this[offset] = value >>> 8;\n  this[offset + 1] = value & 0xff;\n  return offset + 2;\n};\n\nBuffer.prototype.writeUint32LE = Buffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n  this[offset + 3] = value >>> 24;\n  this[offset + 2] = value >>> 16;\n  this[offset + 1] = value >>> 8;\n  this[offset] = value & 0xff;\n  return offset + 4;\n};\n\nBuffer.prototype.writeUint32BE = Buffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n  this[offset] = value >>> 24;\n  this[offset + 1] = value >>> 16;\n  this[offset + 2] = value >>> 8;\n  this[offset + 3] = value & 0xff;\n  return offset + 4;\n};\n\nBuffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = 0;\n  var mul = 1;\n  var sub = 0;\n  this[offset] = value & 0xFF;\n\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1;\n    }\n\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1);\n    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n  }\n\n  var i = byteLength - 1;\n  var mul = 1;\n  var sub = 0;\n  this[offset + i] = value & 0xFF;\n\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1;\n    }\n\n    this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n  }\n\n  return offset + byteLength;\n};\n\nBuffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n  if (value < 0) value = 0xff + value + 1;\n  this[offset] = value & 0xff;\n  return offset + 1;\n};\n\nBuffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n  this[offset] = value & 0xff;\n  this[offset + 1] = value >>> 8;\n  return offset + 2;\n};\n\nBuffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n  this[offset] = value >>> 8;\n  this[offset + 1] = value & 0xff;\n  return offset + 2;\n};\n\nBuffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  this[offset] = value & 0xff;\n  this[offset + 1] = value >>> 8;\n  this[offset + 2] = value >>> 16;\n  this[offset + 3] = value >>> 24;\n  return offset + 4;\n};\n\nBuffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n  if (value < 0) value = 0xffffffff + value + 1;\n  this[offset] = value >>> 24;\n  this[offset + 1] = value >>> 16;\n  this[offset + 2] = value >>> 8;\n  this[offset + 3] = value & 0xff;\n  return offset + 4;\n};\n\nfunction checkIEEE754(buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range');\n  if (offset < 0) throw new RangeError('Index out of range');\n}\n\nfunction writeFloat(buf, value, offset, littleEndian, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);\n  }\n\n  ieee754.write(buf, value, offset, littleEndian, 23, 4);\n  return offset + 4;\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert);\n};\n\nBuffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert);\n};\n\nfunction writeDouble(buf, value, offset, littleEndian, noAssert) {\n  value = +value;\n  offset = offset >>> 0;\n\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);\n  }\n\n  ieee754.write(buf, value, offset, littleEndian, 52, 8);\n  return offset + 8;\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert);\n};\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert);\n}; // copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n\n\nBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer');\n  if (!start) start = 0;\n  if (!end && end !== 0) end = this.length;\n  if (targetStart >= target.length) targetStart = target.length;\n  if (!targetStart) targetStart = 0;\n  if (end > 0 && end < start) end = start; // Copy 0 bytes; we're done\n\n  if (end === start) return 0;\n  if (target.length === 0 || this.length === 0) return 0; // Fatal error conditions\n\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds');\n  }\n\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range');\n  if (end < 0) throw new RangeError('sourceEnd out of bounds'); // Are we oob?\n\n  if (end > this.length) end = this.length;\n\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start;\n  }\n\n  var len = end - start;\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end);\n  } else {\n    Uint8Array.prototype.set.call(target, this.subarray(start, end), targetStart);\n  }\n\n  return len;\n}; // Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\n\n\nBuffer.prototype.fill = function fill(val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start;\n      start = 0;\n      end = this.length;\n    } else if (typeof end === 'string') {\n      encoding = end;\n      end = this.length;\n    }\n\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string');\n    }\n\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding);\n    }\n\n    if (val.length === 1) {\n      var code = val.charCodeAt(0);\n\n      if (encoding === 'utf8' && code < 128 || encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code;\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255;\n  } else if (typeof val === 'boolean') {\n    val = Number(val);\n  } // Invalid ranges are not set to a default, so can range check early.\n\n\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index');\n  }\n\n  if (end <= start) {\n    return this;\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? this.length : end >>> 0;\n  if (!val) val = 0;\n  var i;\n\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val;\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val) ? val : Buffer.from(val, encoding);\n    var len = bytes.length;\n\n    if (len === 0) {\n      throw new TypeError('The value \"' + val + '\" is invalid for argument \"value\"');\n    }\n\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len];\n    }\n  }\n\n  return this;\n}; // HELPER FUNCTIONS\n// ================\n\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g;\n\nfunction base64clean(str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]; // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n\n  str = str.trim().replace(INVALID_BASE64_RE, ''); // Node converts strings with length < 2 to ''\n\n  if (str.length < 2) return ''; // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n\n  while (str.length % 4 !== 0) {\n    str = str + '=';\n  }\n\n  return str;\n}\n\nfunction utf8ToBytes(string, units) {\n  units = units || Infinity;\n  var codePoint;\n  var length = string.length;\n  var leadSurrogate = null;\n  var bytes = [];\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i); // is surrogate component\n\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } // valid lead\n\n\n        leadSurrogate = codePoint;\n        continue;\n      } // 2 leads in a row\n\n\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        leadSurrogate = codePoint;\n        continue;\n      } // valid surrogate pair\n\n\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n    }\n\n    leadSurrogate = null; // encode utf8\n\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break;\n      bytes.push(codePoint);\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break;\n      bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break;\n      bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break;\n      bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else {\n      throw new Error('Invalid code point');\n    }\n  }\n\n  return bytes;\n}\n\nfunction asciiToBytes(str) {\n  var byteArray = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF);\n  }\n\n  return byteArray;\n}\n\nfunction utf16leToBytes(str, units) {\n  var c, hi, lo;\n  var byteArray = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break;\n    c = str.charCodeAt(i);\n    hi = c >> 8;\n    lo = c % 256;\n    byteArray.push(lo);\n    byteArray.push(hi);\n  }\n\n  return byteArray;\n}\n\nfunction base64ToBytes(str) {\n  return base64.toByteArray(base64clean(str));\n}\n\nfunction blitBuffer(src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if (i + offset >= dst.length || i >= src.length) break;\n    dst[i + offset] = src[i];\n  }\n\n  return i;\n} // ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\n\n\nfunction isInstance(obj, type) {\n  return obj instanceof type || obj != null && obj.constructor != null && obj.constructor.name != null && obj.constructor.name === type.name;\n}\n\nfunction numberIsNaN(obj) {\n  // For IE11 support\n  return obj !== obj; // eslint-disable-line no-self-compare\n} // Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\n\n\nvar hexSliceLookupTable = function () {\n  var alphabet = '0123456789abcdef';\n  var table = new Array(256);\n\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16;\n\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j];\n    }\n  }\n\n  return table;\n}();"],"sourceRoot":""}